<!-- Chosen Palette: "Architectural Blueprint" - Slate Blue (#0f172a), Engineering Orange (#f97316), Success Green (#10b981), and Warning Red (#ef4444) for risk assessment. -->

<!-- Application Structure Plan:
    AplicaÈ›ia este construitÄƒ ca o "Matrice DecizionalÄƒ pentru ArhitecÈ›i Software" (CTO / Lead Dev Dashboard).
    Nu este doar o lecÈ›ie, ci un instrument de evaluare a tehnologiei.
    
    StructurÄƒ:
    1.  **Sidebar de Navigare (Traseul Decizional):** GhideazÄƒ utilizatorul prin etapele evaluÄƒrii unei tehnologii:
        * DefiniÈ›ie & Context (Ce este cu adevÄƒrat?)
        * Analiza ROI (Argumente Pro - Return on Investment)
        * Analiza Riscurilor (Argumente Contra - Costuri)
        * Laborator Comparativ (Vanilla JS vs React)
        * Verdictul (Matricea "CÃ¢nd sÄƒ folosim")
    
    2.  **Zona PrincipalÄƒ (Viewprt):**
        * **DocumentaÈ›ie ExecutivÄƒ:** Text detaliat, profesional, bazat pe sursa "1a De ce sÄƒ folosim React", structurat pe piloni (Colocalizare, Ecosistem, TypeScript).
        * **Code Diff Viewer:** Un editor split-screen care comparÄƒ direct abordarea imperativÄƒ (jQuery/Vanilla) cu cea declarativÄƒ (React) pentru acelaÈ™i feature.
        * **VizualizÄƒri Interactive:**
            * *Complexity/Utility Graph:* Grafic Chart.js care aratÄƒ punctul de inflexiune unde React devine mai eficient decÃ¢t Vanilla JS.
            * *Component Composition Builder:* Vizualizare a modului Ã®n care UI-ul este compus (Atomic Design).
    
    InteracÈ›iuni:
    * Toggle Ã®ntre "Thinking in JS" È™i "Thinking in React".
    * Simulator de "Refactoring": CÃ¢t de greu e sÄƒ muÈ›i un buton Ã®n Vanilla vs React.
    * Filtru de Scenarii: Utilizatorul selecteazÄƒ tipul proiectului (ex: "Site Prezentare" vs "SaaS Dashboard") È™i primeÈ™te o recomandare.
-->

<!-- Visualization & Content Choices:
    1.  **Complexity vs. App Size (Chart.js):**
        * Scop: Vizualizarea argumentului "Overkill".
        * MetodÄƒ: Line Chart.
        * De ce: DemonstreazÄƒ vizual cÄƒ React are un cost iniÈ›ial mare (tooling), dar curba de mentenanÈ›Äƒ este mai platÄƒ pe mÄƒsurÄƒ ce aplicaÈ›ia creÈ™te, spre deosebire de Vanilla JS care devine exponenÈ›ial mai greu de gestionat ("Spaghetti Code").
    
    2.  **Declarative vs Imperative DOM Manipulation:**
        * Scop: Explicarea diferenÈ›ei mentale.
        * MetodÄƒ: AnimaÈ›ie Canvas/DOM.
        * De ce: AratÄƒ cum Vanilla JS necesitÄƒ paÈ™i manuali (select -> update -> append), Ã®n timp ce React necesitÄƒ doar schimbarea stÄƒrii.

    3.  **Code Smell Detector (Concept):**
        * Scop: EvidenÈ›ierea riscurilor (sursa Ferreira & Valente).
        * MetodÄƒ: Card-uri interactive care explicÄƒ "Prop Drilling" sau "Huge Components".
-->

<!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>De ce React? AnalizÄƒ ArhitecturalÄƒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@300;400;700&family=JetBrains+Mono:wght@400;700&family=Inter:wght@300;400;600&display=swap');

        :root {
            --bg-dark: #0f172a;
            --bg-panel: #1e293b;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --accent-blue: #3b82f6;
            --accent-orange: #f97316;
            --code-bg: #0d1117;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-primary);
            overflow: hidden;
        }

        .font-serif-heading {
            font-family: 'Roboto Slab', serif;
        }

        .font-code {
            font-family: 'JetBrains Mono', monospace;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: var(--bg-dark);
        }
        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }

        /* Chart Container */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            height: 350px;
            margin: 0 auto;
        }

        /* Syntax Highlighting Mock */
        .token-keyword { color: #ff7b72; }
        .token-function { color: #d2a8ff; }
        .token-string { color: #a5d6ff; }
        .token-tag { color: #7ee787; }
        .token-attr { color: #79c0ff; }
        .token-comment { color: #8b949e; font-style: italic; }

        /* Animation Classes */
        .fade-enter {
            opacity: 0;
            transform: translateY(10px);
            animation: enter 0.5s forwards;
        }
        @keyframes enter {
            to { opacity: 1; transform: translateY(0); }
        }

        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .code-diff-container {
            display: grid;
            grid-template-columns: 1fr;
        }
        @media (min-width: 768px) {
            .code-diff-container {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body class="flex h-screen flex-col lg:flex-row">

    <!-- Sidebar Navigation -->
    <nav class="w-full lg:w-72 bg-[#020617] border-r border-slate-800 flex flex-col h-16 lg:h-full z-20 flex-shrink-0">
        <div class="p-6 border-b border-slate-800 flex items-center gap-3">
            <div class="w-8 h-8 bg-blue-600 rounded flex items-center justify-center font-bold text-white">R</div>
            <div>
                <h1 class="font-bold text-white text-sm tracking-widest uppercase">Decision<span class="text-blue-500">Matrix</span></h1>
                <p class="text-[10px] text-slate-500">Evaluare ArhitecturalÄƒ v1.0</p>
            </div>
        </div>
        
        <!-- Mobile Menu Toggle (Hidden on Desktop) -->
        <button id="mobile-menu-btn" class="lg:hidden absolute right-4 top-4 text-slate-400">
            â˜°
        </button>

        <!-- Menu Items -->
        <div class="flex-1 overflow-y-auto py-6 px-3 space-y-2 hidden lg:block" id="sidebar-menu">
            <!-- Injected via JS -->
        </div>

        <div class="p-4 border-t border-slate-800 hidden lg:block">
            <div class="bg-slate-800/50 rounded p-3 text-xs text-slate-400 border border-slate-700">
                <span class="block font-bold text-slate-200 mb-1">Sursa Analizei:</span>
                "De ce sÄƒ folosim React.docx"
                <br><span class="opacity-50 mt-1 block">Ref: Academia, ScienceDirect</span>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-1 flex flex-col bg-slate-900 relative overflow-hidden">
        
        <!-- Top Header with Context -->
        <header class="h-16 border-b border-slate-800 bg-slate-900/95 backdrop-blur flex items-center justify-between px-8 z-10">
            <div class="flex items-center gap-2">
                <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                <span class="text-slate-300 font-mono text-sm" id="header-context">AnalizÄƒ ActivÄƒ: React Ecosystem</span>
            </div>
            <div class="flex gap-4 text-xs text-slate-500">
                <span>React v18+</span>
                <span>JSX Transform</span>
                <span>TypeScript Ready</span>
            </div>
        </header>

        <!-- Scrollable Content -->
        <div id="main-scroll" class="flex-1 overflow-y-auto scroll-smooth p-6 lg:p-12">
            <div class="max-w-6xl mx-auto space-y-20" id="content-display">
                <!-- Dynamic Content Loads Here -->
            </div>
            
            <footer class="mt-20 pt-10 border-t border-slate-800 text-center text-slate-600 text-sm pb-10">
                <p>Generat pe baza analizei arhitecturale a documentului "De ce sÄƒ folosim React" de Antonio CLIM.</p>
                <p>Include referinÈ›e cÄƒtre Ferreira & Valente [https://doi.org/10.1016/j.infsof.2022.107111], Nunes et al. [https://doi.org/10.1016/j.infsof.2025.107835].</p>
            </footer>
        </div>
    </main>

    <script>
        // --- DATA STORE: The Knowledge Base ---
        
        const modules = [
            {
                id: 'context',
                title: 'DefiniÈ›ie & Context',
                icon: 'ğŸ”',
                content: {
                    heading: 'Ce este, de fapt, React + JSX?',
                    subheading: 'Dincolo de tutoriale: O perspectivÄƒ de proiect',
                    text: `
                        <p class="mb-6 leading-relaxed text-slate-300">
                            DacÄƒ reducem React la esenÈ›Äƒ, Ã®ntrebarea fundamentalÄƒ pe care ne-o punem ca arhitecÈ›i software este: 
                            <em class="text-white bg-slate-800 px-1 rounded">MeritÄƒ sÄƒ introducem un limbaj suplimentar (JSX) È™i un toolchain complex doar pentru a scrie UI?</em>
                        </p>
                        <p class="mb-6 leading-relaxed text-slate-300">
                            Ãn proiectele reale, React nu este doar o bibliotecÄƒ, ci un <strong>Stack Tehnologic</strong>. 
                            JSX este "limbajul de suprafaÈ›Äƒ" prin care descriem modelul, dar Ã®n spate se aflÄƒ un runtime complex.
                        </p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-8">
                            <div class="bg-[#1e293b] p-6 rounded-lg border-l-4 border-blue-500">
                                <h4 class="text-white font-bold mb-2">Sintaxa (Input)</h4>
                                <code class="text-sm font-code text-blue-300 block mb-2">&lt;UserCard active={true} /&gt;</code>
                                <p class="text-sm text-slate-400">O notaÈ›ie declarativÄƒ, familiarÄƒ vizual, dar care "trÄƒieÈ™te" Ã®n JavaScript.</p>
                            </div>
                            <div class="bg-[#1e293b] p-6 rounded-lg border-l-4 border-purple-500">
                                <h4 class="text-white font-bold mb-2">Runtime (Output)</h4>
                                <code class="text-sm font-code text-purple-300 block mb-2">jsx(UserCard, { active: true })</code>
                                <p class="text-sm text-slate-400">Compilat Ã®n apeluri de funcÈ›ii optimizate pentru Virtual DOM.</p>
                            </div>
                        </div>
                        <p class="mb-6 leading-relaxed text-slate-300">
                            Literatura de specialitate subliniazÄƒ constant aceastÄƒ triadÄƒ: <strong>Component-Based + Virtual DOM + JSX</strong> ca fiind motorul scalabilitÄƒÈ›ii. Nu folosim React pentru cÄƒ e "la modÄƒ", ci pentru cÄƒ oferÄƒ o abstracÈ›ie superioarÄƒ manipulÄƒrii directe a DOM-ului.
                        </p>
                    `,
                    vizType: 'compilation'
                }
            },
            {
                id: 'pros',
                title: 'Argumente PRO (ROI)',
                icon: 'ğŸ“ˆ',
                content: {
                    heading: 'Analiza ROI: De ce meritÄƒ investiÈ›ia?',
                    subheading: 'Argumente validate de industrie È™i studii',
                    text: `
                        <p class="mb-6 text-slate-300">
                            Adoptarea React vine cu un cost iniÈ›ial (setup, learning curve), dar beneficiile pe termen lung (Return on Investment) Ã®n proiectele complexe sunt semnificative. IatÄƒ pilonii principali:
                        </p>
                        
                        <div class="space-y-8">
                            <!-- Argument 1 -->
                            <div class="group">
                                <h3 class="text-xl text-blue-400 font-serif-heading font-bold mb-2 flex items-center gap-2">
                                    <span class="w-6 h-6 rounded bg-blue-900/50 flex items-center justify-center text-xs">1</span>
                                    Colocalizarea Markup-ului È™i a Logicii
                                </h3>
                                <p class="text-slate-400 mb-4 pl-8">
                                    Ãn arhitecturile tradiÈ›ionale, separÄƒm fiÈ™ierele pe tehnologii (HTML, CSS, JS). React propune <strong>Separarea pe Interese (Separation of Concerns)</strong>.
                                    Unitatea de lucru devine "Componenta". Aceasta conÈ›ine structura (JSX), logica (Hooks) È™i stilul.
                                </p>
                                <div class="bg-slate-800/50 p-4 rounded ml-8 border border-slate-700">
                                    <p class="text-sm text-green-400 font-mono">âœ… Impact:</p>
                                    <p class="text-sm text-slate-300">RefactorizÄƒrile sunt mai ieftine. CÃ¢nd È™tergi o componentÄƒ, È™tergi tot codul aferent ei, nu laÈ™i Ã®n urmÄƒ selectori CSS orfani sau listeners JS agÄƒÈ›aÈ›i.</p>
                                </div>
                            </div>

                            <!-- Argument 2 -->
                            <div class="group">
                                <h3 class="text-xl text-blue-400 font-serif-heading font-bold mb-2 flex items-center gap-2">
                                    <span class="w-6 h-6 rounded bg-blue-900/50 flex items-center justify-center text-xs">2</span>
                                    Mentalul Declarativ: UI = f(state)
                                </h3>
                                <p class="text-slate-400 mb-4 pl-8">
                                    Imperativ (jQuery) Ã®nseamnÄƒ sÄƒ descrii <em>cum</em> sÄƒ ajungi la rezultat (selecteazÄƒ div, È™terge clasa, adaugÄƒ text).
                                    Declarativ (React) Ã®nseamnÄƒ sÄƒ descrii <em>ce</em> vrei sÄƒ obÈ›ii pe baza stÄƒrii curente.
                                </p>
                            </div>

                            <!-- Argument 3 -->
                            <div class="group">
                                <h3 class="text-xl text-blue-400 font-serif-heading font-bold mb-2 flex items-center gap-2">
                                    <span class="w-6 h-6 rounded bg-blue-900/50 flex items-center justify-center text-xs">3</span>
                                    Ecosistem È™i TypeScript
                                </h3>
                                <p class="text-slate-400 mb-4 pl-8">
                                    JSX permite analizÄƒ staticÄƒ puternicÄƒ. Instrumente precum <strong>SniffTSX</strong> pot detecta automat "code smells" (mirosuri de cod) specifice, cum ar fi "Prop Drilling" sau componente prea mari, Ã®nainte ca ele sÄƒ ajungÄƒ Ã®n producÈ›ie.
                                </p>
                            </div>
                        </div>
                    `,
                    vizType: 'chart-complexity'
                }
            },
            {
                id: 'cons',
                title: 'Argumente CONTRA (Riscuri)',
                icon: 'âš ï¸',
                content: {
                    heading: 'Analiza Riscurilor È™i Costurilor',
                    subheading: 'Unde doare? LimitÄƒri Ã®n utilizarea realÄƒ',
                    text: `
                        <p class="mb-6 text-slate-300">
                            React nu este un "silver bullet". React + JSX aduce propriile probleme, documentate Ã®n studii precum <em>Ferreira & Valente (2023)</em>. Este crucial sÄƒ fim conÈ™tienÈ›i de ele.
                        </p>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Risc 1 -->
                            <div class="bg-slate-800/40 p-5 rounded border-t-2 border-red-500 hover:bg-slate-800 transition">
                                <h4 class="text-red-400 font-bold mb-2">ğŸ› ï¸ Toolchain Complex</h4>
                                <p class="text-sm text-slate-400 mb-3">
                                    React nu ruleazÄƒ Ã®n browser. Ai nevoie de Node.js, Webpack/Vite, Babel, ESLint, TypeScript config.
                                </p>
                                <p class="text-xs text-slate-500 italic">"Fatigue-ul" configurÄƒrii poate ucide productivitatea pe proiecte mici.</p>
                            </div>

                            <!-- Risc 2 -->
                            <div class="bg-slate-800/40 p-5 rounded border-t-2 border-orange-500 hover:bg-slate-800 transition">
                                <h4 class="text-orange-400 font-bold mb-2">ğŸ‘ƒ Code Smells Specifice</h4>
                                <p class="text-sm text-slate-400 mb-3">
                                    JSX fiind flexibil, Ã®ncurajeazÄƒ uneori logica complexÄƒ Ã®n view.
                                    <strong>Componenta "God Object"</strong> sau <strong>JSX cu 10 condiÈ›ii imbricate</strong> sunt probleme reale.
                                </p>
                            </div>

                            <!-- Risc 3 -->
                            <div class="bg-slate-800/40 p-5 rounded border-t-2 border-yellow-500 hover:bg-slate-800 transition">
                                <h4 class="text-yellow-400 font-bold mb-2">ğŸ“‰ Overkill pentru Site-uri Statice</h4>
                                <p class="text-sm text-slate-400 mb-3">
                                    DacÄƒ site-ul este predominant document (ex: blog simplu), React aduce un bundle JS mare care Ã®ntÃ¢rzie "Time to Interactive" fÄƒrÄƒ beneficii reale.
                                </p>
                            </div>

                            <!-- Risc 4 -->
                            <div class="bg-slate-800/40 p-5 rounded border-t-2 border-purple-500 hover:bg-slate-800 transition">
                                <h4 class="text-purple-400 font-bold mb-2">ğŸ”’ Lock-in Conceptual</h4>
                                <p class="text-sm text-slate-400 mb-3">
                                    Un developer "React-only" poate avea dificultÄƒÈ›i sÄƒ Ã®nÈ›eleagÄƒ cum funcÈ›ioneazÄƒ web-ul nativ, bazÃ¢ndu-se exclusiv pe abstracÈ›ia React (Synthetic Events, Hooks).
                                </p>
                            </div>
                        </div>
                    `,
                    vizType: 'none'
                }
            },
            {
                id: 'lab',
                title: 'Laborator: Vanilla vs React',
                icon: 'ğŸ§ª',
                content: {
                    heading: 'Confruntare DirectÄƒ: Imperativ vs Declarativ',
                    subheading: 'Studiu de caz: O listÄƒ dinamicÄƒ cu È™tergere',
                    text: `
                        <p class="mb-4 text-slate-300">
                            SÄƒ analizÄƒm un scenariu simplu: O listÄƒ de utilizatori unde poÈ›i È™terge un element.
                            ObservÄƒ diferenÈ›a de abordare. Ãn Vanilla JS, trebuie sÄƒ gestionÄƒm manual DOM-ul È™i sÄƒ avem grijÄƒ sÄƒ nu "pierdem" legÄƒtura dintre date È™i UI. Ãn React, doar actualizÄƒm datele.
                        </p>
                    `,
                    vizType: 'code-diff'
                }
            },
            {
                id: 'decision',
                title: 'Matricea DecizionalÄƒ',
                icon: 'âœ…',
                content: {
                    heading: 'Verdictul: CÃ¢nd folosim React?',
                    subheading: 'Ghid practic pentru arhitecÈ›i',
                    text: `
                        <p class="mb-6 text-slate-300">
                            Decizia nu este binarÄƒ. IatÄƒ o matrice bazatÄƒ pe complexitatea proiectului È™i echipa disponibilÄƒ.
                        </p>
                        
                        <div class="overflow-x-auto">
                            <table class="w-full text-left text-sm text-slate-400 border-collapse">
                                <thead class="bg-slate-800 text-slate-200 uppercase font-bold">
                                    <tr>
                                        <th class="p-4 border-b border-slate-700">Scenariu</th>
                                        <th class="p-4 border-b border-slate-700">Recomandare</th>
                                        <th class="p-4 border-b border-slate-700">De ce?</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-800">
                                    <tr class="hover:bg-slate-800/30">
                                        <td class="p-4 font-semibold text-white">Dashboard SaaS Complex</td>
                                        <td class="p-4"><span class="bg-green-500/20 text-green-400 px-2 py-1 rounded">React Obligatoriu</span></td>
                                        <td class="p-4">Stare complexÄƒ, interactivitate mare, necesitÄƒ componentizare.</td>
                                    </tr>
                                    <tr class="hover:bg-slate-800/30">
                                        <td class="p-4 font-semibold text-white">Blog / Site Prezentare</td>
                                        <td class="p-4"><span class="bg-red-500/20 text-red-400 px-2 py-1 rounded">EvitÄƒ / Astro</span></td>
                                        <td class="p-4">ConÈ›inut static. React e overkill È™i afecteazÄƒ SEO/Performance fÄƒrÄƒ SSR complex.</td>
                                    </tr>
                                    <tr class="hover:bg-slate-800/30">
                                        <td class="p-4 font-semibold text-white">EchipÄƒ Java/C# Backend</td>
                                        <td class="p-4"><span class="bg-blue-500/20 text-blue-400 px-2 py-1 rounded">React + TS</span></td>
                                        <td class="p-4">TypeScript È™i tipizarea strictÄƒ ajutÄƒ tranziÈ›ia backend devs cÄƒtre frontend.</td>
                                    </tr>
                                    <tr class="hover:bg-slate-800/30">
                                        <td class="p-4 font-semibold text-white">Proof of Concept (1 zi)</td>
                                        <td class="p-4"><span class="bg-yellow-500/20 text-yellow-400 px-2 py-1 rounded">Vanilla / Alpine</span></td>
                                        <td class="p-4">Setup-ul React dureazÄƒ prea mult pentru un test rapid "aruncabil".</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    `,
                    vizType: 'none'
                }
            }
        ];

        // --- CODE SNIPPETS ---

        const snippets = {
            vanilla: `// âŒ IMPERATIV (Vanilla JS)
// 1. Selectori manuali (fragil)
const list = document.getElementById('users');
const btn = document.getElementById('add-btn');

let users = ['Ana', 'Dan'];

function render() {
  list.innerHTML = ''; // âš ï¸ È˜terge tot DOM-ul
  users.forEach((u, i) => {
    const li = document.createElement('li');
    li.textContent = u;
    
    // 2. Gestionare manualÄƒ evenimente
    const delBtn = document.createElement('button');
    delBtn.textContent = 'X';
    delBtn.onclick = () => {
      users.splice(i, 1); // ModificÄƒ date
      render(); // âš ï¸ Re-randeazÄƒ manual tot
    };
    
    li.appendChild(delBtn);
    list.appendChild(li);
  });
}

render(); // Trebuie apelat explicit`,
            react: `// âœ… DECLARATIV (React)
function UserList() {
  // 1. Starea este sursa unicÄƒ de adevÄƒr
  const [users, setUsers] = useState(['Ana', 'Dan']);

  const remove = (idx) => {
    // ModificÄƒm doar datele. UI-ul reacÈ›ioneazÄƒ automat.
    setUsers(users.filter((_, i) => i !== idx));
  };

  return (
    <ul>
      {users.map((u, i) => (
        <li key={i}>
          {u}
          {/* 2. Handler colocalizat */}
          <button onClick={() => remove(i)}>X</button>
        </li>
      ))}
    </ul>
  );
}`
        };

        // --- APP LOGIC ---

        let activeModuleId = 'context';

        function init() {
            renderSidebar();
            loadModule('context');
            
            // Mobile Menu
            document.getElementById('mobile-menu-btn').addEventListener('click', () => {
                const nav = document.querySelector('nav');
                const menu = document.getElementById('sidebar-menu');
                menu.classList.toggle('hidden');
                nav.classList.toggle('h-auto');
            });
        }

        function renderSidebar() {
            const container = document.getElementById('sidebar-menu');
            container.innerHTML = modules.map(mod => `
                <button 
                    onclick="loadModule('${mod.id}')"
                    class="w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 transition-all duration-200 ${mod.id === activeModuleId ? 'bg-blue-600 text-white shadow-lg shadow-blue-900/50' : 'text-slate-400 hover:bg-slate-800 hover:text-white'}"
                >
                    <span class="text-lg">${mod.icon}</span>
                    <span class="font-medium text-sm">${mod.title}</span>
                </button>
            `).join('');
        }

        function loadModule(id) {
            activeModuleId = id;
            renderSidebar();
            
            const module = modules.find(m => m.id === id);
            const container = document.getElementById('content-display');
            
            // Animation Reset
            container.innerHTML = '';
            
            const contentHTML = `
                <div class="fade-enter">
                    <div class="mb-10 border-b border-slate-800 pb-6">
                        <h2 class="text-3xl md:text-4xl font-bold text-white mb-2 font-serif-heading">${module.content.heading}</h2>
                        <p class="text-xl text-blue-400">${module.content.subheading}</p>
                    </div>
                    
                    <div class="prose prose-invert max-w-none mb-12">
                        ${module.content.text}
                    </div>

                    ${renderVisualization(module.content.vizType)}
                </div>
            `;
            
            container.innerHTML = contentHTML;

            // Init Visualization Logic
            setTimeout(() => {
                if (module.content.vizType === 'chart-complexity') initChart();
                if (module.content.vizType === 'compilation') initCompilationViz();
            }, 50);
        }

        function renderVisualization(type) {
            if (type === 'none') return '';
            
            if (type === 'code-diff') {
                return `
                    <div class="bg-black rounded-xl overflow-hidden border border-slate-700 shadow-2xl mt-8">
                        <div class="bg-slate-800 px-4 py-2 border-b border-slate-700 flex justify-between items-center">
                            <span class="text-xs font-mono text-slate-400">DIFF VIEWER</span>
                            <div class="flex gap-2 text-xs">
                                <span class="text-red-400">â— Vanilla JS</span>
                                <span class="text-green-400">â— React</span>
                            </div>
                        </div>
                        <div class="code-diff-container">
                            <div class="p-4 border-b md:border-b-0 md:border-r border-slate-800 bg-[#0d1117] overflow-x-auto">
                                <pre class="text-xs md:text-sm font-code text-slate-300 leading-relaxed">${highlight(snippets.vanilla)}</pre>
                            </div>
                            <div class="p-4 bg-[#0d1117] overflow-x-auto">
                                <pre class="text-xs md:text-sm font-code text-slate-300 leading-relaxed">${highlight(snippets.react)}</pre>
                            </div>
                        </div>
                    </div>
                    <p class="text-center text-sm text-slate-500 mt-4 italic">ObservÄƒ cum React eliminÄƒ gestionarea manualÄƒ a DOM-ului (fÄƒrÄƒ <code>createElement</code>, <code>appendChild</code>).</p>
                `;
            }

            if (type === 'chart-complexity') {
                return `
                    <div class="glass-panel p-6 rounded-xl mt-8">
                        <h3 class="text-white font-bold mb-4 text-center">Complexitate vs. Dimensiunea AplicaÈ›iei</h3>
                        <div class="chart-container">
                            <canvas id="complexityChart"></canvas>
                        </div>
                        <p class="text-xs text-slate-400 mt-4 text-center max-w-lg mx-auto">
                            Graficul ilustreazÄƒ punctul de inflexiune. Pentru aplicaÈ›ii mici, React este ineficient (overhead). 
                            Pentru aplicaÈ›ii mari, curba Vanilla JS devine exponenÈ›ialÄƒ (nesustenabilÄƒ), Ã®n timp ce React rÄƒmÃ¢ne liniar.
                        </p>
                    </div>
                `;
            }

            if (type === 'compilation') {
                return `
                   <div class="mt-8 p-6 bg-slate-800/50 border border-slate-700 rounded-lg flex flex-col items-center">
                        <div class="flex items-center gap-4 text-2xl font-bold text-slate-600 mb-4">
                            <span>JSX</span> âœ <span>Babel/Compiler</span> âœ <span>JS</span>
                        </div>
                        <div class="w-full h-2 bg-slate-700 rounded-full overflow-hidden relative">
                            <div id="compile-bar" class="absolute top-0 left-0 h-full bg-blue-500 w-0 transition-all duration-1000"></div>
                        </div>
                        <button onclick="animateCompile()" class="mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded text-sm transition">SimuleazÄƒ Procesul de Build</button>
                   </div>
                `;
            }
        }

        // --- VISUALIZATION FUNCTIONS ---

        function initChart() {
            const ctx = document.getElementById('complexityChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Hello World', 'Landing Page', 'Formular Simplu', 'Dashboard', 'Enterprise App'],
                    datasets: [
                        {
                            label: 'Efort de MentenanÈ›Äƒ (Vanilla JS)',
                            data: [1, 5, 20, 60, 100], // ExponenÈ›ial
                            borderColor: '#ef4444',
                            borderDash: [5, 5],
                            tension: 0.4
                        },
                        {
                            label: 'Efort de MentenanÈ›Äƒ (React)',
                            data: [10, 15, 20, 30, 40], // Liniar + Cost IniÈ›ial
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            fill: true,
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { labels: { color: '#94a3b8' } }
                    },
                    scales: {
                        y: { 
                            title: { display: true, text: 'Complexitate / Bugs', color: '#64748b' },
                            grid: { color: '#1e293b' },
                            ticks: { color: '#64748b' }
                        },
                        x: { 
                            grid: { display: false },
                            ticks: { color: '#94a3b8' }
                        }
                    }
                }
            });
        }

        function initCompilationViz() {
            window.animateCompile = () => {
                const bar = document.getElementById('compile-bar');
                bar.style.width = '0%';
                setTimeout(() => bar.style.width = '100%', 100);
            };
        }

        function highlight(code) {
            // Un parser rudimentar pentru a colora codul Ã®n text
            return code
                .replace(/\/\/.*/g, '<span class="token-comment">$&</span>')
                .replace(/\b(const|let|var|function|return|if|else)\b/g, '<span class="token-keyword">$1</span>')
                .replace(/\b(document|getElementById|createElement|innerHTML|appendChild|useState|map|filter)\b/g, '<span class="token-function">$1</span>')
                .replace(/'[^']*'/g, '<span class="token-string">$&</span>')
                .replace(/<([a-zA-Z0-9]+)/g, '<span class="token-tag"><$1</span>')
                .replace(/<\/([a-zA-Z0-9]+)/g, '<span class="token-tag"></$1</span>');
        }

        // Init App
        window.addEventListener('DOMContentLoaded', init);

    </script>
</body>
</html>