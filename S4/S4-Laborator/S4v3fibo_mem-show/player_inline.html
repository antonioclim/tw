<!DOCTYPE html>
<html lang="ro"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prezentare animată — S4v3fibo_mem.js</title>
<style>
:root { --bg:#0b1021; --fg:#ffffff; --acc:#8ab4f8; --mut:#a0a8c0; --tok:rgba(255,205,86,.35); --tokb:rgba(255,205,86,.6);
        --notesW: 560px; --splitW: 6px; }
html,body { height:100%; margin:0; background:var(--bg); color:var(--fg); font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; }
.wrap { display:grid; grid-template-rows:auto 1fr auto; height:100%; grid-template-columns: 1fr var(--splitW) var(--notesW); position:relative; }
header,footer { grid-column: 1 / span 3; padding:.6rem 1rem; background:rgba(255,255,255,0.04); }
#meta { font-size:.9rem; color:var(--mut); }
#codebox { padding:1rem; overflow:auto; white-space:pre; tab-size:2; line-height:1.35; font-size:15px; }
#splitter { cursor:col-resize; background:rgba(255,255,255,0.06); } #splitter:hover { background:rgba(255,255,255,0.15); }
#notes { padding:1rem; border-left:1px solid rgba(255,255,255,0.08); overflow:auto; font-size:13px; background:rgba(255,255,255,0.02); }
.controls { display:flex; gap:.5rem; align-items:center; flex-wrap:wrap; }
button, input[type=range], select { accent-color:var(--acc); }
.stepTitle { color:var(--acc); font-weight:600; } .rationale { color:var(--mut); font-size:.95rem; }
.bar { width:100%; height:4px; background:rgba(255,255,255,.1); position:relative; margin-top:.5rem; } .prog { position:absolute; left:0; top:0; bottom:0; width:0%; background:var(--acc); }
.line { display:block; } .dim { opacity:.35; } .tok { color:#ffd54f; background:var(--tok); outline:1px solid var(--tokb); }
.noteTitle { font-weight:700; margin:.4rem 0 .2rem 0; } .small { font-size:12px; color:var(--mut); }
.box { border:1px solid rgba(255,255,255,.08); padding:.5rem; border-radius:6px; background:rgba(255,255,255,.03); margin-bottom:.6rem; }
.box .hdr { display:flex; gap:.6rem; align-items:center; margin-bottom:.4rem; }
kbd { font-family:inherit; background:rgba(255,255,255,.06); padding:.1rem .3rem; border-radius:4px; }
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>Prezentare animată — S4v3fibo_mem.js</h1>
    <div id="meta"></div>
  </header>

  <main id="codebox"></main>
  <div id="splitter" title="Trage pentru a redimensiona panoul de notițe"></div>
  <aside id="notes">
    <div class="box">
      <div class="hdr small">
        <div class="noteTitle">Notițe BLOC</div>
        <span id="keyBlock" class="small"></span>
        <span style="flex:1"></span>
        Sursă: <label><input type="radio" name="srcBlock" id="srcBlockAuto" checked> Auto</label>
               <label><input type="radio" name="srcBlock" id="srcBlockLLM"> LLM</label>
        <label style="margin-left:.8rem"><input type="checkbox" id="lockAll"> Blochează</label>
        <label style="margin-left:.8rem">Hold: <input id="hold" type="range" min="0" max="3" step="0.1" value="1.0"> <span id="holdV">1.0s</span></label>
        <label style="margin-left:.8rem"><input type="checkbox" id="asciiFallback"> ASCII fallback</label>
      </div>
      <div id="noteBlock" style="white-space:pre-wrap"></div>
    </div>

    <div class="box">
      <div class="hdr small">
        <div class="noteTitle">Notițe ETAPĂ</div>
        <span id="keyMicro" class="small"></span>
        <span style="flex:1"></span>
        Sursă: <label><input type="radio" name="srcMicro" id="srcMicroAuto" checked> Auto</label>
               <label><input type="radio" name="srcMicro" id="srcMicroLLM"> LLM</label>
      </div>
      <div id="noteMicro" style="white-space:pre-wrap"></div>
    </div>
  </aside>

  <footer>
    <div class="controls">
      <button id="btnPlay">▶︎ Play</button>
      <button id="btnPrev">⟨ Pas</button>
      <button id="btnNext">Pas ⟩</button>
      Mod: <select id="gran"><option value="token" selected>token</option><option value="char">caracter</option></select>
      Viteză: <input id="speed" type="range" min="0.01" max="5" step="0.01" value="0.02"/> <span id="speedv">0.02 tps</span>
      <label style="margin-left:1rem"><input type="checkbox" id="toggleDim" checked/> Dim context</label>
    </div>
    <div class="bar"><div class="prog" id="prog"></div></div>
    <div class="stepTitle" id="title"></div>
    <div class="rationale" id="rat"></div>
  </footer>
</div>

<!-- Payload Base64 pe UTF‑8: păstrează diacriticele -->
<script id="payload_b64" type="text/plain">eyJmcmFtZXMiOiBbIiIsICJcbiIsICJcbiAgY29uc3QgZmliID0gKGluZGV4KSA9PiB7XG4iLCAiXG4gIGNvbnN0IGZpYiA9IChpbmRleCkgPT4ge1xuXG4iLCAiXG4gIGNvbnN0IGNhY2hlID0gWzEsIDFdXG4gIGNvbnN0IGZpYiA9IChpbmRleCkgPT4ge1xuXG4iLCAiXG4gIGNvbnN0IGNhY2hlID0gWzEsIDFdXG4gIGNvbnN0IGZpYiA9IChpbmRleCkgPT4ge1xuXG5cbiIsICJcbiAgY29uc3QgY2FjaGUgPSBbMSwgMV1cbiAgY29uc3QgZmliID0gKGluZGV4KSA9PiB7XG5cblxuIiwgIlxuICBjb25zdCBjYWNoZSA9IFsxLCAxXVxuICBjb25zdCBmaWIgPSAoaW5kZXgpID0+IHtcblxuICAgIGlmIChpbmRleCA8IGNhY2hlLmxlbmd0aCkge1xuXG4iLCAiXG4gIGNvbnN0IGNhY2hlID0gWzEsIDFdXG4gIGNvbnN0IGZpYiA9IChpbmRleCkgPT4ge1xuXG4gICAgaWYgKGluZGV4IDwgY2FjaGUubGVuZ3RoKSB7XG5cbiIsICJcbiAgY29uc3QgY2FjaGUgPSBbMSwgMV1cbiAgY29uc3QgZmliID0gKGluZGV4KSA9PiB7XG5cbiAgICBpZiAoaW5kZXggPCBjYWNoZS5sZW5ndGgpIHtcblxuXG4iLCAiXG4gIGNvbnN0IGNhY2hlID0gWzEsIDFdXG4gIGNvbnN0IGZpYiA9IChpbmRleCkgPT4ge1xuXG4gICAgaWYgKGluZGV4IDwgY2FjaGUubGVuZ3RoKSB7XG5cblxuIiwgIlxuICBjb25zdCBjYWNoZSA9IFsxLCAxXVxuICBjb25zdCBmaWIgPSAoaW5kZXgpID0+IHtcblxuICAgIGlmIChpbmRleCA8IGNhY2hlLmxlbmd0aCkge1xuXG4gICAgICBjb25zb2xlLmxvZygnZm91bmQgJyArIGluZGV4KVxuXG4iLCAiXG4gIGNvbnN0IGNhY2hlID0gWzEsIDFdXG4gIGNvbnN0IGZpYiA9IChpbmRleCkgPT4ge1xuXG4gICAgaWYgKGluZGV4IDwgY2FjaGUubGVuZ3RoKSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdmb3VuZCAnICsgaW5kZXgpXG5cbiIsICJcbiAgY29uc3QgY2FjaGUgPSBbMSwgMV1cbiAgY29uc3QgZmliID0gKGluZGV4KSA9PiB7XG5cbiAgICBpZiAoaW5kZXggPCBjYWNoZS5sZW5ndGgpIHtcblxuICAgICAgY29uc29sZS5sb2coJ2ZvdW5kICcgKyBpbmRleClcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuIiwgIlxuICBjb25zdCBjYWNoZSA9IFsxLCAxXVxuICBjb25zdCBmaWIgPSAoaW5kZXgpID0+IHtcblxuICAgIGlmIChpbmRleCA8IGNhY2hlLmxlbmd0aCkge1xuXG4gICAgICBjb25zb2xlLmxvZygnZm91bmQgJyArIGluZGV4KVxuICAgICAgcmV0dXJuIGNhY2hlW2luZGV4XVxuXG4iLCAiXG4gIGNvbnN0IGNhY2hlID0gWzEsIDFdXG4gIGNvbnN0IGZpYiA9IChpbmRleCkgPT4ge1xuXG4gICAgaWYgKGluZGV4IDwgY2FjaGUubGVuZ3RoKSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdmb3VuZCAnICsgaW5kZXgpXG4gICAgICByZXR1cm4gY2FjaGVbaW5kZXhdXG5cblxuIiwgIlxuICBjb25zdCBjYWNoZSA9IFsxLCAxXVxuICBjb25zdCBmaWIgPSAoaW5kZXgpID0+IHtcblxuICAgIGlmIChpbmRleCA8IGNhY2hlLmxlbmd0aCkge1xuXG4gICAgICBjb25zb2xlLmxvZygnZm91bmQgJyArIGluZGV4KVxuICAgICAgcmV0dXJuIGNhY2hlW2luZGV4XVxuXG5cbiIsICJcbiAgY29uc3QgY2FjaGUgPSBbMSwgMV1cbiAgY29uc3QgZmliID0gKGluZGV4KSA9PiB7XG5cbiAgICBpZiAoaW5kZXggPCBjYWNoZS5sZW5ndGgpIHtcblxuICAgICAgY29uc29sZS5sb2coJ2ZvdW5kICcgKyBpbmRleClcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuICAgIH1cblxuIiwgIlxuICBjb25zdCBjYWNoZSA9IFsxLCAxXVxuICBjb25zdCBmaWIgPSAoaW5kZXgpID0+IHtcblxuICAgIGlmIChpbmRleCA8IGNhY2hlLmxlbmd0aCkge1xuXG4gICAgICBjb25zb2xlLmxvZygnZm91bmQgJyArIGluZGV4KVxuICAgICAgcmV0dXJuIGNhY2hlW2luZGV4XVxuXG4gICAgfVxuXG4iLCAiXG4gIGNvbnN0IGNhY2hlID0gWzEsIDFdXG4gIGNvbnN0IGZpYiA9IChpbmRleCkgPT4ge1xuXG4gICAgaWYgKGluZGV4IDwgY2FjaGUubGVuZ3RoKSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdmb3VuZCAnICsgaW5kZXgpXG4gICAgICByZXR1cm4gY2FjaGVbaW5kZXhdXG5cbiAgICB9XG4gICAgIGVsc2Uge1xuXG4iLCAiXG4gIGNvbnN0IGNhY2hlID0gWzEsIDFdXG4gIGNvbnN0IGZpYiA9IChpbmRleCkgPT4ge1xuXG4gICAgaWYgKGluZGV4IDwgY2FjaGUubGVuZ3RoKSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdmb3VuZCAnICsgaW5kZXgpXG4gICAgICByZXR1cm4gY2FjaGVbaW5kZXhdXG5cbiAgICB9XG4gICAgIGVsc2Uge1xuXG4iLCAiXG4gIGNvbnN0IGNhY2hlID0gWzEsIDFdXG4gIGNvbnN0IGZpYiA9IChpbmRleCkgPT4ge1xuXG4gICAgaWYgKGluZGV4IDwgY2FjaGUubGVuZ3RoKSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdmb3VuZCAnICsgaW5kZXgpXG4gICAgICByZXR1cm4gY2FjaGVbaW5kZXhdXG5cbiAgICB9XG4gICAgIGVsc2Uge1xuXG5cbiIsICJcbiAgY29uc3QgY2FjaGUgPSBbMSwgMV1cbiAgY29uc3QgZmliID0gKGluZGV4KSA9PiB7XG5cbiAgICBpZiAoaW5kZXggPCBjYWNoZS5sZW5ndGgpIHtcblxuICAgICAgY29uc29sZS5sb2coJ2ZvdW5kICcgKyBpbmRleClcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuICAgIH1cbiAgICAgZWxzZSB7XG5cblxuIiwgIlxuICBjb25zdCBjYWNoZSA9IFsxLCAxXVxuICBjb25zdCBmaWIgPSAoaW5kZXgpID0+IHtcblxuICAgIGlmIChpbmRleCA8IGNhY2hlLmxlbmd0aCkge1xuXG4gICAgICBjb25zb2xlLmxvZygnZm91bmQgJyArIGluZGV4KVxuICAgICAgcmV0dXJuIGNhY2hlW2luZGV4XVxuXG4gICAgfVxuICAgICBlbHNlIHtcblxuICAgICAgY29uc29sZS5sb2coJ2NhbGN1bGF0ZWQgJyArIGluZGV4KVxuXG4iLCAiXG4gIGNvbnN0IGNhY2hlID0gWzEsIDFdXG4gIGNvbnN0IGZpYiA9IChpbmRleCkgPT4ge1xuXG4gICAgaWYgKGluZGV4IDwgY2FjaGUubGVuZ3RoKSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdmb3VuZCAnICsgaW5kZXgpXG4gICAgICByZXR1cm4gY2FjaGVbaW5kZXhdXG5cbiAgICB9XG4gICAgIGVsc2Uge1xuXG4gICAgICBjb25zb2xlLmxvZygnY2FsY3VsYXRlZCAnICsgaW5kZXgpXG5cbiIsICJcbiAgY29uc3QgY2FjaGUgPSBbMSwgMV1cbiAgY29uc3QgZmliID0gKGluZGV4KSA9PiB7XG5cbiAgICBpZiAoaW5kZXggPCBjYWNoZS5sZW5ndGgpIHtcblxuICAgICAgY29uc29sZS5sb2coJ2ZvdW5kICcgKyBpbmRleClcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuICAgIH1cbiAgICAgZWxzZSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdjYWxjdWxhdGVkICcgKyBpbmRleClcbiAgICAgIGNhY2hlW2luZGV4XSA9IGZpYihpbmRleCAtIDEpICsgZmliKGluZGV4IC0gMilcblxuIiwgIlxuICBjb25zdCBjYWNoZSA9IFsxLCAxXVxuICBjb25zdCBmaWIgPSAoaW5kZXgpID0+IHtcblxuICAgIGlmIChpbmRleCA8IGNhY2hlLmxlbmd0aCkge1xuXG4gICAgICBjb25zb2xlLmxvZygnZm91bmQgJyArIGluZGV4KVxuICAgICAgcmV0dXJuIGNhY2hlW2luZGV4XVxuXG4gICAgfVxuICAgICBlbHNlIHtcblxuICAgICAgY29uc29sZS5sb2coJ2NhbGN1bGF0ZWQgJyArIGluZGV4KVxuICAgICAgY2FjaGVbaW5kZXhdID0gZmliKGluZGV4IC0gMSkgKyBmaWIoaW5kZXggLSAyKVxuXG4iLCAiXG4gIGNvbnN0IGNhY2hlID0gWzEsIDFdXG4gIGNvbnN0IGZpYiA9IChpbmRleCkgPT4ge1xuXG4gICAgaWYgKGluZGV4IDwgY2FjaGUubGVuZ3RoKSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdmb3VuZCAnICsgaW5kZXgpXG4gICAgICByZXR1cm4gY2FjaGVbaW5kZXhdXG5cbiAgICB9XG4gICAgIGVsc2Uge1xuXG4gICAgICBjb25zb2xlLmxvZygnY2FsY3VsYXRlZCAnICsgaW5kZXgpXG4gICAgICBjYWNoZVtpbmRleF0gPSBmaWIoaW5kZXggLSAxKSArIGZpYihpbmRleCAtIDIpXG4gICAgICByZXR1cm4gY2FjaGVbaW5kZXhdXG5cbiIsICJcbiAgY29uc3QgY2FjaGUgPSBbMSwgMV1cbiAgY29uc3QgZmliID0gKGluZGV4KSA9PiB7XG5cbiAgICBpZiAoaW5kZXggPCBjYWNoZS5sZW5ndGgpIHtcblxuICAgICAgY29uc29sZS5sb2coJ2ZvdW5kICcgKyBpbmRleClcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuICAgIH1cbiAgICAgZWxzZSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdjYWxjdWxhdGVkICcgKyBpbmRleClcbiAgICAgIGNhY2hlW2luZGV4XSA9IGZpYihpbmRleCAtIDEpICsgZmliKGluZGV4IC0gMilcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuIiwgIlxuICBjb25zdCBjYWNoZSA9IFsxLCAxXVxuICBjb25zdCBmaWIgPSAoaW5kZXgpID0+IHtcblxuICAgIGlmIChpbmRleCA8IGNhY2hlLmxlbmd0aCkge1xuXG4gICAgICBjb25zb2xlLmxvZygnZm91bmQgJyArIGluZGV4KVxuICAgICAgcmV0dXJuIGNhY2hlW2luZGV4XVxuXG4gICAgfVxuICAgICBlbHNlIHtcblxuICAgICAgY29uc29sZS5sb2coJ2NhbGN1bGF0ZWQgJyArIGluZGV4KVxuICAgICAgY2FjaGVbaW5kZXhdID0gZmliKGluZGV4IC0gMSkgKyBmaWIoaW5kZXggLSAyKVxuICAgICAgcmV0dXJuIGNhY2hlW2luZGV4XVxuXG5cbiIsICJcbiAgY29uc3QgY2FjaGUgPSBbMSwgMV1cbiAgY29uc3QgZmliID0gKGluZGV4KSA9PiB7XG5cbiAgICBpZiAoaW5kZXggPCBjYWNoZS5sZW5ndGgpIHtcblxuICAgICAgY29uc29sZS5sb2coJ2ZvdW5kICcgKyBpbmRleClcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuICAgIH1cbiAgICAgZWxzZSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdjYWxjdWxhdGVkICcgKyBpbmRleClcbiAgICAgIGNhY2hlW2luZGV4XSA9IGZpYihpbmRleCAtIDEpICsgZmliKGluZGV4IC0gMilcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuXG4iLCAiXG4gIGNvbnN0IGNhY2hlID0gWzEsIDFdXG4gIGNvbnN0IGZpYiA9IChpbmRleCkgPT4ge1xuXG4gICAgaWYgKGluZGV4IDwgY2FjaGUubGVuZ3RoKSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdmb3VuZCAnICsgaW5kZXgpXG4gICAgICByZXR1cm4gY2FjaGVbaW5kZXhdXG5cbiAgICB9XG4gICAgIGVsc2Uge1xuXG4gICAgICBjb25zb2xlLmxvZygnY2FsY3VsYXRlZCAnICsgaW5kZXgpXG4gICAgICBjYWNoZVtpbmRleF0gPSBmaWIoaW5kZXggLSAxKSArIGZpYihpbmRleCAtIDIpXG4gICAgICByZXR1cm4gY2FjaGVbaW5kZXhdXG5cbiAgICB9XG5cbiIsICJcbiAgY29uc3QgY2FjaGUgPSBbMSwgMV1cbiAgY29uc3QgZmliID0gKGluZGV4KSA9PiB7XG5cbiAgICBpZiAoaW5kZXggPCBjYWNoZS5sZW5ndGgpIHtcblxuICAgICAgY29uc29sZS5sb2coJ2ZvdW5kICcgKyBpbmRleClcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuICAgIH1cbiAgICAgZWxzZSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdjYWxjdWxhdGVkICcgKyBpbmRleClcbiAgICAgIGNhY2hlW2luZGV4XSA9IGZpYihpbmRleCAtIDEpICsgZmliKGluZGV4IC0gMilcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuICAgIH1cblxuIiwgIlxuICBjb25zdCBjYWNoZSA9IFsxLCAxXVxuICBjb25zdCBmaWIgPSAoaW5kZXgpID0+IHtcblxuICAgIGlmIChpbmRleCA8IGNhY2hlLmxlbmd0aCkge1xuXG4gICAgICBjb25zb2xlLmxvZygnZm91bmQgJyArIGluZGV4KVxuICAgICAgcmV0dXJuIGNhY2hlW2luZGV4XVxuXG4gICAgfVxuICAgICBlbHNlIHtcblxuICAgICAgY29uc29sZS5sb2coJ2NhbGN1bGF0ZWQgJyArIGluZGV4KVxuICAgICAgY2FjaGVbaW5kZXhdID0gZmliKGluZGV4IC0gMSkgKyBmaWIoaW5kZXggLSAyKVxuICAgICAgcmV0dXJuIGNhY2hlW2luZGV4XVxuXG4gICAgfVxuXG5cbiIsICJcbiAgY29uc3QgY2FjaGUgPSBbMSwgMV1cbiAgY29uc3QgZmliID0gKGluZGV4KSA9PiB7XG5cbiAgICBpZiAoaW5kZXggPCBjYWNoZS5sZW5ndGgpIHtcblxuICAgICAgY29uc29sZS5sb2coJ2ZvdW5kICcgKyBpbmRleClcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuICAgIH1cbiAgICAgZWxzZSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdjYWxjdWxhdGVkICcgKyBpbmRleClcbiAgICAgIGNhY2hlW2luZGV4XSA9IGZpYihpbmRleCAtIDEpICsgZmliKGluZGV4IC0gMilcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuICAgIH1cblxuXG4iLCAiXG4gIGNvbnN0IGNhY2hlID0gWzEsIDFdXG4gIGNvbnN0IGZpYiA9IChpbmRleCkgPT4ge1xuXG4gICAgaWYgKGluZGV4IDwgY2FjaGUubGVuZ3RoKSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdmb3VuZCAnICsgaW5kZXgpXG4gICAgICByZXR1cm4gY2FjaGVbaW5kZXhdXG5cbiAgICB9XG4gICAgIGVsc2Uge1xuXG4gICAgICBjb25zb2xlLmxvZygnY2FsY3VsYXRlZCAnICsgaW5kZXgpXG4gICAgICBjYWNoZVtpbmRleF0gPSBmaWIoaW5kZXggLSAxKSArIGZpYihpbmRleCAtIDIpXG4gICAgICByZXR1cm4gY2FjaGVbaW5kZXhdXG5cbiAgICB9XG5cbiAgfVxuXG4iLCAiXG4gIGNvbnN0IGNhY2hlID0gWzEsIDFdXG4gIGNvbnN0IGZpYiA9IChpbmRleCkgPT4ge1xuXG4gICAgaWYgKGluZGV4IDwgY2FjaGUubGVuZ3RoKSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdmb3VuZCAnICsgaW5kZXgpXG4gICAgICByZXR1cm4gY2FjaGVbaW5kZXhdXG5cbiAgICB9XG4gICAgIGVsc2Uge1xuXG4gICAgICBjb25zb2xlLmxvZygnY2FsY3VsYXRlZCAnICsgaW5kZXgpXG4gICAgICBjYWNoZVtpbmRleF0gPSBmaWIoaW5kZXggLSAxKSArIGZpYihpbmRleCAtIDIpXG4gICAgICByZXR1cm4gY2FjaGVbaW5kZXhdXG5cbiAgICB9XG5cbiAgfVxuXG4iLCAiXG4gIGNvbnN0IGNhY2hlID0gWzEsIDFdXG4gIGNvbnN0IGZpYiA9IChpbmRleCkgPT4ge1xuXG4gICAgaWYgKGluZGV4IDwgY2FjaGUubGVuZ3RoKSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdmb3VuZCAnICsgaW5kZXgpXG4gICAgICByZXR1cm4gY2FjaGVbaW5kZXhdXG5cbiAgICB9XG4gICAgIGVsc2Uge1xuXG4gICAgICBjb25zb2xlLmxvZygnY2FsY3VsYXRlZCAnICsgaW5kZXgpXG4gICAgICBjYWNoZVtpbmRleF0gPSBmaWIoaW5kZXggLSAxKSArIGZpYihpbmRleCAtIDIpXG4gICAgICByZXR1cm4gY2FjaGVbaW5kZXhdXG5cbiAgICB9XG5cbiAgfVxuXG4iLCAiXG5cbiAgY29uc3QgY2FjaGUgPSBbMSwgMV1cbiAgY29uc3QgZmliID0gKGluZGV4KSA9PiB7XG5cbiAgICBpZiAoaW5kZXggPCBjYWNoZS5sZW5ndGgpIHtcblxuICAgICAgY29uc29sZS5sb2coJ2ZvdW5kICcgKyBpbmRleClcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuICAgIH1cbiAgICAgZWxzZSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdjYWxjdWxhdGVkICcgKyBpbmRleClcbiAgICAgIGNhY2hlW2luZGV4XSA9IGZpYihpbmRleCAtIDEpICsgZmliKGluZGV4IC0gMilcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuICAgIH1cblxuICB9XG5cbiIsICJcbmZ1bmN0aW9uIGZpYkdlbiAoKSB7XG5cbiAgY29uc3QgY2FjaGUgPSBbMSwgMV1cbiAgY29uc3QgZmliID0gKGluZGV4KSA9PiB7XG5cbiAgICBpZiAoaW5kZXggPCBjYWNoZS5sZW5ndGgpIHtcblxuICAgICAgY29uc29sZS5sb2coJ2ZvdW5kICcgKyBpbmRleClcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuICAgIH1cbiAgICAgZWxzZSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdjYWxjdWxhdGVkICcgKyBpbmRleClcbiAgICAgIGNhY2hlW2luZGV4XSA9IGZpYihpbmRleCAtIDEpICsgZmliKGluZGV4IC0gMilcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuICAgIH1cblxuICB9XG5cbiIsICJcbmZ1bmN0aW9uIGZpYkdlbiAoKSB7XG5cbiAgY29uc3QgY2FjaGUgPSBbMSwgMV1cbiAgY29uc3QgZmliID0gKGluZGV4KSA9PiB7XG5cbiAgICBpZiAoaW5kZXggPCBjYWNoZS5sZW5ndGgpIHtcblxuICAgICAgY29uc29sZS5sb2coJ2ZvdW5kICcgKyBpbmRleClcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuICAgIH1cbiAgICAgZWxzZSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdjYWxjdWxhdGVkICcgKyBpbmRleClcbiAgICAgIGNhY2hlW2luZGV4XSA9IGZpYihpbmRleCAtIDEpICsgZmliKGluZGV4IC0gMilcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuICAgIH1cblxuICB9XG5cblxuIiwgIlxuZnVuY3Rpb24gZmliR2VuICgpIHtcblxuICBjb25zdCBjYWNoZSA9IFsxLCAxXVxuICBjb25zdCBmaWIgPSAoaW5kZXgpID0+IHtcblxuICAgIGlmIChpbmRleCA8IGNhY2hlLmxlbmd0aCkge1xuXG4gICAgICBjb25zb2xlLmxvZygnZm91bmQgJyArIGluZGV4KVxuICAgICAgcmV0dXJuIGNhY2hlW2luZGV4XVxuXG4gICAgfVxuICAgICBlbHNlIHtcblxuICAgICAgY29uc29sZS5sb2coJ2NhbGN1bGF0ZWQgJyArIGluZGV4KVxuICAgICAgY2FjaGVbaW5kZXhdID0gZmliKGluZGV4IC0gMSkgKyBmaWIoaW5kZXggLSAyKVxuICAgICAgcmV0dXJuIGNhY2hlW2luZGV4XVxuXG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gZmliXG5cbiIsICJcbmZ1bmN0aW9uIGZpYkdlbiAoKSB7XG5cbiAgY29uc3QgY2FjaGUgPSBbMSwgMV1cbiAgY29uc3QgZmliID0gKGluZGV4KSA9PiB7XG5cbiAgICBpZiAoaW5kZXggPCBjYWNoZS5sZW5ndGgpIHtcblxuICAgICAgY29uc29sZS5sb2coJ2ZvdW5kICcgKyBpbmRleClcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuICAgIH1cbiAgICAgZWxzZSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdjYWxjdWxhdGVkICcgKyBpbmRleClcbiAgICAgIGNhY2hlW2luZGV4XSA9IGZpYihpbmRleCAtIDEpICsgZmliKGluZGV4IC0gMilcbiAgICAgIHJldHVybiBjYWNoZVtpbmRleF1cblxuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIGZpYlxufVxuXG4iLCAiLyoqXG4qMyAtIFVybcSDcmnIm2kgdmlkZW9jbGlwdWwgUzR2My5tcDQgcGVudHJ1IGEgdmVkZWEgY3VtIHNlIGltcGxlbWVudGVhesSDIHVuIGNsb3N1cmUgcGVudHJ1IG1lbW9pemFyZWEgcmV6dWx0YXRlbG9yIHVuZWkgZnVuY8ibaWkuXG4qIER1cMSDIGNlIGHIm2kgdGVzdGF0IGV4ZW1wbHVsLCBpbXBsZW1lbnRhyJtpIG8gdmFyaWFudMSDIHJlY3Vyc2l2YSBhIHVuZWkgZnVuY8ibaWkgZGUgZXhwb25lbsibaWVyZS5cbiogQXTDonQgcmV6dWx0YXRlbGUgZmluYWxlIGPDonQgyJlpIGNlbGUgaW50ZXJtZWRpYXJlIHZvciBmaSBtZW1vaXphdGUuXG4qXG4qL1xuXG5mdW5jdGlvbiBmaWJHZW4gKCkge1xuXG4gIGNvbnN0IGNhY2hlID0gWzEsIDFdXG4gIGNvbnN0IGZpYiA9IChpbmRleCkgPT4ge1xuXG4gICAgaWYgKGluZGV4IDwgY2FjaGUubGVuZ3RoKSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdmb3VuZCAnICsgaW5kZXgpXG4gICAgICByZXR1cm4gY2FjaGVbaW5kZXhdXG5cbiAgICB9XG4gICAgIGVsc2Uge1xuXG4gICAgICBjb25zb2xlLmxvZygnY2FsY3VsYXRlZCAnICsgaW5kZXgpXG4gICAgICBjYWNoZVtpbmRleF0gPSBmaWIoaW5kZXggLSAxKSArIGZpYihpbmRleCAtIDIpXG4gICAgICByZXR1cm4gY2FjaGVbaW5kZXhdXG5cbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiBmaWJcbn1cblxuY29uc3QgZmliID0gZmliR2VuKClcbmNvbnNvbGUubG9nKGZpYigxKSlcbmNvbnNvbGUubG9nKGZpYig1KSlcbmNvbnNvbGUubG9nKGZpYigzKSlcbiJdLCAic3R5bGUiOiAiZnVuY3Rpb25hbCIsICJzdGVwcyI6IFt7InRpdGxlIjogIkltcG9ydHVyaSDImWkgY29uc3RhbnRlIiwgInJhdGlvbmFsZSI6ICJEZWZpbmltIGRlcGVuZGVuyJtlbGUgyJlpIHBhcmFtZXRyaWkgaW5pyJtpYWxpIGFpIHBpcGVsaW5lLXVsdWkuIiwgImJsb2NrcyI6IFt7Im5hbWUiOiAidmFyIiwgImtpbmQiOiAiY29uc3QiLCAic3RhcnQiOiA5LCAiZW5kIjogMjd9LCB7Im5hbWUiOiAidmFyIiwgImtpbmQiOiAiY29uc3QiLCAic3RhcnQiOiAxMSwgImVuZCI6IDI3fSwgeyJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgInN0YXJ0IjogMzEsICJlbmQiOiAzMX1dfSwgeyJ0aXRsZSI6ICJFZmVjdGUgyJlpIEkvTyIsICJyYXRpb25hbGUiOiAiSXpvbMSDbSBlZmVjdGVsZSBzZWN1bmRhcmUgKGxvZ2FyZSwgZmV0Y2gsIHRpbXApIGxhIG5pdmVsdWwgaW50ZXJmZcibZWkuIiwgImJsb2NrcyI6IFt7Im5hbWUiOiAiZmliR2VuIiwgImtpbmQiOiAiZnVuYyIsICJzdGFydCI6IDcsICJlbmQiOiAzMH0sIHsibmFtZSI6ICJmaWIiLCAia2luZCI6ICJhcnJvdyIsICJzdGFydCI6IDExLCAiZW5kIjogMjd9XX1dLCAicGF0Y2hlcyI6IFtbeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiAwLCAiZW5kIjogMCwgInRleHQiOiAiIiwgImZvY3VzU3RhcnQiOiA5LCAiZm9jdXNFbmQiOiAyNywgInNjcm9sbExpbmUiOiA5LCAibmFtZSI6ICJ2YXIiLCAia2luZCI6ICJjb25zdCIsICJibGtJZCI6ICJjb25zdDp2YXJAOS0yNyIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAOS0yNzoxIn1dLCBbeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiAxLCAiZW5kIjogMSwgInRleHQiOiAiICBjb25zdCBmaWIgPSAoaW5kZXgpID0+IHsiLCAiZm9jdXNTdGFydCI6IDExLCAiZm9jdXNFbmQiOiAyNywgInNjcm9sbExpbmUiOiAxMSwgIm5hbWUiOiAidmFyIiwgImtpbmQiOiAiY29uc3QiLCAiYmxrSWQiOiAiY29uc3Q6dmFyQDExLTI3IiwgImhJZCI6ICJodW5rOmNvbnN0OnZhckAxMS0yNzoxIn1dLCBbeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiAyLCAiZW5kIjogMiwgInRleHQiOiAiIiwgImZvY3VzU3RhcnQiOiAzMSwgImZvY3VzRW5kIjogMzEsICJzY3JvbGxMaW5lIjogMzEsICJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgImJsa0lkIjogImNvbnN0OnZhckAzMS0zMSIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAMzEtMzE6MSJ9XSwgW3sib3AiOiAiaW5zZXJ0IiwgInN0YXJ0IjogMSwgImVuZCI6IDEsICJ0ZXh0IjogIiAgY29uc3QgY2FjaGUgPSBbMSwgMV0iLCAiZm9jdXNTdGFydCI6IDksICJmb2N1c0VuZCI6IDI3LCAic2Nyb2xsTGluZSI6IDEwLCAibmFtZSI6ICJ2YXIiLCAia2luZCI6ICJjb25zdCIsICJibGtJZCI6ICJjb25zdDp2YXJAOS0yNyIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAOS0yNzoyIn1dLCBbeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiA0LCAiZW5kIjogNCwgInRleHQiOiAiIiwgImZvY3VzU3RhcnQiOiAxMSwgImZvY3VzRW5kIjogMjcsICJzY3JvbGxMaW5lIjogMTIsICJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgImJsa0lkIjogImNvbnN0OnZhckAxMS0yNyIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAMTEtMjc6MiJ9XSwgW10sIFt7Im9wIjogImluc2VydCIsICJzdGFydCI6IDQsICJlbmQiOiA0LCAidGV4dCI6ICIgICAgaWYgKGluZGV4IDwgY2FjaGUubGVuZ3RoKSB7IiwgImZvY3VzU3RhcnQiOiAxMSwgImZvY3VzRW5kIjogMjcsICJzY3JvbGxMaW5lIjogMTMsICJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgImJsa0lkIjogImNvbnN0OnZhckAxMS0yNyIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAMTEtMjc6MyJ9XSwgW10sIFt7Im9wIjogImluc2VydCIsICJzdGFydCI6IDYsICJlbmQiOiA2LCAidGV4dCI6ICIiLCAiZm9jdXNTdGFydCI6IDExLCAiZm9jdXNFbmQiOiAyNywgInNjcm9sbExpbmUiOiAxNCwgIm5hbWUiOiAidmFyIiwgImtpbmQiOiAiY29uc3QiLCAiYmxrSWQiOiAiY29uc3Q6dmFyQDExLTI3IiwgImhJZCI6ICJodW5rOmNvbnN0OnZhckAxMS0yNzo0In1dLCBbXSwgW3sib3AiOiAiaW5zZXJ0IiwgInN0YXJ0IjogNiwgImVuZCI6IDYsICJ0ZXh0IjogIiAgICAgIGNvbnNvbGUubG9nKCdmb3VuZCAnICsgaW5kZXgpIiwgImZvY3VzU3RhcnQiOiAxMSwgImZvY3VzRW5kIjogMjcsICJzY3JvbGxMaW5lIjogMTUsICJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgImJsa0lkIjogImNvbnN0OnZhckAxMS0yNyIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAMTEtMjc6NSJ9XSwgW10sIFt7Im9wIjogImluc2VydCIsICJzdGFydCI6IDcsICJlbmQiOiA3LCAidGV4dCI6ICIgICAgICByZXR1cm4gY2FjaGVbaW5kZXhdIiwgImZvY3VzU3RhcnQiOiAxMSwgImZvY3VzRW5kIjogMjcsICJzY3JvbGxMaW5lIjogMTYsICJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgImJsa0lkIjogImNvbnN0OnZhckAxMS0yNyIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAMTEtMjc6NiJ9XSwgW10sIFt7Im9wIjogImluc2VydCIsICJzdGFydCI6IDksICJlbmQiOiA5LCAidGV4dCI6ICIiLCAiZm9jdXNTdGFydCI6IDExLCAiZm9jdXNFbmQiOiAyNywgInNjcm9sbExpbmUiOiAxNywgIm5hbWUiOiAidmFyIiwgImtpbmQiOiAiY29uc3QiLCAiYmxrSWQiOiAiY29uc3Q6dmFyQDExLTI3IiwgImhJZCI6ICJodW5rOmNvbnN0OnZhckAxMS0yNzo3In1dLCBbXSwgW3sib3AiOiAiaW5zZXJ0IiwgInN0YXJ0IjogOSwgImVuZCI6IDksICJ0ZXh0IjogIiAgICB9IiwgImZvY3VzU3RhcnQiOiAxMSwgImZvY3VzRW5kIjogMjcsICJzY3JvbGxMaW5lIjogMTgsICJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgImJsa0lkIjogImNvbnN0OnZhckAxMS0yNyIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAMTEtMjc6OCJ9XSwgW10sIFt7Im9wIjogImluc2VydCIsICJzdGFydCI6IDEwLCAiZW5kIjogMTAsICJ0ZXh0IjogIiAgICAgZWxzZSB7IiwgImZvY3VzU3RhcnQiOiAxMSwgImZvY3VzRW5kIjogMjcsICJzY3JvbGxMaW5lIjogMTksICJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgImJsa0lkIjogImNvbnN0OnZhckAxMS0yNyIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAMTEtMjc6OSJ9XSwgW10sIFt7Im9wIjogImluc2VydCIsICJzdGFydCI6IDEyLCAiZW5kIjogMTIsICJ0ZXh0IjogIiIsICJmb2N1c1N0YXJ0IjogMTEsICJmb2N1c0VuZCI6IDI3LCAic2Nyb2xsTGluZSI6IDIwLCAibmFtZSI6ICJ2YXIiLCAia2luZCI6ICJjb25zdCIsICJibGtJZCI6ICJjb25zdDp2YXJAMTEtMjciLCAiaElkIjogImh1bms6Y29uc3Q6dmFyQDExLTI3OjEwIn1dLCBbXSwgW3sib3AiOiAiaW5zZXJ0IiwgInN0YXJ0IjogMTIsICJlbmQiOiAxMiwgInRleHQiOiAiICAgICAgY29uc29sZS5sb2coJ2NhbGN1bGF0ZWQgJyArIGluZGV4KSIsICJmb2N1c1N0YXJ0IjogMTEsICJmb2N1c0VuZCI6IDI3LCAic2Nyb2xsTGluZSI6IDIxLCAibmFtZSI6ICJ2YXIiLCAia2luZCI6ICJjb25zdCIsICJibGtJZCI6ICJjb25zdDp2YXJAMTEtMjciLCAiaElkIjogImh1bms6Y29uc3Q6dmFyQDExLTI3OjExIn1dLCBbXSwgW3sib3AiOiAiaW5zZXJ0IiwgInN0YXJ0IjogMTMsICJlbmQiOiAxMywgInRleHQiOiAiICAgICAgY2FjaGVbaW5kZXhdID0gZmliKGluZGV4IC0gMSkgKyBmaWIoaW5kZXggLSAyKSIsICJmb2N1c1N0YXJ0IjogMTEsICJmb2N1c0VuZCI6IDI3LCAic2Nyb2xsTGluZSI6IDIyLCAibmFtZSI6ICJ2YXIiLCAia2luZCI6ICJjb25zdCIsICJibGtJZCI6ICJjb25zdDp2YXJAMTEtMjciLCAiaElkIjogImh1bms6Y29uc3Q6dmFyQDExLTI3OjEyIn1dLCBbXSwgW3sib3AiOiAiaW5zZXJ0IiwgInN0YXJ0IjogMTQsICJlbmQiOiAxNCwgInRleHQiOiAiICAgICAgcmV0dXJuIGNhY2hlW2luZGV4XSIsICJmb2N1c1N0YXJ0IjogMTEsICJmb2N1c0VuZCI6IDI3LCAic2Nyb2xsTGluZSI6IDIzLCAibmFtZSI6ICJ2YXIiLCAia2luZCI6ICJjb25zdCIsICJibGtJZCI6ICJjb25zdDp2YXJAMTEtMjciLCAiaElkIjogImh1bms6Y29uc3Q6dmFyQDExLTI3OjEzIn1dLCBbXSwgW3sib3AiOiAiaW5zZXJ0IiwgInN0YXJ0IjogMTYsICJlbmQiOiAxNiwgInRleHQiOiAiIiwgImZvY3VzU3RhcnQiOiAxMSwgImZvY3VzRW5kIjogMjcsICJzY3JvbGxMaW5lIjogMjQsICJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgImJsa0lkIjogImNvbnN0OnZhckAxMS0yNyIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAMTEtMjc6MTQifV0sIFtdLCBbeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiAxNiwgImVuZCI6IDE2LCAidGV4dCI6ICIgICAgfSIsICJmb2N1c1N0YXJ0IjogMTEsICJmb2N1c0VuZCI6IDI3LCAic2Nyb2xsTGluZSI6IDI1LCAibmFtZSI6ICJ2YXIiLCAia2luZCI6ICJjb25zdCIsICJibGtJZCI6ICJjb25zdDp2YXJAMTEtMjciLCAiaElkIjogImh1bms6Y29uc3Q6dmFyQDExLTI3OjE1In1dLCBbXSwgW3sib3AiOiAiaW5zZXJ0IiwgInN0YXJ0IjogMTgsICJlbmQiOiAxOCwgInRleHQiOiAiIiwgImZvY3VzU3RhcnQiOiAxMSwgImZvY3VzRW5kIjogMjcsICJzY3JvbGxMaW5lIjogMjYsICJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgImJsa0lkIjogImNvbnN0OnZhckAxMS0yNyIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAMTEtMjc6MTYifV0sIFtdLCBbeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiAxOCwgImVuZCI6IDE4LCAidGV4dCI6ICIgIH0iLCAiZm9jdXNTdGFydCI6IDExLCAiZm9jdXNFbmQiOiAyNywgInNjcm9sbExpbmUiOiAyNywgIm5hbWUiOiAidmFyIiwgImtpbmQiOiAiY29uc3QiLCAiYmxrSWQiOiAiY29uc3Q6dmFyQDExLTI3IiwgImhJZCI6ICJodW5rOmNvbnN0OnZhckAxMS0yNzoxNyJ9XSwgW10sIFtdLCBbeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiAwLCAiZW5kIjogMCwgInRleHQiOiAiIiwgImZvY3VzU3RhcnQiOiA3LCAiZm9jdXNFbmQiOiAzMCwgInNjcm9sbExpbmUiOiA3LCAibmFtZSI6ICJmaWJHZW4iLCAia2luZCI6ICJmdW5jIiwgImJsa0lkIjogImZ1bmM6ZmliR2VuQDctMzAiLCAiaElkIjogImh1bms6ZnVuYzpmaWJHZW5ANy0zMDoxIn1dLCBbeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiAxLCAiZW5kIjogMSwgInRleHQiOiAiZnVuY3Rpb24gZmliR2VuICgpIHsiLCAiZm9jdXNTdGFydCI6IDcsICJmb2N1c0VuZCI6IDMwLCAic2Nyb2xsTGluZSI6IDgsICJuYW1lIjogImZpYkdlbiIsICJraW5kIjogImZ1bmMiLCAiYmxrSWQiOiAiZnVuYzpmaWJHZW5ANy0zMCIsICJoSWQiOiAiaHVuazpmdW5jOmZpYkdlbkA3LTMwOjIifV0sIFt7Im9wIjogImluc2VydCIsICJzdGFydCI6IDIyLCAiZW5kIjogMjIsICJ0ZXh0IjogIiIsICJmb2N1c1N0YXJ0IjogNywgImZvY3VzRW5kIjogMzAsICJzY3JvbGxMaW5lIjogMjgsICJuYW1lIjogImZpYkdlbiIsICJraW5kIjogImZ1bmMiLCAiYmxrSWQiOiAiZnVuYzpmaWJHZW5ANy0zMCIsICJoSWQiOiAiaHVuazpmdW5jOmZpYkdlbkA3LTMwOjMifV0sIFt7Im9wIjogImluc2VydCIsICJzdGFydCI6IDIyLCAiZW5kIjogMjIsICJ0ZXh0IjogIiAgcmV0dXJuIGZpYiIsICJmb2N1c1N0YXJ0IjogNywgImZvY3VzRW5kIjogMzAsICJzY3JvbGxMaW5lIjogMjksICJuYW1lIjogImZpYkdlbiIsICJraW5kIjogImZ1bmMiLCAiYmxrSWQiOiAiZnVuYzpmaWJHZW5ANy0zMCIsICJoSWQiOiAiaHVuazpmdW5jOmZpYkdlbkA3LTMwOjQifV0sIFt7Im9wIjogImluc2VydCIsICJzdGFydCI6IDIzLCAiZW5kIjogMjMsICJ0ZXh0IjogIn0iLCAiZm9jdXNTdGFydCI6IDcsICJmb2N1c0VuZCI6IDMwLCAic2Nyb2xsTGluZSI6IDMwLCAibmFtZSI6ICJmaWJHZW4iLCAia2luZCI6ICJmdW5jIiwgImJsa0lkIjogImZ1bmM6ZmliR2VuQDctMzAiLCAiaElkIjogImh1bms6ZnVuYzpmaWJHZW5ANy0zMDo1In1dLCBbeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiAwLCAiZW5kIjogMCwgInRleHQiOiAiLyoqXG4qMyAtIFVybcSDcmnIm2kgdmlkZW9jbGlwdWwgUzR2My5tcDQgcGVudHJ1IGEgdmVkZWEgY3VtIHNlIGltcGxlbWVudGVhesSDIHVuIGNsb3N1cmUgcGVudHJ1IG1lbW9pemFyZWEgcmV6dWx0YXRlbG9yIHVuZWkgZnVuY8ibaWkuXG4qIER1cMSDIGNlIGHIm2kgdGVzdGF0IGV4ZW1wbHVsLCBpbXBsZW1lbnRhyJtpIG8gdmFyaWFudMSDIHJlY3Vyc2l2YSBhIHVuZWkgZnVuY8ibaWkgZGUgZXhwb25lbsibaWVyZS5cbiogQXTDonQgcmV6dWx0YXRlbGUgZmluYWxlIGPDonQgyJlpIGNlbGUgaW50ZXJtZWRpYXJlIHZvciBmaSBtZW1vaXphdGUuXG4qXG4qLyJ9LCB7Im9wIjogImluc2VydCIsICJzdGFydCI6IDI1LCAiZW5kIjogMjUsICJ0ZXh0IjogImNvbnN0IGZpYiA9IGZpYkdlbigpXG5jb25zb2xlLmxvZyhmaWIoMSkpXG5jb25zb2xlLmxvZyhmaWIoNSkpXG5jb25zb2xlLmxvZyhmaWIoMykpIn1dXSwgImxsbSI6IHsicHJvdmlkZXIiOiAiTWlzdHJhbCBDb2Rlc3RyYWwiLCAibW9kZWwiOiAiY29kZXN0cmFsLWxhdGVzdCIsICJub3RlcyI6IHsiY29uc3Q6dmFyQDktMjciOiAiIyMjICoqQnVsbGV0cyBEaWRhY3RpY2UqKlxuXG4tICoqUm9sKio6IEZ1bmPIm2lhIGBmaWJgIGNhbGN1bGVhesSDIGFsIGBpbmRleGAtbGVhIG51bcSDciBkaW4gyJlpcnVsIGx1aSBGaWJvbmFjY2ksIGZvbG9zaW5kIG8gYWJvcmRhcmUgZGUgbWVtb3JpemFyZSAoY2FjaGluZykgcGVudHJ1IGEgZXZpdGEgcmVjYWxjdWzEg3JpbGUgcmVkdW5kYW50ZS5cblxuLSAqKkludHLEg3JpL0llyJlpcmkqKjpcbiAgLSAqKkludHLEg3JpKio6IFVuIG51bcSDciDDrm50cmVnIGBpbmRleGAgY2FyZSByZXByZXppbnTEgyBwb3ppyJtpYSDDrm4gyJlpcnVsIGx1aSBGaWJvbmFjY2kuXG4gIC0gKipJZciZaXJpKio6IEFsIGBpbmRleGAtbGVhIG51bcSDciBkaW4gyJlpcnVsIGx1aSBGaWJvbmFjY2kuXG5cbi0gKipFZmVjdGUqKjpcbiAgLSAqKkNhY2hlKio6IEZ1bmPIm2lhIHV0aWxpemVhesSDIHVuIGFycmF5IGBjYWNoZWAgcGVudHJ1IGEgc3RvY2EgcmV6dWx0YXRlbGUgaW50ZXJtZWRpYXJlLCByZWR1Y8OibmQgbnVtxINydWwgZGUgY2FsY3VsxINyaSBuZWNlc2FyZS5cbiAgLSAqKlJlY3Vyc2l2aXRhdGUqKjogRnVuY8ibaWEgYXBlbGVhesSDIHJlY3Vyc2l2IGVhIMOubnPEg8iZaSBwZW50cnUgYSBjYWxjdWxhIHZhbG9yaWxlIG5lY2VzYXJlIGRpbiDImWlydWwgbHVpIEZpYm9uYWNjaS5cbiAgLSAqKkFmaXNhcmUqKjogRnVuY8ibaWEgYWZpyJllYXrEgyBtZXNhamUgw65uIGNvbnNvbMSDIHBlbnRydSBhIGluZGljYSBkYWPEgyB1biBudW3Eg3IgYSBmb3N0IGfEg3NpdCDDrm4gY2FjaGUgc2F1IGEgZm9zdCBjYWxjdWxhdC5cblxuLSAqKkF2YW50YWplKio6XG4gIC0gKipFZmljaWVuyJvEgyoqOiBNZW1vcml6YXJlYSByZWR1Y2UgY29tcGxleGl0YXRlYSB0aW1wdWx1aSBkZSBsYSBleHBvbmVuyJtpYWzEgyAoTygyXm4pKSBsYSBsaW5pYXLEgyAoTyhuKSkgw65uIGNhenVsIGNlbCBtYWkgYnVuLlxuICAtICoqU2ltcGxpdGF0ZSoqOiBDb2R1bCBlc3RlIHXImW9yIGRlIMOubsibZWxlcyDImWkgZGUgbW9kaWZpY2F0LlxuXG4tICoqRGV6YXZhbnRhamUqKjpcbiAgLSAqKk1lbW9yaWUqKjogVXRpbGl6YXJlYSB1bnVpIGFycmF5IHBlbnRydSBjYWNoZSBwb2F0ZSBjb25zdW1hIG11bHTEgyBtZW1vcmllIHBlbnRydSB2YWxvcmkgbWFyaSBhbGUgYGluZGV4YC5cbiAgLSAqKlJlY3Vyc2l2aXRhdGUqKjogUGVudHJ1IHZhbG9yaSBtYXJpIGFsZSBgaW5kZXhgLCBzdGl2YSBkZSBhcGVsdXJpIHBvYXRlIGRlcMSDyJlpIGxpbWl0YSBkZSBtZW1vcmllLlxuXG4tICoqRXhlbXBsdSBkZSBVdGlsaXphcmUqKjpcbiAgYGBganNcbiAgY29uc29sZS5sb2coZmliKDUpKTsgLy8gQWZpyJllYXrEgzogY2FsY3VsYXRlZCAyLCBjYWxjdWxhdGVkIDMsIGNhbGN1bGF0ZWQgNCwgY2FsY3VsYXRlZCA1LCA1XG4gIGNvbnNvbGUubG9nKGZpYigzKSk7IC8vIEFmaciZZWF6xIM6IGZvdW5kIDMsIDJcbiAgYGBgIiwgImNvbnN0OnZhckAxMS0yNyI6ICIjIyMgKipCdWxsZXRzIERpZGFjdGljZSoqXG5cbi0gKipSb2wqKjogRnVuY8ibaWEgYGZpYmAgY2FsY3VsZWF6xIMgYWwgYGluZGV4YC1sZWEgbnVtxINyIGRpbiDImWlydWwgbHVpIEZpYm9uYWNjaSBmb2xvc2luZCBvIGFib3JkYXJlIGRlIG1lbW9yaXphcmUgKGNhY2hpbmcpIHBlbnRydSBhIG9wdGltaXphIHBlcmZvcm1hbsibYS5cbi0gKipJbnRyxINyaS9JZciZaXJpKio6XG4gIC0gKipJbnRyxINyaSoqOiBVbiBudW3Eg3Igw65udHJlZyBgaW5kZXhgIGNhcmUgcmVwcmV6aW50xIMgcG96acibaWEgw65uIMiZaXJ1bCBsdWkgRmlib25hY2NpLlxuICAtICoqSWXImWlyaSoqOiBWYWxvYXJlYSBudW3Eg3J1bHVpIGRlIEZpYm9uYWNjaSBkZSBsYSBwb3ppyJtpYSBgaW5kZXhgLlxuLSAqKkVmZWN0ZSoqOlxuICAtICoqQ2FjaGUqKjogRnVuY8ibaWEgdXRpbGl6ZWF6xIMgdW4gYXJyYXkgYGNhY2hlYCBwZW50cnUgYSBzdG9jYSB2YWxvcmlsZSBjYWxjdWxhdGUgYW50ZXJpb3IsIHJlZHVjw6JuZCBhc3RmZWwgbnVtxINydWwgZGUgYXBlbHVyaSByZWN1cnNpdmUgyJlpIG9wdGltaXrDom5kIHRpbXB1bCBkZSBleGVjdcibaWUuXG4gIC0gKipMb2dhcmUqKjogRnVuY8ibaWEgYWZpyJllYXrEgyDDrm4gY29uc29sxIMgbWVzYWplIGNhcmUgaW5kaWPEgyBkYWPEgyB2YWxvYXJlYSBhIGZvc3QgZ8SDc2l0xIMgw65uIGNhY2hlIHNhdSBjYWxjdWxhdMSDLlxuICAtICoqUmVjdXJzaXZpdGF0ZSoqOiBGdW5jyJtpYSBhcGVsZWF6xIMgcmVjdXJzaXYgZWEgw65uc8SDyJlpIHBlbnRydSBhIGNhbGN1bGEgdmFsb3JpbGUgbmVjZXNhcmUgZGluIMiZaXJ1bCBsdWkgRmlib25hY2NpLiIsICJjb25zdDp2YXJAMzEtMzEiOiAiQWljaSBlc3RlIHVuIGV4ZW1wbHUgZGUgYnVsbGV0cyBkaWRhY3RpY2UgcGVudHJ1IHVuIHByb2Zlc29yLCBwcmV6ZW50YXRlIMOubiBmb3JtYXQgTWFya2Rvd246XG5cbmBgYG1hcmtkb3duXG4tICoqUm9sdWwgcHJvZmVzb3J1bHVpKio6XG4gIC0gRmFjaWxpdGF0b3IgYWwgcHJvY2VzdWx1aSBkZSDDrm52xIPIm2FyZS5cbiAgLSBHaGlkIMiZaSBtZW50b3IgcGVudHJ1IHN0dWRlbsibaS5cbiAgLSBFdmFsdWF0b3IgYWwgcHJvZ3Jlc3VsdWkgyJlpIGEgY29tcGV0ZW7Im2Vsb3IuXG5cbi0gKipJbnRyxINyaS9pZciZaXJpKio6XG4gIC0gKipJbnRyxINyaSoqOlxuICAgIC0gQ29uyJtpbnV0dWwgZGUgw65udsSDyJthdC5cbiAgICAtIFJlc3Vyc2VsZSBkaWRhY3RpY2UgKGPEg3LIm2ksIGFydGljb2xlLCBtYXRlcmlhbGUgbXVsdGltZWRpYSkuXG4gICAgLSBGZWVkYmFjay11bCBzdHVkZW7Im2lsb3IuXG4gIC0gKipJZciZaXJpKio6XG4gICAgLSBTdHVkZW7Im2lpIGN1IGN1bm/ImXRpbsibZSDImWkgYWJpbGl0xIPIm2kgbm9pLlxuICAgIC0gRXZhbHXEg3JpIMiZaSBmZWVkYmFjayBwZW50cnUgc3R1ZGVuyJtpLlxuICAgIC0gTWF0ZXJpYWxlIGRpZGFjdGljZSBhY3R1YWxpemF0ZS5cblxuLSAqKkVmZWN0ZSoqOlxuICAtIENyZciZdGVyZWEgY3Vub8iZdGluyJtlbG9yIMiZaSBhIGNvbXBldGVuyJtlbG9yIHN0dWRlbsibaWxvci5cbiAgLSBEZXp2b2x0YXJlYSBhYmlsaXTEg8ibaWxvciBkZSBjb211bmljYXJlIMiZaSBkZSBsdWNydSDDrm4gZWNoaXDEgy5cbiAgLSBDcmVhcmVhIHVuZWkgYXRtb3NmZXJlIGRlIMOubnbEg8ibYXJlIHBveml0aXbEgyDImWkgaW5jbHVzaXbEgy5cbiAgLSBDb250cmlidcibaWEgbGEgZGV6dm9sdGFyZWEgY29tdW5pdMSDyJtpaSBhY2FkZW1pY2UuXG5gYGAiLCAiZnVuYzpmaWJHZW5ANy0zMCI6ICIjIyMgQnVsbGV0cyBEaWRhY3RpY2VcblxuLSAqKlJvbCoqOiBGdW5jyJtpYSBgZmliR2VuYCBlc3RlIHVuIGdlbmVyYXRvciBkZSBmdW5jyJtpaSBjYXJlIHJldHVybmVhesSDIG8gZnVuY8ibaWUgYGZpYmAgY2FyZSBjYWxjdWxlYXrEgyBhbCBuLWxlYSB0ZXJtZW4gZGluIMiZaXJ1bCBsdWkgRmlib25hY2NpIGZvbG9zaW5kIG1lbW9pemFyZSAoY2FjaGluZykgcGVudHJ1IGEgb3B0aW1pemEgcGVyZm9ybWFuyJthLlxuXG4tICoqSW50csSDcmkvSWXImWlyaSoqOlxuICAtICoqSW50csSDcmkqKjogRnVuY8ibaWEgYGZpYmAgcHJpbWXImXRlIHVuIGluZGV4IGBpbmRleGAgY2FyZSByZXByZXppbnTEgyBwb3ppyJtpYSB0ZXJtZW51bHVpIGRpbiDImWlydWwgbHVpIEZpYm9uYWNjaSBwZSBjYXJlIGRvcmltIHPEgy1sIGNhbGN1bMSDbS5cbiAgLSAqKkllyJlpcmkqKjogRnVuY8ibaWEgYGZpYmAgcmV0dXJuZWF6xIMgdmFsb2FyZWEgdGVybWVudWx1aSBkZSBsYSBwb3ppyJtpYSBgaW5kZXhgIGRpbiDImWlydWwgbHVpIEZpYm9uYWNjaS5cblxuLSAqKkVmZWN0ZSoqOlxuICAtICoqTWVtb2l6YXJlKio6IEZ1bmPIm2lhIGBmaWJgIGZvbG9zZciZdGUgdW4gYXJyYXkgYGNhY2hlYCBwZW50cnUgYSBzdG9jYSB0ZXJtZW5paSBkZWphIGNhbGN1bGHIm2kgYWkgyJlpcnVsdWkgbHVpIEZpYm9uYWNjaS4gQWNlc3QgbHVjcnUgcmVkdWNlIG51bcSDcnVsIGRlIGFwZWx1cmkgcmVjdXJzaXZlIMiZaSDDrm1idW7Eg3TEg8ibZciZdGUgcGVyZm9ybWFuyJthLlxuICAtICoqQWZpc2FyZSoqOiBGdW5jyJtpYSBgZmliYCBhZmnImWVhesSDIHVuIG1lc2FqIMOubiBjb25zb2zEgyBwZW50cnUgYSBpbmRpY2EgZGFjxIMgdGVybWVudWwgYSBmb3N0IGfEg3NpdCDDrm4gY2FjaGUgc2F1IGEgZm9zdCBjYWxjdWxhdC5cbiAgLSAqKlJlY3Vyc2l2aXRhdGUqKjogRnVuY8ibaWEgYGZpYmAgdXRpbGl6ZWF6xIMgcmVjdXJzaXZpdGF0ZSBwZW50cnUgYSBjYWxjdWxhIHRlcm1lbmlpIMiZaXJ1bHVpIGx1aSBGaWJvbmFjY2kuIFBlbnRydSBmaWVjYXJlIGluZGV4IGNhcmUgbnUgZXN0ZSDDrm4gY2FjaGUsIGZ1bmPIm2lhIGFwZWxlYXrEgyByZWN1cnNpdiBgZmliYCBwZW50cnUgYSBjYWxjdWxhIHRlcm1lbmlpIGFudGVyaW9yaSDImWkgYXBvaSBhZGF1Z8SDIHJlenVsdGF0ZWxlIHBlbnRydSBhIG9iyJtpbmUgdGVybWVudWwgY3VyZW50LlxuXG4tICoqQXZhbnRhamUqKjpcbiAgLSAqKk9wdGltaXphcmUqKjogTWVtb2l6YXJlYSByZWR1Y2UgY29tcGxleGl0YXRlYSB0aW1wdWx1aSBkZSBsYSBleHBvbmVuyJtpYWzEgyAoTygyXm4pKSBsYSBsaW5pYXLEgyAoTyhuKSkgcGVudHJ1IGNhbGN1bHVsIHRlcm1lbmlsb3IgyJlpcnVsdWkgbHVpIEZpYm9uYWNjaS5cbiAgLSAqKkNsYXJpdGF0ZSoqOiBTdHJ1Y3R1cmEgZnVuY8ibaW9uYWzEgyDImWkgdXRpbGl6YXJlYSBjYWNoZS11bHVpIGZhYyBjb2R1bCB1yJlvciBkZSDDrm7Im2VsZXMgyJlpIGRlIMOubnRyZcibaW51dC5cblxuLSAqKkRlemF2YW50YWplKio6XG4gIC0gKipNZW1vcmllKio6IFV0aWxpemFyZWEgdW51aSBhcnJheSBwZW50cnUgY2FjaGUgcG9hdGUgY29uc3VtYSBvIGNhbnRpdGF0ZSBzZW1uaWZpY2F0aXbEgyBkZSBtZW1vcmllIHBlbnRydSB2YWxvcmkgbWFyaSBhbGUgaW5kZXh1bHVpLlxuICAtICoqUmVjdXJzaXZpdGF0ZSoqOiBQZW50cnUgdmFsb3JpIG1hcmkgYWxlIGluZGV4dWx1aSwgYWTDom5jaW1lYSByZWN1cnNpdml0xIPIm2lpIHBvYXRlIGR1Y2UgbGEgZGVwxIPImWlyZWEgc3RpdmVpIGRlIGFwZWx1cmksIGNlZWEgY2UgcG9hdGUgY2F1emEgbyBlcm9hcmUgZGUgc3RpdsSDIChzdGFjayBvdmVyZmxvdykuXG5cbi0gKipFeGVtcGx1IGRlIFV0aWxpemFyZSoqOlxuICBgYGBqc1xuICBjb25zdCBmaWIgPSBmaWJHZW4oKVxuICBjb25zb2xlLmxvZyhmaWIoNSkpIC8vIEFmaciZZWF6xIM6IGNhbGN1bGF0ZWQgMywgY2FsY3VsYXRlZCA0LCBmb3VuZCAyLCBmb3VuZCAxLCBmb3VuZCAwLCA4XG4gIGBgYCIsICJhcnJvdzpmaWJAMTEtMjciOiAiIyMjIEJ1bGxldHMgRGlkYWN0aWNlXG5cbi0gKipSb2wqKjogRnVuY8ibaWEgYGZpYmAgY2FsY3VsZWF6xIMgYWwgYGluZGV4YC1sZWEgbnVtxINyIGRpbiDImWlydWwgbHVpIEZpYm9uYWNjaSBmb2xvc2luZCBvIGFib3JkYXJlIGRlIG1lbW9yaXphcmUgKGNhY2hpbmcpIHBlbnRydSBhIG9wdGltaXphIHBlcmZvcm1hbsibYS5cbi0gKipJbnRyxINyaS9JZciZaXJpKio6XG4gIC0gKipJbnRyxINyaSoqOiBVbiBudW3Eg3Igw65udHJlZyBgaW5kZXhgIGNhcmUgcmVwcmV6aW50xIMgcG96acibaWEgw65uIMiZaXJ1bCBsdWkgRmlib25hY2NpLlxuICAtICoqSWXImWlyaSoqOiBBbCBgaW5kZXhgLWxlYSBudW3Eg3IgZGluIMiZaXJ1bCBsdWkgRmlib25hY2NpLlxuLSAqKkVmZWN0ZSoqOlxuICAtICoqRWZlY3RlIHNlY3VuZGFyZSoqOiBGdW5jyJtpYSB1dGlsaXplYXrEgyB1biBhcnJheSBnbG9iYWwgYGNhY2hlYCBwZW50cnUgYSBzdG9jYSByZXp1bHRhdGVsZSBpbnRlcm1lZGlhcmUsIGNlZWEgY2UgcG9hdGUgYXZlYSBlZmVjdGUgc2VjdW5kYXJlIGRhY8SDIGBjYWNoZWAgZXN0ZSBtb2RpZmljYXQgw65uIGFsdGUgcMSDcsibaSBhbGUgY29kdWx1aS5cbiAgLSAqKkVmaWNpZW7Im8SDKio6IEFib3JkYXJlYSBkZSBtZW1vcml6YXJlIHJlZHVjZSBudW3Eg3J1bCBkZSBhcGVsdXJpIHJlY3Vyc2l2ZSwgY2VlYSBjZSDDrm1idW7Eg3TEg8ibZciZdGUgcGVyZm9ybWFuyJthIHBlbnRydSB2YWxvcmkgbWFyaSBhbGUgYGluZGV4YC5cbiAgLSAqKk1lc2FqZSBkZSBjb25zb2xhKio6IEZ1bmPIm2lhIGFmaciZZWF6xIMgbWVzYWplIMOubiBjb25zb2zEgyBwZW50cnUgYSBpbmRpY2EgZGFjxIMgdW4gbnVtxINyIEZpYm9uYWNjaSBhIGZvc3QgZ8SDc2l0IMOubiBjYWNoZSBzYXUgY2FsY3VsYXQuXG4gIC0gKipSZWN1cnNpdml0YXRlKio6IEZ1bmPIm2lhIGFwZWxlYXrEgyByZWN1cnNpdiBlYSDDrm5zxIPImWkgcGVudHJ1IGEgY2FsY3VsYSBudW1lcmVsZSBGaWJvbmFjY2kgYW50ZXJpb2FyZSwgY2VlYSBjZSBwb2F0ZSBkdWNlIGxhIHVuIG51bcSDciBtYXJlIGRlIGFwZWx1cmkgcGVudHJ1IHZhbG9yaSBtYXJpIGFsZSBgaW5kZXhgLiJ9LCAibWljcm8iOiB7Imh1bms6Y29uc3Q6dmFyQDExLTI3OjEiOiAiLSAqKkRlY2xhcmFyZWEgdmFyaWFiaWxlaSBgZmliYCoqOiBBY2Vhc3TEgyBpbnNlcsibaWUgZGVjbGFyxIMgbyB2YXJpYWJpbMSDIGBmaWJgIGNhcmUgZXN0ZSBvIGZ1bmPIm2llIGRlIHRpcCBhcnJvdyBmdW5jdGlvbi4gQWNlYXN0YSBwZXJtaXRlIHN0b2NhcmVhIGZ1bmPIm2llaSDDrm50ci1vIHZhcmlhYmlsxIMgyJlpIHV0aWxpemFyZWEgYWNlc3RlaWEgdWx0ZXJpb3Igw65uIGNvZC5cbi0gKipQYXJhbWV0cnVsIGBpbmRleGAqKjogRnVuY8ibaWEgYGZpYmAgcHJpbWXImXRlIHVuIHBhcmFtZXRydSBgaW5kZXhgLCBjYXJlIHJlcHJlemludMSDIHBvemnIm2lhIGRpbiDImWlydWwgbHVpIEZpYm9uYWNjaSBwZSBjYXJlIGRvcmXImXRpIHPEgyBvIGNhbGN1bGV6aS5cbi0gKipTY29wdWwgZnVuY8ibaWVpKio6IEFjZWFzdMSDIGZ1bmPIm2llIGVzdGUgZGVzdGluYXTEgyBzxIMgY2FsY3VsZXplIMiZaSBzxIMgcmV0dXJuZXplIHZhbG9hcmVhIGRlIGxhIHBvemnIm2lhIHNwZWNpZmljYXTEgyBkaW4gyJlpcnVsIGx1aSBGaWJvbmFjY2kuIiwgImh1bms6Y29uc3Q6dmFyQDktMjc6MiI6ICItICoqT3B0aW1pemFyZSBhIG1lbW9yaWVpKio6IFN0b2NhcmVhIHZhbG9yaWxvciBpbmnIm2lhbGUgw65uIGBjYWNoZWAgcmVkdWNlIG51bcSDcnVsIGRlIGNhbGN1bMSDcmkgcmVwZXRhdGUsIGVjb25vbWlzaW5kIHRpbXAgyJlpIHJlc3Vyc2UuXG4tICoqQWNjZWxlcmFyZSBhIHBlcmZvcm1hbsibZWkqKjogQWNjZXN1bCBkaXJlY3QgbGEgdmFsb3JpbGUgZGluIGBjYWNoZWAgZXN0ZSBtYWkgcmFwaWQgZGVjw6J0IHJlY2FsY3VsYXJlYSBsb3IsIMOubWJ1bsSDdMSDyJtpbmQgZWZpY2llbsibYSBmdW5jyJtpZWkuXG4tICoqU2ltcGxpZmljYXJlIGEgY29kdWx1aSoqOiBFbGltaW7EgyBuZWNlc2l0YXRlYSBkZSBhIHJlY2FsY3VsYSB2YWxvcmkgZGVqYSBjdW5vc2N1dGUsIGbEg2PDom5kIGNvZHVsIG1haSBjdXJhdCDImWkgbWFpIHXImW9yIGRlIMOubsibZWxlcy5cbi0gKipTY2FsYWJpbGl0YXRlKio6IFBlcm1pdGUgZnVuY8ibaWVpIHPEgyBnZXN0aW9uZXplIG1haSBtdWx0ZSBjYXp1cmkgZsSDcsSDIGEgYWZlY3RhIHBlcmZvcm1hbsibYSwgZGVvYXJlY2UgdmFsb3JpbGUgc3VudCBzdG9jYXRlIMiZaSBhY2Nlc2F0ZSBlZmljaWVudC4iLCAiaHVuazpjb25zdDp2YXJAMTEtMjc6MyI6ICItICoqT3B0aW1pemFyZSBhIHBlcmZvcm1hbsibZWkqKjogVmVyaWZpY2FyZWEgbHVuZ2ltaWkgY2FjaGUtdWx1aSDDrm5haW50ZSBkZSBhY2Nlc2FyZSBldml0xIMgZXJvcmkgZGUgaW5kZXhhcmUgyJlpIHBvYXRlIHJlZHVjZSB0aW1wdWwgZGUgZXhlY3XIm2llIHByaW4gZXZpdGFyZWEgb3BlcmHIm2lpbG9yIGludXRpbGUuXG4tICoqUHJldmVuaXJlIGEgZXJvcmlsb3IqKjogQXNpZ3VyxIMgY8SDIGluZGV4dWwgZXN0ZSB2YWxpZCwgcHJldmVuaW5kIGVyb3JpIHByZWN1bSBcIkluZGV4IG91dCBvZiBib3VuZHNcIi5cbi0gKipDbGFyaXRhdGUgyJlpIHXImXVyaW7Im8SDIGRlIMOubnRyZcibaW5lcmUqKjogQ29kdWwgZGV2aW5lIG1haSB1yJlvciBkZSDDrm7Im2VsZXMgyJlpIGRlIMOubnRyZcibaW51dCwgZGVvYXJlY2UgY29uZGnIm2lhIGV4cGxpY2l0xIMgZmFjZSBleHBsaWNpdMSDIGludGVuyJtpYSBkZSBhIGFjY2VzYSB1biBlbGVtZW50IGRpbiBjYWNoZS4iLCAiaHVuazpjb25zdDp2YXJAMTEtMjc6NSI6ICItICoqRGVwYW5hcmUqKjogQWp1dMSDIGxhIGlkZW50aWZpY2FyZWEgcG96acibaWVpIHVudWkgZWxlbWVudCDDrm4gYXJyYXkgc2F1IGEgdW5laSB2YWxvcmkgw65udHItdW4gb2JpZWN0LlxuLSAqKkZlZWRiYWNrIHZpenVhbCoqOiBDb25maXJtxIMgY8SDIGNvZHVsIGEgYWp1bnMgbGEgbyBhbnVtaXTEgyBldGFwxIMsIGZhY2lsaXTDom5kIHVybcSDcmlyZWEgZXhlY3XIm2llaS5cbi0gKipEaWFnbm9zdGljYXJlKio6IFBvYXRlIGluZGljYSBkYWPEgyBvIGPEg3V0YXJlIHNhdSBvIHZlcmlmaWNhcmUgYSBmb3N0IHJlYWxpemF0xIMgY3Ugc3VjY2VzLiIsICJodW5rOmNvbnN0OnZhckAxMS0yNzo2IjogIi0gKipBY2NlbGVyYXJlIGEgcGVyZm9ybWFuyJtlaSoqOiBBY2Vhc3TEgyBpbnNlcsibaWUgcGVybWl0ZSBhY2Nlc3VsIGRpcmVjdCBsYSBkYXRlbGUgY2FjaGUsIHJlZHVjw6JuZCB0aW1wdWwgZGUgY8SDdXRhcmUgyJlpIMOubWJ1bsSDdMSDyJtpbmQgdml0ZXphIGV4ZWN1yJtpZWkgZnVuY8ibaWVpLlxuLSAqKkV2aXRhcmVhIHJlY2FsY3VsxINyaWxvcioqOiBQcmluIHV0aWxpemFyZWEgdmFsb3JpbG9yIGNhY2hlLCBzZSBldml0xIMgcmVjYWxjdWzEg3JpbGUgcmVkdW5kYW50ZSwgZWNvbm9taXNpbmQgcmVzdXJzZSDImWkgdGltcCBkZSBwcm9jZXNhcmUuXG4tICoqT3B0aW1pemFyZSBhIG1lbW9yaWVpKio6IFN0b2NhcmVhIHZhbG9yaWxvciDDrm4gY2FjaGUgcG9hdGUgcmVkdWNlIHV0aWxpemFyZWEgbWVtb3JpZWksIGRlb2FyZWNlIGRhdGVsZSBzdW50IHJldXRpbGl6YXRlIMOubiBsb2Mgc8SDIGZpZSByZWNhbGN1bGF0ZSBzYXUgcmXDrm5jxINyY2F0ZS4iLCAiaHVuazpjb25zdDp2YXJAMTEtMjc6OCI6ICItICoqQWRhdWfEgyBvIHZhcmlhYmlsxIMgY29uc3RhbnTEgyoqIMOubiBmdW5jyJtpZSwgY2FyZSBwb2F0ZSBmaSB1dGlsaXphdMSDIHBlbnRydSBhIHN0b2NhIG8gdmFsb2FyZSBjYXJlIG51IHNlIHNjaGltYsSDIMOubiB0aW1wdWwgZXhlY3XIm2llaSBmdW5jyJtpZWkuXG4tICoqw45tYnVuxIN0xIPIm2XImXRlIGNpdGliaWxpdGF0ZWEgY29kdWx1aSoqIHByaW4gc3BlY2lmaWNhcmVhIGV4cGxpY2l0xIMgYSB2YXJpYWJpbGVsb3IgY2FyZSBudSB2b3IgZmkgbW9kaWZpY2F0ZS5cbi0gKipQcmV2aW5lIG1vZGlmaWPEg3JpbGUgYWNjaWRlbnRhbGUqKiBhbGUgdmFyaWFiaWxlbG9yIGNvbnN0YW50ZSwgcmVkdWPDom5kIHJpc2N1bCBkZSBlcm9yaSDDrm4gY29kLlxuLSAqKk9wdGltaXplYXrEgyBwZXJmb3JtYW7Im2EqKiBwcmluIHV0aWxpemFyZWEgdmFyaWFiaWxlbG9yIGNvbnN0YW50ZSwgY2FyZSBwb3QgZmkgdHJhdGF0ZSBtYWkgZWZpY2llbnQgZGUgbW90b3J1bCBKYXZhU2NyaXB0LiIsICJodW5rOmNvbnN0OnZhckAxMS0yNzo5IjogIi0gKipDb3JlY3RhcmUgYSBpbmRlbnTEg3JpaSoqOiBJbnNlcsibaWEgY29yZWN0ZWF6xIMgaW5kZW50YXJlYSBwZW50cnUgYSByZXNwZWN0YSBzdHJ1Y3R1cmEgY29kdWx1aSwgZsSDY8OibmQtbCBtYWkgdciZb3IgZGUgY2l0aXQgyJlpIGRlIMOubnRyZcibaW51dC5cbi0gKipDbGFyaXRhdGUqKjogQWp1dMSDIGxhIGlkZW50aWZpY2FyZWEgYmxvY3VyaWxvciBkZSBjb2QsIGZhY2lsaXTDom5kIMOubsibZWxlZ2VyZWEgZmx1eHVsdWkgZGUgZXhlY3XIm2llLlxuLSAqKkNvbnNpc3RlbsibxIMqKjogQXNpZ3VyxIMgY8SDIGNvZHVsIHJlc3BlY3TEgyBjb252ZW7Im2lpbGUgZGUgc3RpbGFyZSwgY29udHJpYnVpbmQgbGEgbyBiYXrEgyBkZSBjb2QgbWFpIHVuaWZvcm3EgyDImWkgcHJvZmVzaW9uYWzEgy4iLCAiaHVuazpjb25zdDp2YXJAMTEtMjc6MTEiOiAiLSAqKk1vbml0b3JpemFyZSBwcm9ncmVzKio6IEluc2VyyJtpYSBhZGF1Z8SDIHVuIG1lc2FqIGRlIGxvZ2FyZSBjYXJlIGluZGljxIMgcHJvZ3Jlc3VsIGNhbGN1bHVsdWksIGFmaciZw6JuZCBpbmRleHVsIGN1cmVudC5cbi0gKipEZXBhbmFyZSoqOiBBanV0xIMgbGEgaWRlbnRpZmljYXJlYSBwdW5jdGVsb3Igw65uIGNhcmUgcHJvY2VzdWwgc2UgYmxvY2hlYXrEgyBzYXUgdW5kZSBhcGFyIGVyb3JpLlxuLSAqKlXImXVyaW7Im8SDIGRlIHVybcSDcmlyZSoqOiBQZXJtaXRlIHVybcSDcmlyZWEgdciZb2FyxIMgYSBleGVjdcibaWVpIGZ1bmPIm2llaSBwcmluIGludGVybWVkaXVsIG1lc2FqZWxvciBkZSBsb2dhcmUuIiwgImh1bms6Y29uc3Q6dmFyQDExLTI3OjEyIjogIi0gKipPcHRpbWl6YXJlIGEgcGVyZm9ybWFuyJtlaSoqOiBBY2Vhc3TEgyBpbnNlcsibaWUgYWRhdWfEgyB2YWxvcmlsZSBjYWxjdWxhdGUgYW50ZXJpb3Igw65uIGNhY2hlLCBldml0w6JuZCByZWNhbGN1bGFyZWEgbG9yIMiZaSByZWR1Y8OibmQgYXN0ZmVsIHRpbXB1bCBkZSBleGVjdcibaWUgYWwgZnVuY8ibaWVpLlxuLSAqKkV2aXRhcmVhIHJlY2FsY3VsxINyaWxvcioqOiBEYWPEgyBmdW5jyJtpYSBgZmliYCBlc3RlIGFwZWxhdMSDIGN1IGFjZWxhyJlpIGluZGV4IGRlIG1haSBtdWx0ZSBvcmksIHZhbG9yaWxlIGRpbiBjYWNoZSBzdW50IHJldXRpbGl6YXRlLCBjZWVhIGNlIGVzdGUgZXNlbsibaWFsIHBlbnRydSBmdW5jyJtpaSByZWN1cnNpdmUgY2FyZSBwb3QgZHVjZSBsYSBjYWxjdWx1bCByZXBldGF0IGFsIGFjZWxlaWHImWkgdmFsb3JpLlxuLSAqKlJlZHVjZXJlYSBjb21wbGV4aXTEg8ibaWkqKjogQWNlYXN0xIMgdGVobmljxIMgdHJhbnNmb3JtxIMgY29tcGxleGl0YXRlYSBleHBvbmVuyJtpYWzEgyBhIGZ1bmPIm2llaSBgZmliYCDDrm50ci1vIGNvbXBsZXhpdGF0ZSBsaW5pYXLEgywgZGVvYXJlY2UgZmllY2FyZSB2YWxvYXJlIGVzdGUgY2FsY3VsYXTEgyBvIHNpbmd1csSDIGRhdMSDIMiZaSBhcG9pIHJldXRpbGl6YXTEgy4iLCAiaHVuazpjb25zdDp2YXJAMTEtMjc6MTMiOiAiLSAqKk9wdGltaXphcmUgYSBwZXJmb3JtYW7Im2VpKio6IEFjY2VzdWwgZGlyZWN0IGxhIGVsZW1lbnR1bCBkaW4gY2FjaGUgcHJpbiBpbmRleCBlc3RlIG1haSByYXBpZCBkZWPDonQgbyBjxIN1dGFyZSDDrm4gw65udHJlZ3VsIGFycmF5LlxuLSAqKlJlZHVjZXJlYSBjb21wbGV4aXTEg8ibaWkqKjogU2NoaW1iYXJlYSBkZSBsYSBvIGPEg3V0YXJlIGxpbmlhcsSDIChPKG4pKSBsYSB1biBhY2NlcyBkaXJlY3QgKE8oMSkpIHJlZHVjZSBjb21wbGV4aXRhdGVhIGFsZ29yaXRtdWx1aS5cbi0gKipFdml0YXJlYSByZWNhbGN1bMSDcmlsb3IqKjogRm9sb3NpcmVhIHZhbG9yaWkgZGluIGNhY2hlIGV2aXTEgyByZWNhbGN1bGFyZWEgYWNlbGVpYciZaSBmdW5jyJtpaSBwZW50cnUgYWNlbGVhyJlpIHBhcmFtZXRyaSwgZWNvbm9taXNpbmQgdGltcCDImWkgcmVzdXJzZS5cbi0gKipDb25zaXN0ZW7Im8SDIGEgcmV6dWx0YXRlbG9yKio6IEFzaWd1csSDIGPEgyByZXp1bHRhdHVsIGVzdGUgw65udG90ZGVhdW5hIGFjZWxhyJlpIHBlbnRydSBhY2VpYciZaSBpbnRyYXJlLCBwcmV2ZW5pbmQgZXJvcmkgZGUgY2FsY3VsLiIsICJodW5rOmNvbnN0OnZhckAxMS0yNzoxNSI6ICItICoqQWRhdWfEgyBvIHZhcmlhYmlsxIMgY29uc3RhbnTEgyoqIMOubiBmdW5jyJtpZSwgY2FyZSBwb2F0ZSBmaSB1dGlsaXphdMSDIHBlbnRydSBhIHN0b2NhIG8gdmFsb2FyZSBjYXJlIG51IHNlIHZhIHNjaGltYmEuXG4tICoqw45tYnVuxIN0xIPIm2XImXRlIGNpdGliaWxpdGF0ZWEgY29kdWx1aSoqIHByaW4gc3BlY2lmaWNhcmVhIGV4cGxpY2l0xIMgYSB2YXJpYWJpbGVsb3IgY2FyZSBudSB2b3IgZmkgbW9kaWZpY2F0ZS5cbi0gKipQcmV2aW5lIG1vZGlmaWPEg3JpIGFjY2lkZW50YWxlKiogYWxlIHZhcmlhYmlsZWxvciwgcmVkdWPDom5kIHJpc2N1bCBkZSBlcm9yaSDDrm4gY29kLlxuLSAqKk9wdGltaXplYXrEgyBwZXJmb3JtYW7Im2EqKiBwcmluIHV0aWxpemFyZWEgdmFyaWFiaWxlbG9yIGNvbnN0YW50ZSwgY2FyZSBwb3QgZmkgb3B0aW1pemF0ZSBkZSBtb3RvcnVsIEphdmFTY3JpcHQuIiwgImh1bms6Y29uc3Q6dmFyQDExLTI3OjE3IjogIi0gKipBZGF1Z8SDIG8gdmFyaWFiaWzEgyBjb25zdGFudMSDKiogw65uIGZ1bmPIm2llLCBjYXJlIHBvYXRlIGZpIHV0aWxpemF0xIMgcGVudHJ1IGEgc3RvY2EgbyB2YWxvYXJlIGNhcmUgbnUgc2Ugc2NoaW1ixIMgw65uIHRpbXB1bCBleGVjdcibaWVpIGZ1bmPIm2llaS5cbi0gKirDjm1idW7Eg3TEg8ibZciZdGUgY2l0aWJpbGl0YXRlYSBjb2R1bHVpKiogcHJpbiBzcGVjaWZpY2FyZWEgZXhwbGljaXTEgyBhIHZhcmlhYmlsZWxvciBjYXJlIG51IHZvciBmaSBtb2RpZmljYXRlLlxuLSAqKlByZXZpbmUgZXJvcmkgZGUgcHJvZ3JhbWFyZSoqIHByaW4gYXNpZ3VyYXJlYSBjxIMgdmFyaWFiaWxhIG51IGVzdGUgc3VwcmFzY3Jpc8SDIGFjY2lkZW50YWwuXG4tICoqT3B0aW1pemVhesSDIHBlcmZvcm1hbsibYSoqIHByaW4gdXRpbGl6YXJlYSB2YXJpYWJpbGVsb3IgY29uc3RhbnRlLCBjYXJlIHBvdCBmaSBvcHRpbWl6YXRlIGRlIG1vdG9ydWwgSmF2YVNjcmlwdC4iLCAiaHVuazpmdW5jOmZpYkdlbkA3LTMwOjIiOiAiLSAqKkluacibaWFsaXphcmUqKjogQWRhdWfEgyBvIGZ1bmPIm2llIG51bWl0xIMgYGZpYkdlbmAgY2FyZSB2YSBnZW5lcmEgc2VjdmVuyJthIEZpYm9uYWNjaS5cbi0gKipHZW5lcmFyZSBzZWN2ZW7Im8SDKio6IFBlcm1pdGUgY3JlYXJlYSB1bmVpIHNlY3ZlbsibZSBkZSBudW1lcmUgRmlib25hY2NpLCB1bmRlIGZpZWNhcmUgbnVtxINyIGVzdGUgc3VtYSBjZWxvciBkb3XEgyBwcmVjZWRlbnRlLlxuLSAqKlV0aWxpemFyZSoqOiBQb2F0ZSBmaSB1dGlsaXphdMSDIHBlbnRydSBhIGdlbmVyYSBudW1lcmUgRmlib25hY2NpIGxhIGNlcmVyZSwgZsSDcsSDIGEgY2FsY3VsYSDDrm50cmVndWwgyJlpciBkZSBmaWVjYXJlIGRhdMSDLlxuLSAqKkZsZXhpYmlsaXRhdGUqKjogUGVybWl0ZSBwZXJzb25hbGl6YXJlYSBnZW5lcsSDcmlpIHNlY3ZlbsibZWkgRmlib25hY2NpLCBkZSBleGVtcGx1LCBwb3JuaW5kIGRlIGxhIHZhbG9yaSBpbmnIm2lhbGUgZGlmZXJpdGUuIiwgImh1bms6ZnVuYzpmaWJHZW5ANy0zMDo0IjogIi0gKipSZXR1cm5lYXrEgyBmdW5jyJtpYSBgZmliYCoqOiBBY2Vhc3TEgyBpbnNlcsibaWUgcmV0dXJuZWF6xIMgZnVuY8ibaWEgYGZpYmAgw65uIGFmYXJhIGZ1bmPIm2llaSBgZmliR2VuYCwgcGVybWnIm8OibmQgYWNjZXN1bCBsYSBhY2Vhc3RhIGRpbiBhZmFyYSBzY29wdWx1aSBjdXJlbnQuXG4tICoqUGVybWl0ZSBnZW5lcmFyZWEgZGUgbnVtZXJlIEZpYm9uYWNjaSoqOiBGdW5jyJtpYSByZXR1cm5hdMSDIGBmaWJgIHBvYXRlIGZpIHV0aWxpemF0xIMgcGVudHJ1IGEgZ2VuZXJhIG51bWVyZSBGaWJvbmFjY2kgw65uIG1vZCBlZmljaWVudC5cbi0gKirDjm5jYXBzdWxhcmUgYSBzdMSDcmlpKio6IEZ1bmPIm2lhIGBmaWJgIGFyZSBhY2NlcyBsYSB2YXJpYWJpbGVsZSBgYWAgyJlpIGBiYCBkaW4gc2NvcHVsIMOubmNoaXMgYWwgZnVuY8ibaWVpIGBmaWJHZW5gLCBwxINzdHLDom5kIHN0YXJlYSBhY2VzdG9yYSDDrm50cmUgYXBlbHVyaS5cbi0gKipGbGV4aWJpbGl0YXRlKio6IEFjZWFzdMSDIGFib3JkYXJlIHBlcm1pdGUgdXRpbGl6YXJlYSBmdW5jyJtpZWkgYGZpYmAgw65uIGRpZmVyaXRlIGNvbnRleHRlLCBudSBkb2FyIMOubiBpbnRlcmlvcnVsIGZ1bmPIm2llaSBgZmliR2VuYC4iLCAiaHVuazpmdW5jOmZpYkdlbkA3LTMwOjUiOiAiLSAqKsOObmNoaWRlIGZ1bmPIm2lhKio6IEFjZWFzdMSDIGluc2VyyJtpZSDDrm5jaGVpZSBkZWZpbmnIm2lhIGZ1bmPIm2llaSBgZmliR2VuYCwgbWFyY8OibmQgc2bDonLImWl0dWwgYmxvY3VsdWkgZGUgY29kLlxuLSAqKlBlcm1pdGUgYXBlbHVyaSB1bHRlcmlvYXJlKio6IER1cMSDIMOubmNoaWRlcmVhIGZ1bmPIm2llaSwgYWNlYXN0YSBwb2F0ZSBmaSBhcGVsYXTEgyDImWkgdXRpbGl6YXTEgyDDrm4gYWx0ZSBwxINyyJtpIGFsZSBjb2R1bHVpLlxuLSAqKkFzaWd1csSDIGNvcmVjdGl0dWRpbmVhIHNpbnRhY3RpY8SDKio6IMOObmNoaWRlcmVhIGNvcmVjdMSDIGEgZnVuY8ibaWVpIGVzdGUgZXNlbsibaWFsxIMgcGVudHJ1IGEgZXZpdGEgZXJvcmkgZGUgc2ludGF4xIMgyJlpIHBlbnRydSBhIGFzaWd1cmEgZnVuY8ibaW9uYXJlYSBjb3JlY3TEgyBhIGNvZHVsdWkuIn19LCAiYXV0b19ub3RlcyI6IHsiY29uc3Q6dmFyQDktMjciOiAiLSBGdW5jyJtpZSAqKnZhcioqIFs54oCTMjddXG4tIENvbsibaW5lIDIgYHJldHVybmBcbi0gRWZlY3RlOiBsb2dhcmUvZGlhZ25vc3RpY2FyZSIsICJjb25zdDp2YXJAMTEtMjciOiAiLSBGdW5jyJtpZSAqKnZhcioqIFsxMeKAkzI3XVxuLSBQYXJhbWV0cmk6IGBpbmRleGBcbi0gQ29uyJtpbmUgMiBgcmV0dXJuYFxuLSBFZmVjdGU6IGxvZ2FyZS9kaWFnbm9zdGljYXJlIiwgImNvbnN0OnZhckAzMS0zMSI6ICItIEZ1bmPIm2llICoqdmFyKiogWzMx4oCTMzFdXG4tIEhldXJpc3RpY8SDOiBwYXJlICoqcHVyxIMqKiAoZsSDcsSDIGVmZWN0ZSB2aXppYmlsZSkiLCAiZnVuYzpmaWJHZW5ANy0zMCI6ICItIEZ1bmPIm2llICoqZmliR2VuKiogWzfigJMzMF1cbi0gQ29uyJtpbmUgMyBgcmV0dXJuYFxuLSBFZmVjdGU6IGxvZ2FyZS9kaWFnbm9zdGljYXJlIiwgImFycm93OmZpYkAxMS0yNyI6ICItIEZ1bmPIm2llICoqZmliKiogWzEx4oCTMjddXG4tIFBhcmFtZXRyaTogYGluZGV4YFxuLSBDb27Im2luZSAyIGByZXR1cm5gXG4tIEVmZWN0ZTogbG9nYXJlL2RpYWdub3N0aWNhcmUifSwgIm1pY3JvX2F1dG8iOiB7Imh1bms6Y29uc3Q6dmFyQDktMjc6MSI6ICItIENvbXBsZXRhcmUgaW5jcmVtZW50YWzEgzogIiwgImh1bms6Y29uc3Q6dmFyQDExLTI3OjEiOiAiLSBEZWZpbmltICoqZmliKiogY2EgZnVuY8ibaWUgc8SDZ2VhdMSDIGN1IHBhcmFtZXRyaTogYGluZGV4KWBcbi0gSW50cm9kdWNlbSB2YXJpYWJpbGEgKipmaWIqKiDihpAgKGluZGV4KSA9PiB7IiwgImh1bms6Y29uc3Q6dmFyQDMxLTMxOjEiOiAiLSBDb21wbGV0YXJlIGluY3JlbWVudGFsxIM6ICIsICJodW5rOmNvbnN0OnZhckA5LTI3OjIiOiAiLSBJbnRyb2R1Y2VtIHZhcmlhYmlsYSAqKmNhY2hlKiog4oaQIFsxLCAxXSIsICJodW5rOmNvbnN0OnZhckAxMS0yNzoyIjogIi0gQ29tcGxldGFyZSBpbmNyZW1lbnRhbMSDOiAiLCAiaHVuazpjb25zdDp2YXJAMTEtMjc6MyI6ICItIEludHJvZHVjZW0gdW4gKippZioqIGN1IGNvbmRpyJtpYSBgaW5kZXggPCBjYWNoZS5sZW5ndGhgIiwgImh1bms6Y29uc3Q6dmFyQDExLTI3OjQiOiAiLSBDb21wbGV0YXJlIGluY3JlbWVudGFsxIM6ICIsICJodW5rOmNvbnN0OnZhckAxMS0yNzo1IjogIi0gSW5zZXLEg20gKipsb2dhcmUqKiAoZGlhZ25vc3RpYykgY3UgYGNvbnNvbGUuKmAuIiwgImh1bms6Y29uc3Q6dmFyQDExLTI3OjYiOiAiLSBTdGFiaWxpbSB2YWxvYXJlYSBkZSDDrm50b2FyY2VyZTogYGNhY2hlW2luZGV4XWAiLCAiaHVuazpjb25zdDp2YXJAMTEtMjc6NyI6ICItIENvbXBsZXRhcmUgaW5jcmVtZW50YWzEgzogIiwgImh1bms6Y29uc3Q6dmFyQDExLTI3OjgiOiAiLSBDb21wbGV0YXJlIGluY3JlbWVudGFsxIM6IH0iLCAiaHVuazpjb25zdDp2YXJAMTEtMjc6OSI6ICItIEludHJvZHVjZW0gdW4gKippZioqIiwgImh1bms6Y29uc3Q6dmFyQDExLTI3OjEwIjogIi0gQ29tcGxldGFyZSBpbmNyZW1lbnRhbMSDOiAiLCAiaHVuazpjb25zdDp2YXJAMTEtMjc6MTEiOiAiLSBJbnNlcsSDbSAqKmxvZ2FyZSoqIChkaWFnbm9zdGljKSBjdSBgY29uc29sZS4qYC4iLCAiaHVuazpjb25zdDp2YXJAMTEtMjc6MTIiOiAiLSBDb21wbGV0YXJlIGluY3JlbWVudGFsxIM6IGNhY2hlW2luZGV4XSA9IGZpYihpbmRleCAtIDEpICsgZmliKGluZGV4IC0gMikiLCAiaHVuazpjb25zdDp2YXJAMTEtMjc6MTMiOiAiLSBTdGFiaWxpbSB2YWxvYXJlYSBkZSDDrm50b2FyY2VyZTogYGNhY2hlW2luZGV4XWAiLCAiaHVuazpjb25zdDp2YXJAMTEtMjc6MTQiOiAiLSBDb21wbGV0YXJlIGluY3JlbWVudGFsxIM6ICIsICJodW5rOmNvbnN0OnZhckAxMS0yNzoxNSI6ICItIENvbXBsZXRhcmUgaW5jcmVtZW50YWzEgzogfSIsICJodW5rOmNvbnN0OnZhckAxMS0yNzoxNiI6ICItIENvbXBsZXRhcmUgaW5jcmVtZW50YWzEgzogIiwgImh1bms6Y29uc3Q6dmFyQDExLTI3OjE3IjogIi0gQ29tcGxldGFyZSBpbmNyZW1lbnRhbMSDOiB9IiwgImh1bms6ZnVuYzpmaWJHZW5ANy0zMDoxIjogIi0gQ29tcGxldGFyZSBpbmNyZW1lbnRhbMSDOiAiLCAiaHVuazpmdW5jOmZpYkdlbkA3LTMwOjIiOiAiLSBEZWNsYXLEg20gZnVuY8ibaWEgKipmaWJHZW4qKiBjdSBwYXJhbWV0cmlpOiDiiIUiLCAiaHVuazpmdW5jOmZpYkdlbkA3LTMwOjMiOiAiLSBDb21wbGV0YXJlIGluY3JlbWVudGFsxIM6ICIsICJodW5rOmZ1bmM6ZmliR2VuQDctMzA6NCI6ICItIFN0YWJpbGltIHZhbG9hcmVhIGRlIMOubnRvYXJjZXJlOiBgZmliYCIsICJodW5rOmZ1bmM6ZmliR2VuQDctMzA6NSI6ICItIENvbXBsZXRhcmUgaW5jcmVtZW50YWzEgzogfSJ9fQ==</script>

<script>
function b64ToUtf8(b64){
  const bin = atob(b64.trim());
  const bytes = new Uint8Array(bin.length);
  for (let i=0;i<bin.length;i++) bytes[i] = bin.charCodeAt(i);
  return new TextDecoder('utf-8').decode(bytes);
}
const text = b64ToUtf8(document.getElementById('payload_b64').textContent);
const data = JSON.parse(text);
const FNAME = 'S4v3fibo_mem.js';

let frames=data.frames, patches=data.patches, steps=data.steps, style=data.style;
let llmBlock = (data.llm && data.llm.notes) ? data.llm.notes : {};
let llmMicro = (data.llm && data.llm.micro) ? data.llm.micro : {};
let autoBlock = data.auto_notes || {};
let autoMicro = data.micro_auto || {};

let cps=0.02, playing=false, frameIdx=0, hunkIdx=0, cursor=0;
let uTok=0, uChar=0;   // acumulatoare reale
let cooldown=0;
let lines=[]; let tokMap={}; let focusStart=1, focusEnd=0, scrollTarget=null;
let curBlkId="", curHId="";
const codebox=document.getElementById('codebox'), meta=document.getElementById('meta'),
      title=document.getElementById('title'), rat=document.getElementById('rat'),
      prog=document.getElementById('prog'), speed=document.getElementById('speed'),
      speedv=document.getElementById('speedv'), gran=document.getElementById('gran'),
      keyBlock=document.getElementById('keyBlock'), keyMicro=document.getElementById('keyMicro'),
      noteBlock=document.getElementById('noteBlock'), noteMicro=document.getElementById('noteMicro'),
      srcBlockAuto=document.getElementById('srcBlockAuto'), srcBlockLLM=document.getElementById('srcBlockLLM'),
      srcMicroAuto=document.getElementById('srcMicroAuto'), srcMicroLLM=document.getElementById('srcMicroLLM'),
      lockAll=document.getElementById('lockAll'), hold=document.getElementById('hold'), holdV=document.getElementById('holdV'),
      toggleDim=document.getElementById('toggleDim'), asciiFallback=document.getElementById('asciiFallback');

(function(){ const w = localStorage.getItem('notesW'); if(w){ document.documentElement.style.setProperty('--notesW', w); } })();
(function(){
  const sp = document.getElementById('splitter'); let drag=false;
  function onMove(e){ if(!drag) return; const wrap=document.querySelector('.wrap').getBoundingClientRect();
    const x=(e.touches&&e.touches[0])?e.touches[0].clientX:e.clientX; let newW=Math.round(wrap.right-x);
    newW=Math.max(360,Math.min(900,newW)); document.documentElement.style.setProperty('--notesW',newW+'px'); }
  function stop(){ if(!drag) return; drag=false; const w=getComputedStyle(document.documentElement).getPropertyValue('--notesW').trim();
    try{ localStorage.setItem('notesW',w);}catch(_){}
    document.removeEventListener('mousemove',onMove); document.removeEventListener('touchmove',onMove);
    document.removeEventListener('mouseup',stop); document.removeEventListener('touchend',stop); }
  function start(e){ e.preventDefault(); drag=true; document.addEventListener('mousemove',onMove);
    document.addEventListener('touchmove',onMove,{passive:false}); document.addEventListener('mouseup',stop); document.addEventListener('touchend',stop); }
  sp.addEventListener('mousedown',start); sp.addEventListener('touchstart',start,{passive:false});
  sp.addEventListener('dblclick',()=>{ const cur=parseInt(getComputedStyle(document.documentElement).getPropertyValue('--notesW'));
    const target=(cur<600?760:520); document.documentElement.style.setProperty('--notesW',target+'px'); localStorage.setItem('notesW',target+'px'); });
})();

let dimOn=true; toggleDim.onchange=()=>{ dimOn=toggleDim.checked; render(); };
let holdSec=parseFloat(hold.value); hold.oninput=()=>{ holdSec=parseFloat(hold.value); holdV.textContent=holdSec.toFixed(1)+"s"; };

srcBlockLLM.checked = Object.keys(llmBlock).length>0; srcBlockAuto.checked = !srcBlockLLM.checked;
srcMicroLLM.checked = Object.keys(llmMicro).length>0; srcMicroAuto.checked = !srcMicroLLM.checked;

function _ascii(s){
  try { return s.normalize('NFD').replace(/\p{Diacritic}/gu,''); } catch(_){ return s; }
}
function _renderNote(targetEl, text){
  targetEl.innerHTML = asciiFallback.checked ? _ascii(text) : text;
}

function mapBlock(){ return (srcBlockLLM.checked && Object.keys(llmBlock).length>0) ? llmBlock : autoBlock; }
function mapMicro(){ return (srcMicroLLM.checked && Object.keys(llmMicro).length>0) ? llmMicro : autoMicro; }
asciiFallback.onchange = ()=>{ if(curBlkId){ showBlock(curBlkId, true); } if(curHId){ showMicro(curHId, true); } };
srcBlockAuto.onchange = srcBlockLLM.onchange = ()=>{ if(curBlkId){ showBlock(curBlkId, true); } };
srcMicroAuto.onchange = srcMicroLLM.onchange = ()=>{ if(curHId){ showMicro(curHId, true); } };

function esc(s){ s = (s==null ? '' : String(s)); return s.replace(/[&<>]/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;'}[c])); }
function render(){
  let html="";
  for(let i=0;i<lines.length;i++){
    const ln=i+1, dim = dimOn && (focusEnd>=focusStart) && (ln<focusStart || ln>focusEnd);
    const cls = dim? 'line dim':'line';
    const t = tokMap[i];
    const L = (lines[i]==null ? '' : String(lines[i]));
    if(t){
      const s=Math.max(0,Math.min(L.length,t.s));
      const e=Math.max(s,Math.min(L.length,t.e));
      html += `<div class="${cls}" data-idx="${i}">${esc(L.slice(0,s))}<span class="tok">${esc(L.slice(s,e))}</span>${esc(L.slice(e))}</div>`;
    } else {
      html += `<div class="${cls}" data-idx="${i}">${esc(L)}</div>`;
    }
  }
  codebox.innerHTML = html;
  if(scrollTarget !== null){
    const el = codebox.querySelector(`.line[data-idx="${scrollTarget-1}"]`);
    if(el){ el.scrollIntoView({block:'center'}); }
    scrollTarget = null;
  }
  prog.style.width = ((frameIdx)/(frames.length-1)*100).toFixed(1)+"%";
}

function updateMeta(){
  meta.textContent = `Stil detectat: ${style} · Pași: ${steps.length}`;
  const sIdx=Math.min(frameIdx, Math.max(0,steps.length-1));
  if(steps[sIdx]){ title.textContent = `${sIdx+1}/${steps.length} — ${steps[sIdx].title}`; rat.textContent = steps[sIdx].rationale; }
  document.title = `${sIdx+1}/${steps.length} — ${FNAME}`;
  const s = (cps < 1 ? cps.toFixed(2) : cps.toFixed(1));
  speedv.textContent = s + (gran.value==='token' ? " tps" : " cps");
}

function resetFrame(i){
  frameIdx=i; hunkIdx=0; cursor=0; cooldown=0; tokMap={}; uTok=0; uChar=0; focusStart=1; focusEnd=0; scrollTarget=null;
  lines = (frames[i] ? frames[i].split('\n') : []);
  if(lines.length && lines[lines.length-1]==="") lines.pop();
  render(); updateMeta();
}
function applyDelete(s,e){ lines.splice(s,e-s); }

function isWS(ch){ return ch===' ' || ch==='\t' || ch==='\r' || ch==='\n'; }
function tokeniseJS(src){
  const toks=[]; const n=src.length; let i=0;
  const push=(s,e,end)=>toks.push({tStart:s,tEnd:e,end:end});
  while(i<n){
    if(isWS(src[i])){ let j=i; while(j<n && isWS(src[j])) j++; if(toks.length) toks[toks.length-1].end = j; i=j; continue; }
    if(src[i]=='/' && i+1<n){
      if(src[i+1]=='/'){ let j=i+2; while(j<n && src[j] !== '\n') j++; let endTok=(j<n && src[j]=='\n')?j+1:j; push(i,j,endTok); i=endTok; continue; }
      if(src[i+1]=='*'){ let j=i+2; while(j<n && !(src[j]=='*' && j+1<n && src[j+1]=='/')) j++; j=Math.min(n,j+2); push(i,j,j); i=j; continue; }
    }
    if(src[i]=="'" || src[i]=='"' || src[i]=='`'){
      const q=src[i]; let j=i+1; const tpl=(q=='`'); let depth=0;
      while(j<n){
        const ch=src[j];
        if(ch=='\\'){ j+=2; continue; }
        if(tpl && ch=='$' && j+1<n && src[j+1]=='{'){
          j+=2; depth=1;
          while(j<n && depth>0){
            const c2=src[j];
            if(c2=='\\'){ j+=2; continue; }
            if(c2=='{') depth++; else if(c2=='}') depth--; j++;
          }
          continue;
        }
        if(ch==q){ j++; break; }
        j++;
      }
      let k=j; while(k<n && isWS(src[k])) k++;
      push(i,j,k); i=k; continue;
    }
    let m;
    if(m = src.slice(i).match(/^(0x[0-9A-Fa-f]+|0b[01]+|0o[0-7]+|(?:\d*\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?)/)){
      let j=i+m[0].length; let k=j; while(k<n && isWS(src[k])) k++; push(i,j,k); i=k; continue;
    }
    if(m = src.slice(i).match(/^[$A-Za-z_][$\w]*/)){
      let j=i+m[0].length; if(j<n && src[j]=='('){ j++; } let k=j; while(k<n && isWS(src[k])) k++; push(i,j,k); i=k; continue;
    }
    if(m = src.slice(i).match(/^(===|!==|>>>=|>>>|>>=|<<=|\+\+|--|=>|<=|>=|&&|\|\||\.\.\.|[+\-*/%&|^]=|[=!<>]=)/)){
      let j=i+m[0].length; let k=j; while(k<n && isWS(src[k])) k++; push(i,j,k); i=k; continue;
    }
    if(m = src.slice(i).match(/^([{}()[\],.;:?])/)){
      let j=i+m[0].length; let k=j; while(k<n && isWS(src[k])) k++; push(i,j,k); i=k; continue;
    }
    let j=i+1; let k=j; while(k<n && isWS(src[k])) k++; push(i,j,k); i=k;
  }
  return toks;
}

function showBlock(key, force=false){ const m = (srcBlockLLM.checked && Object.keys(llmBlock).length>0) ? llmBlock : autoBlock; if(!m[key]) return; curBlkId=key; keyBlock.textContent = "Bloc: " + key; _renderNote(noteBlock, m[key]); }
function showMicro(key, force=false){ const m = (srcMicroLLM.checked && Object.keys(llmMicro).length>0) ? llmMicro : autoMicro; if(!m[key]) return; curHId = key; keyMicro.textContent = "Etapă: " + key; _renderNote(noteMicro, m[key]); }

let lastBlockTs=0;
function maybeShowNotes(h){
  if(lockAll.checked) return;
  const blkKey = h.blkId || `${h.kind||'func'}:${h.name||''}@${h.focusStart||0}-${h.focusEnd||0}`;
  const hKey   = h.hId || "";
  const mapB = (srcBlockLLM.checked && Object.keys(llmBlock).length>0) ? llmBlock : autoBlock;
  const mapM = (srcMicroLLM.checked && Object.keys(llmMicro).length>0) ? llmMicro : autoMicro;
  if(!curBlkId || curBlkId.split('@')[0] !== blkKey.split('@')[0]){ if(mapB[blkKey]){ showBlock(blkKey, true); } lastBlockTs = performance.now();
  }else{ const now=performance.now(); if(now - lastBlockTs >= holdSec*1000){ if(mapB[blkKey]){ showBlock(blkKey); lastBlockTs=now; } } }
  if(hKey && mapM[hKey]){ showMicro(hKey, true); }
}

function tick(dt){
  if(!playing) return;
  if(cooldown>0){ cooldown=Math.max(0,cooldown-dt); return; }
  if(frameIdx >= patches.length){ playing=false; btnPlay.textContent="▶︎ Play"; return; }
  const step=patches[frameIdx]||[];
  if(step.length===0){ nextUnit(); return; }
  if(hunkIdx >= step.length){ nextUnit(); return; }
  const h=step[hunkIdx]; if(!h){ nextUnit(); return; }
  if(h.op==='delete'){ applyDelete(h.start,h.end); tokMap={}; render(); nextUnit(); return; }

  if(h.op==='insert'){
    if(cursor===0){
      const N=h.text.split('\n').length; lines.splice(h.start,0,...Array(N).fill(""));
      if(h.focusStart && h.focusEnd){ focusStart=h.focusStart; focusEnd=h.focusEnd; }
      if(h.scrollLine){ scrollTarget=h.scrollLine; }
      maybeShowNotes(h);
      if(!h._chunks) h._chunks = tokeniseJS(h.text);
      h._tokIdx = 0;
    }
    if(gran.value==='token'){
      uTok += cps*dt;
      let advanced=false;
      while(uTok>=1 && h._tokIdx < h._chunks.length){
        const t = h._chunks[h._tokIdx];
        const end = t.end;
        const full = h.text.slice(0,end).split('\n');
        const N = h.text.split('\n').length;
        for(let i=0;i<N;i++){ lines[h.start+i] = (i<full.length ? full[i] : ""); }
        tokMap={};
        const linesBefore=h.text.slice(0,t.tStart).split('\n');
        let baseLine=h.start+(linesBefore.length-1), baseCol=linesBefore[linesBefore.length-1].length;
        let lenTok = t.tEnd - t.tStart;
        tokMap[baseLine] = {s:baseCol, e:baseCol+lenTok};
        cursor = end;
        h._tokIdx++; uTok -= 1; advanced=true;
      }
      render();
      if(h._tokIdx >= h._chunks.length){ nextUnit(); }
      else if(!advanced){ return; }
      return;
    } else {
      uChar += cps*dt;
      const stepAmt = Math.floor(uChar);
      if(stepAmt <= 0){ return; }
      uChar -= stepAmt;
      const end = Math.min(h.text.length, cursor + stepAmt);
      const full = h.text.slice(0,end).split('\n');
      const N = h.text.split('\n').length;
      for(let i=0;i<N;i++){ lines[h.start+i] = (i<full.length ? full[i] : ""); }
      tokMap={};
      const already=h.text.slice(0,cursor), delta=h.text.slice(cursor,end);
      const linesBefore=already.split('\n');
      let baseLine=h.start+(linesBefore.length-1), baseCol=linesBefore[linesBefore.length-1].length;
      tokMap[baseLine] = {s:baseCol, e:baseCol+delta.length};
      cursor=end; render();
      if(cursor>=h.text.length){ nextUnit(); }
      return;
    }
  }
}

function nextUnit(){ cooldown=0.20;
  const step=patches[frameIdx]||[];
  if(hunkIdx < step.length-1){ hunkIdx++; cursor=0; tokMap={}; uTok=0; uChar=0; return true; }
  if(hunkIdx < step.length){ hunkIdx++; cursor=0; tokMap={}; uTok=0; uChar=0; }
  if(frameIdx < frames.length-1){
    frameIdx++; hunkIdx=0; cursor=0; tokMap={}; uTok=0; uChar=0;
    while(frameIdx < patches.length && (!patches[frameIdx] || patches[frameIdx].length===0)){ frameIdx++; }
    if(frameIdx >= frames.length){ frameIdx=frames.length-1; render(); updateMeta(); return false; }
    lines = (frames[frameIdx] ? frames[frameIdx].split('\n') : []);
    if(lines.length && lines[lines.length-1]==="") lines.pop();
    render(); updateMeta(); return true;
  } return false;
}

let lastTs=null; function raf(ts){ if(lastTs===null) lastTs=ts; const dt=Math.max(0,(ts-lastTs)/1000.0); lastTs=ts; tick(dt); requestAnimationFrame(raf);} requestAnimationFrame(raf);
const btnPlay=document.getElementById('btnPlay'), btnPrev=document.getElementById('btnPrev'), btnNext=document.getElementById('btnNext');
btnPlay.onclick=()=>{ playing=!playing; btnPlay.textContent=playing?"❚❚ Pause":"▶︎ Play"; if(playing){ while(frameIdx < patches.length && (!patches[frameIdx] || patches[frameIdx].length===0)){ frameIdx++; } } };
btnPrev.onclick=()=>{ playing=false; btnPlay.textContent="▶︎ Play"; resetFrame(Math.max(0,frameIdx-1)); };
btnNext.onclick=()=>{ playing=false; btnPlay.textContent="▶︎ Play"; resetFrame(Math.min(frames.length-1,frameIdx+1)); };

function updateSpeedLabel(){
  const s = (cps < 1 ? cps.toFixed(2) : cps.toFixed(1));
  speedv.textContent = s + (gran.value==='token' ? ' tps' : ' cps');
}
speed.oninput=e=>{ cps=parseFloat(speed.value); updateSpeedLabel(); };
gran.onchange=e=>{
  if(gran.value==='token'){ speed.min='0.01'; speed.max='5';  speed.step='0.01'; if(cps<0.01||cps>5){ cps=0.02; speed.value='0.02'; } }
  else                    { speed.min='0.5';  speed.max='60'; speed.step='0.5';  if(cps<0.5){ cps=5;    speed.value='5';    } }
  updateSpeedLabel();
};
resetFrame(0);
</script>
</body></html>