<!DOCTYPE html>
<html lang="ro"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prezentare animată — S4v5orderCoffee.js</title>
<style>
:root { --bg:#0b1021; --fg:#ffffff; --acc:#8ab4f8; --mut:#a0a8c0; --tok:rgba(255,205,86,.35); --tokb:rgba(255,205,86,.6);
        --notesW: 560px; --splitW: 6px; }
html,body { height:100%; margin:0; background:var(--bg); color:var(--fg); font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; }
.wrap { display:grid; grid-template-rows:auto 1fr auto; height:100%; grid-template-columns: 1fr var(--splitW) var(--notesW); position:relative; }
header,footer { grid-column: 1 / span 3; padding:.6rem 1rem; background:rgba(255,255,255,0.04); }
#meta { font-size:.9rem; color:var(--mut); }
#codebox { padding:1rem; overflow:auto; white-space:pre; tab-size:2; line-height:1.35; font-size:15px; }
#splitter { cursor:col-resize; background:rgba(255,255,255,0.06); } #splitter:hover { background:rgba(255,255,255,0.15); }
#notes { padding:1rem; border-left:1px solid rgba(255,255,255,0.08); overflow:auto; font-size:13px; background:rgba(255,255,255,0.02); }
.controls { display:flex; gap:.5rem; align-items:center; flex-wrap:wrap; }
button, input[type=range], select { accent-color:var(--acc); }
.stepTitle { color:var(--acc); font-weight:600; } .rationale { color:var(--mut); font-size:.95rem; }
.bar { width:100%; height:4px; background:rgba(255,255,255,.1); position:relative; margin-top:.5rem; } .prog { position:absolute; left:0; top:0; bottom:0; width:0%; background:var(--acc); }
.line { display:block; } .dim { opacity:.35; } .tok { color:#ffd54f; background:var(--tok); outline:1px solid var(--tokb); }
.noteTitle { font-weight:700; margin:.4rem 0 .2rem 0; } .small { font-size:12px; color:var(--mut); }
.box { border:1px solid rgba(255,255,255,.08); padding:.5rem; border-radius:6px; background:rgba(255,255,255,.03); margin-bottom:.6rem; }
.box .hdr { display:flex; gap:.6rem; align-items:center; margin-bottom:.4rem; }
kbd { font-family:inherit; background:rgba(255,255,255,.06); padding:.1rem .3rem; border-radius:4px; }
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>Prezentare animată — S4v5orderCoffee.js</h1>
    <div id="meta"></div>
  </header>

  <main id="codebox"></main>
  <div id="splitter" title="Trage pentru a redimensiona panoul de notițe"></div>
  <aside id="notes">
    <div class="box">
      <div class="hdr small">
        <div class="noteTitle">Notițe BLOC</div>
        <span id="keyBlock" class="small"></span>
        <span style="flex:1"></span>
        Sursă: <label><input type="radio" name="srcBlock" id="srcBlockAuto" checked> Auto</label>
               <label><input type="radio" name="srcBlock" id="srcBlockLLM"> LLM</label>
        <label style="margin-left:.8rem"><input type="checkbox" id="lockAll"> Blochează</label>
        <label style="margin-left:.8rem">Hold: <input id="hold" type="range" min="0" max="3" step="0.1" value="1.0"> <span id="holdV">1.0s</span></label>
        <label style="margin-left:.8rem"><input type="checkbox" id="asciiFallback"> ASCII fallback</label>
      </div>
      <div id="noteBlock" style="white-space:pre-wrap"></div>
    </div>

    <div class="box">
      <div class="hdr small">
        <div class="noteTitle">Notițe ETAPĂ</div>
        <span id="keyMicro" class="small"></span>
        <span style="flex:1"></span>
        Sursă: <label><input type="radio" name="srcMicro" id="srcMicroAuto" checked> Auto</label>
               <label><input type="radio" name="srcMicro" id="srcMicroLLM"> LLM</label>
      </div>
      <div id="noteMicro" style="white-space:pre-wrap"></div>
    </div>
  </aside>

  <footer>
    <div class="controls">
      <button id="btnPlay">▶︎ Play</button>
      <button id="btnPrev">⟨ Pas</button>
      <button id="btnNext">Pas ⟩</button>
      Mod: <select id="gran"><option value="token" selected>token</option><option value="char">caracter</option></select>
      Viteză: <input id="speed" type="range" min="0.01" max="5" step="0.01" value="0.02"/> <span id="speedv">0.02 tps</span>
      <label style="margin-left:1rem"><input type="checkbox" id="toggleDim" checked/> Dim context</label>
    </div>
    <div class="bar"><div class="prog" id="prog"></div></div>
    <div class="stepTitle" id="title"></div>
    <div class="rationale" id="rat"></div>
  </footer>
</div>

<!-- Payload Base64 pe UTF‑8: păstrează diacriticele -->
<script id="payload_b64" type="text/plain">eyJmcmFtZXMiOiBbIiIsICJcbiIsICJcblxuIiwgIlxuY29uc3Qgb3JkZXJDb2ZmZWUgPSAodHlwZSkgPT4ge1xuXG4iLCAiXG5jb25zdCBvcmRlckNvZmZlZSA9ICh0eXBlKSA9PiB7XG5cbiAgY29uc3QgdHlwZXMgPSB7XG4iLCAiXG5jb25zdCBvcmRlckNvZmZlZSA9ICh0eXBlKSA9PiB7XG5cbiAgY29uc3QgdHlwZXMgPSB7XG4iLCAiXG5jb25zdCBvcmRlckNvZmZlZSA9ICh0eXBlKSA9PiB7XG5cbiAgY29uc3QgdHlwZXMgPSB7XG5cbiIsICJcbmNvbnN0IG9yZGVyQ29mZmVlID0gKHR5cGUpID0+IHtcblxuICBjb25zdCB0eXBlcyA9IHtcblxuIiwgIlxuY29uc3Qgb3JkZXJDb2ZmZWUgPSAodHlwZSkgPT4ge1xuXG4gIGNvbnN0IHR5cGVzID0ge1xuXG4gICAgU1BFQ0lBTDogJ1NQRUNJQUwnLFxuIiwgIlxuY29uc3Qgb3JkZXJDb2ZmZWUgPSAodHlwZSkgPT4ge1xuXG4gIGNvbnN0IHR5cGVzID0ge1xuXG4gICAgU1BFQ0lBTDogJ1NQRUNJQUwnLFxuIiwgIlxuY29uc3Qgb3JkZXJDb2ZmZWUgPSAodHlwZSkgPT4ge1xuXG4gIGNvbnN0IHR5cGVzID0ge1xuXG4gICAgU1BFQ0lBTDogJ1NQRUNJQUwnLFxuICAgIFJFR1VMQVI6ICdSRUdVTEFSJ1xuIiwgIlxuY29uc3Qgb3JkZXJDb2ZmZWUgPSAodHlwZSkgPT4ge1xuXG4gIGNvbnN0IHR5cGVzID0ge1xuXG4gICAgU1BFQ0lBTDogJ1NQRUNJQUwnLFxuICAgIFJFR1VMQVI6ICdSRUdVTEFSJ1xuIiwgIlxuY29uc3Qgb3JkZXJDb2ZmZWUgPSAodHlwZSkgPT4ge1xuXG4gIGNvbnN0IHR5cGVzID0ge1xuXG4gICAgU1BFQ0lBTDogJ1NQRUNJQUwnLFxuICAgIFJFR1VMQVI6ICdSRUdVTEFSJ1xuXG4iLCAiXG5jb25zdCBvcmRlckNvZmZlZSA9ICh0eXBlKSA9PiB7XG5cbiAgY29uc3QgdHlwZXMgPSB7XG5cbiAgICBTUEVDSUFMOiAnU1BFQ0lBTCcsXG4gICAgUkVHVUxBUjogJ1JFR1VMQVInXG5cbiIsICJcbmNvbnN0IG9yZGVyQ29mZmVlID0gKHR5cGUpID0+IHtcblxuICBjb25zdCB0eXBlcyA9IHtcblxuICAgIFNQRUNJQUw6ICdTUEVDSUFMJyxcbiAgICBSRUdVTEFSOiAnUkVHVUxBUidcblxuICB9XG4iLCAiXG5jb25zdCBvcmRlckNvZmZlZSA9ICh0eXBlKSA9PiB7XG5cbiAgY29uc3QgdHlwZXMgPSB7XG5cbiAgICBTUEVDSUFMOiAnU1BFQ0lBTCcsXG4gICAgUkVHVUxBUjogJ1JFR1VMQVInXG5cbiAgfVxuIiwgIlxuY29uc3Qgb3JkZXJDb2ZmZWUgPSAodHlwZSkgPT4ge1xuXG4gIGNvbnN0IHR5cGVzID0ge1xuXG4gICAgU1BFQ0lBTDogJ1NQRUNJQUwnLFxuICAgIFJFR1VMQVI6ICdSRUdVTEFSJ1xuXG4gIH1cbiIsICJcbmNvbnN0IG9yZGVyQ29mZmVlID0gKHR5cGUpID0+IHtcblxuICBjb25zdCB0eXBlcyA9IHtcblxuICAgIFNQRUNJQUw6ICdTUEVDSUFMJyxcbiAgICBSRUdVTEFSOiAnUkVHVUxBUidcblxuICB9XG5cbiIsICJcbmNvbnN0IG9yZGVyQ29mZmVlID0gKHR5cGUpID0+IHtcblxuICBjb25zdCB0eXBlcyA9IHtcblxuICAgIFNQRUNJQUw6ICdTUEVDSUFMJyxcbiAgICBSRUdVTEFSOiAnUkVHVUxBUidcblxuICB9XG5cbiAgaWYgKE9iamVjdC52YWx1ZXModHlwZXMpLmluZGV4T2YodHlwZSkgPT09IC0xKSB7XG4iLCAiXG5jb25zdCBvcmRlckNvZmZlZSA9ICh0eXBlKSA9PiB7XG5cbiAgY29uc3QgdHlwZXMgPSB7XG5cbiAgICBTUEVDSUFMOiAnU1BFQ0lBTCcsXG4gICAgUkVHVUxBUjogJ1JFR1VMQVInXG5cbiAgfVxuXG4gIGlmIChPYmplY3QudmFsdWVzKHR5cGVzKS5pbmRleE9mKHR5cGUpID09PSAtMSkge1xuXG4iLCAiXG5jb25zdCBvcmRlckNvZmZlZSA9ICh0eXBlKSA9PiB7XG5cbiAgY29uc3QgdHlwZXMgPSB7XG5cbiAgICBTUEVDSUFMOiAnU1BFQ0lBTCcsXG4gICAgUkVHVUxBUjogJ1JFR1VMQVInXG5cbiAgfVxuXG4gIGlmIChPYmplY3QudmFsdWVzKHR5cGVzKS5pbmRleE9mKHR5cGUpID09PSAtMSkge1xuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb2ZmZWUgZXJyb3InKVxuIiwgIlxuY29uc3Qgb3JkZXJDb2ZmZWUgPSAodHlwZSkgPT4ge1xuXG4gIGNvbnN0IHR5cGVzID0ge1xuXG4gICAgU1BFQ0lBTDogJ1NQRUNJQUwnLFxuICAgIFJFR1VMQVI6ICdSRUdVTEFSJ1xuXG4gIH1cblxuICBpZiAoT2JqZWN0LnZhbHVlcyh0eXBlcykuaW5kZXhPZih0eXBlKSA9PT0gLTEpIHtcblxuICAgIHRocm93IG5ldyBFcnJvcignY29mZmVlIGVycm9yJylcblxuIiwgIlxuY29uc3Qgb3JkZXJDb2ZmZWUgPSAodHlwZSkgPT4ge1xuXG4gIGNvbnN0IHR5cGVzID0ge1xuXG4gICAgU1BFQ0lBTDogJ1NQRUNJQUwnLFxuICAgIFJFR1VMQVI6ICdSRUdVTEFSJ1xuXG4gIH1cblxuICBpZiAoT2JqZWN0LnZhbHVlcyh0eXBlcykuaW5kZXhPZih0eXBlKSA9PT0gLTEpIHtcblxuICAgIHRocm93IG5ldyBFcnJvcignY29mZmVlIGVycm9yJylcblxuICB9XG4iLCAiXG5jb25zdCBvcmRlckNvZmZlZSA9ICh0eXBlKSA9PiB7XG5cbiAgY29uc3QgdHlwZXMgPSB7XG5cbiAgICBTUEVDSUFMOiAnU1BFQ0lBTCcsXG4gICAgUkVHVUxBUjogJ1JFR1VMQVInXG5cbiAgfVxuXG4gIGlmIChPYmplY3QudmFsdWVzKHR5cGVzKS5pbmRleE9mKHR5cGUpID09PSAtMSkge1xuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb2ZmZWUgZXJyb3InKVxuXG4gIH1cbiAgIGVsc2Uge1xuIiwgIlxuY29uc3Qgb3JkZXJDb2ZmZWUgPSAodHlwZSkgPT4ge1xuXG4gIGNvbnN0IHR5cGVzID0ge1xuXG4gICAgU1BFQ0lBTDogJ1NQRUNJQUwnLFxuICAgIFJFR1VMQVI6ICdSRUdVTEFSJ1xuXG4gIH1cblxuICBpZiAoT2JqZWN0LnZhbHVlcyh0eXBlcykuaW5kZXhPZih0eXBlKSA9PT0gLTEpIHtcblxuICAgIHRocm93IG5ldyBFcnJvcignY29mZmVlIGVycm9yJylcblxuICB9XG4gICBlbHNlIHtcblxuIiwgIlxuY29uc3Qgb3JkZXJDb2ZmZWUgPSAodHlwZSkgPT4ge1xuXG4gIGNvbnN0IHR5cGVzID0ge1xuXG4gICAgU1BFQ0lBTDogJ1NQRUNJQUwnLFxuICAgIFJFR1VMQVI6ICdSRUdVTEFSJ1xuXG4gIH1cblxuICBpZiAoT2JqZWN0LnZhbHVlcyh0eXBlcykuaW5kZXhPZih0eXBlKSA9PT0gLTEpIHtcblxuICAgIHRocm93IG5ldyBFcnJvcignY29mZmVlIGVycm9yJylcblxuICB9XG4gICBlbHNlIHtcblxuICAgIGNvbnNvbGUubG9nKGBwcmVwYXJpbmcgJHt0eXBlfSBjb2ZmZWVgKVxuIiwgIlxuY29uc3Qgb3JkZXJDb2ZmZWUgPSAodHlwZSkgPT4ge1xuXG4gIGNvbnN0IHR5cGVzID0ge1xuXG4gICAgU1BFQ0lBTDogJ1NQRUNJQUwnLFxuICAgIFJFR1VMQVI6ICdSRUdVTEFSJ1xuXG4gIH1cblxuICBpZiAoT2JqZWN0LnZhbHVlcyh0eXBlcykuaW5kZXhPZih0eXBlKSA9PT0gLTEpIHtcblxuICAgIHRocm93IG5ldyBFcnJvcignY29mZmVlIGVycm9yJylcblxuICB9XG4gICBlbHNlIHtcblxuICAgIGNvbnNvbGUubG9nKGBwcmVwYXJpbmcgJHt0eXBlfSBjb2ZmZWVgKVxuXG4iLCAiXG5jb25zdCBvcmRlckNvZmZlZSA9ICh0eXBlKSA9PiB7XG5cbiAgY29uc3QgdHlwZXMgPSB7XG5cbiAgICBTUEVDSUFMOiAnU1BFQ0lBTCcsXG4gICAgUkVHVUxBUjogJ1JFR1VMQVInXG5cbiAgfVxuXG4gIGlmIChPYmplY3QudmFsdWVzKHR5cGVzKS5pbmRleE9mKHR5cGUpID09PSAtMSkge1xuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdjb2ZmZWUgZXJyb3InKVxuXG4gIH1cbiAgIGVsc2Uge1xuXG4gICAgY29uc29sZS5sb2coYHByZXBhcmluZyAke3R5cGV9IGNvZmZlZWApXG5cbiAgfVxuIiwgIlxuY29uc3Qgb3JkZXJDb2ZmZWUgPSAodHlwZSkgPT4ge1xuXG4gIGNvbnN0IHR5cGVzID0ge1xuXG4gICAgU1BFQ0lBTDogJ1NQRUNJQUwnLFxuICAgIFJFR1VMQVI6ICdSRUdVTEFSJ1xuXG4gIH1cblxuICBpZiAoT2JqZWN0LnZhbHVlcyh0eXBlcykuaW5kZXhPZih0eXBlKSA9PT0gLTEpIHtcblxuICAgIHRocm93IG5ldyBFcnJvcignY29mZmVlIGVycm9yJylcblxuICB9XG4gICBlbHNlIHtcblxuICAgIGNvbnNvbGUubG9nKGBwcmVwYXJpbmcgJHt0eXBlfSBjb2ZmZWVgKVxuXG4gIH1cblxuIiwgIlxuY29uc3Qgb3JkZXJDb2ZmZWUgPSAodHlwZSkgPT4ge1xuXG4gIGNvbnN0IHR5cGVzID0ge1xuXG4gICAgU1BFQ0lBTDogJ1NQRUNJQUwnLFxuICAgIFJFR1VMQVI6ICdSRUdVTEFSJ1xuXG4gIH1cblxuICBpZiAoT2JqZWN0LnZhbHVlcyh0eXBlcykuaW5kZXhPZih0eXBlKSA9PT0gLTEpIHtcblxuICAgIHRocm93IG5ldyBFcnJvcignY29mZmVlIGVycm9yJylcblxuICB9XG4gICBlbHNlIHtcblxuICAgIGNvbnNvbGUubG9nKGBwcmVwYXJpbmcgJHt0eXBlfSBjb2ZmZWVgKVxuXG4gIH1cblxufVxuIiwgIi8qKlxuKiA1IC0gVXJtxINyacibaSB2aWRlb2NsaXB1bCB1cm3Eg3RvciBTNHY1Lm1wNCBwZW50cnUgYSB2ZWRlYSBjdW0gc2UgcG90IHV0aWxpemEgZXhjZXDIm2lpbGUgcGVudHJ1IGEgdmFsaWRhIGlucHV0LXVyaWxlIHVuZWkgZnVuY8ibaWkuXG4qIER1cMSDIGNlIGHIm2kgdGVzdGF0IGV4ZW1wbHVsLCBpbXBsZW1lbnRhyJtpIGZ1bmPIm2lhIGluY3JlYXNlU2FsYXJ5IGNhcmUgcHJpbWXImXRlIGNhIHBhcmFtZXRyaWkgdW4gYXJyYXkgZGUgc2FsYXJpaSDImWlcbiogICB1biBudW3Eg3IsIHJlcHJlemVudMOibmQgcHJvY2VudHVsIGN1IGNhcmUgc2Ugdm9yIG3Eg3JpIChleCAxMCkuXG4qIEZ1bmPIm2lhIGFydW5jxIMgZXhjZXDIm2lpIGRhY8SDIHByaW11bCBwYXJhbWV0cnUgbnUgZXN0ZSB1biBhcnJheSBzYXUgYWwgZG9pbGVhIHBhcmFtZXRydSBudSBlc3RlIHVuIG51bcSDci5cbipcbiovXG5cbmNvbnN0IG9yZGVyQ29mZmVlID0gKHR5cGUpID0+IHtcblxuICBjb25zdCB0eXBlcyA9IHtcblxuICAgIFNQRUNJQUw6ICdTUEVDSUFMJyxcbiAgICBSRUdVTEFSOiAnUkVHVUxBUidcblxuICB9XG5cbiAgaWYgKE9iamVjdC52YWx1ZXModHlwZXMpLmluZGV4T2YodHlwZSkgPT09IC0xKSB7XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvZmZlZSBlcnJvcicpXG5cbiAgfVxuICAgZWxzZSB7XG5cbiAgICBjb25zb2xlLmxvZyhgcHJlcGFyaW5nICR7dHlwZX0gY29mZmVlYClcblxuICB9XG5cbn1cblxudHJ5IHtcblxuICBvcmRlckNvZmZlZSgnUkVHVUxBUicpXG4gIG9yZGVyQ29mZmVlKCdTV0VFVF9DT0ZGRUVfTk9fU1VHQVJfTk9fQ0FGRkVJTkUnKVxufVxuIGNhdGNoIChlcnIpIHtcblxuICBjb25zb2xlLndhcm4oZXJyKVxufVxuIl0sICJzdHlsZSI6ICJmdW5jdGlvbmFsIiwgInN0ZXBzIjogW3sidGl0bGUiOiAiSW1wb3J0cyAmIGNvbnN0YW50ZSIsICJyYXRpb25hbGUiOiAiRGVmaW5pbSBkZXBlbmRlbsibZWxlIMiZaSBwYXJhbWV0cmlpIHBpcGVsaW5lLXVsdWkgcGVudHJ1IG8gYmF6xIMgZGUgY29kIGNsYXLEgyDImWkgbW9kdWxhcsSDLiIsICJibG9ja3MiOiBbeyJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgInN0YXJ0IjogOCwgImVuZCI6IDI5fSwgeyJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgInN0YXJ0IjogMTAsICJlbmQiOiAxNn1dfSwgeyJ0aXRsZSI6ICJFZmVjdGUgJiBJL08iLCAicmF0aW9uYWxlIjogIkl6b2zEg20gZWZlY3RlbGUgc2VjdW5kYXJlIChsb2dhcmUsIGZldGNoLCB0aW1wKSBsYSBtYXJnaW5lIHBlbnRydSBhIGFzaWd1cmEgbyBmdW5jyJtpb25hbGl0YXRlIHB1csSDIMiZaSB0ZXN0YWJpbMSDLiIsICJibG9ja3MiOiBbeyJuYW1lIjogIm9yZGVyQ29mZmVlIiwgImtpbmQiOiAiYXJyb3ciLCAic3RhcnQiOiA4LCAiZW5kIjogMjl9XX1dLCAicGF0Y2hlcyI6IFtbeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiAwLCAiZW5kIjogMCwgInRleHQiOiAiIiwgImZvY3VzU3RhcnQiOiA4LCAiZm9jdXNFbmQiOiAyOSwgInNjcm9sbExpbmUiOiA4LCAibmFtZSI6ICJ2YXIiLCAia2luZCI6ICJjb25zdCIsICJibGtJZCI6ICJjb25zdDp2YXJAOC0yOSIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAOC0yOToxIn1dLCBbeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiAxLCAiZW5kIjogMSwgInRleHQiOiAiIiwgImZvY3VzU3RhcnQiOiAxMCwgImZvY3VzRW5kIjogMTYsICJzY3JvbGxMaW5lIjogMTAsICJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgImJsa0lkIjogImNvbnN0OnZhckAxMC0xNiIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAMTAtMTY6MSJ9XSwgW3sib3AiOiAiaW5zZXJ0IiwgInN0YXJ0IjogMSwgImVuZCI6IDEsICJ0ZXh0IjogImNvbnN0IG9yZGVyQ29mZmVlID0gKHR5cGUpID0+IHsiLCAiZm9jdXNTdGFydCI6IDgsICJmb2N1c0VuZCI6IDI5LCAic2Nyb2xsTGluZSI6IDksICJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgImJsa0lkIjogImNvbnN0OnZhckA4LTI5IiwgImhJZCI6ICJodW5rOmNvbnN0OnZhckA4LTI5OjIifV0sIFt7Im9wIjogImluc2VydCIsICJzdGFydCI6IDMsICJlbmQiOiAzLCAidGV4dCI6ICIgIGNvbnN0IHR5cGVzID0geyIsICJmb2N1c1N0YXJ0IjogMTAsICJmb2N1c0VuZCI6IDE2LCAic2Nyb2xsTGluZSI6IDExLCAibmFtZSI6ICJ2YXIiLCAia2luZCI6ICJjb25zdCIsICJibGtJZCI6ICJjb25zdDp2YXJAMTAtMTYiLCAiaElkIjogImh1bms6Y29uc3Q6dmFyQDEwLTE2OjIifV0sIFtdLCBbeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiA0LCAiZW5kIjogNCwgInRleHQiOiAiIiwgImZvY3VzU3RhcnQiOiAxMCwgImZvY3VzRW5kIjogMTYsICJzY3JvbGxMaW5lIjogMTIsICJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgImJsa0lkIjogImNvbnN0OnZhckAxMC0xNiIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAMTAtMTY6MyJ9XSwgW10sIFt7Im9wIjogImluc2VydCIsICJzdGFydCI6IDUsICJlbmQiOiA1LCAidGV4dCI6ICIgICAgU1BFQ0lBTDogJ1NQRUNJQUwnLCIsICJmb2N1c1N0YXJ0IjogMTAsICJmb2N1c0VuZCI6IDE2LCAic2Nyb2xsTGluZSI6IDEzLCAibmFtZSI6ICJ2YXIiLCAia2luZCI6ICJjb25zdCIsICJibGtJZCI6ICJjb25zdDp2YXJAMTAtMTYiLCAiaElkIjogImh1bms6Y29uc3Q6dmFyQDEwLTE2OjQifV0sIFtdLCBbeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiA2LCAiZW5kIjogNiwgInRleHQiOiAiICAgIFJFR1VMQVI6ICdSRUdVTEFSJyIsICJmb2N1c1N0YXJ0IjogMTAsICJmb2N1c0VuZCI6IDE2LCAic2Nyb2xsTGluZSI6IDE0LCAibmFtZSI6ICJ2YXIiLCAia2luZCI6ICJjb25zdCIsICJibGtJZCI6ICJjb25zdDp2YXJAMTAtMTYiLCAiaElkIjogImh1bms6Y29uc3Q6dmFyQDEwLTE2OjUifV0sIFtdLCBbeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiA3LCAiZW5kIjogNywgInRleHQiOiAiIiwgImZvY3VzU3RhcnQiOiAxMCwgImZvY3VzRW5kIjogMTYsICJzY3JvbGxMaW5lIjogMTUsICJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgImJsa0lkIjogImNvbnN0OnZhckAxMC0xNiIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAMTAtMTY6NiJ9XSwgW10sIFt7Im9wIjogImluc2VydCIsICJzdGFydCI6IDgsICJlbmQiOiA4LCAidGV4dCI6ICIgIH0iLCAiZm9jdXNTdGFydCI6IDEwLCAiZm9jdXNFbmQiOiAxNiwgInNjcm9sbExpbmUiOiAxNiwgIm5hbWUiOiAidmFyIiwgImtpbmQiOiAiY29uc3QiLCAiYmxrSWQiOiAiY29uc3Q6dmFyQDEwLTE2IiwgImhJZCI6ICJodW5rOmNvbnN0OnZhckAxMC0xNjo3In1dLCBbXSwgW10sIFt7Im9wIjogImluc2VydCIsICJzdGFydCI6IDksICJlbmQiOiA5LCAidGV4dCI6ICIiLCAiZm9jdXNTdGFydCI6IDgsICJmb2N1c0VuZCI6IDI5LCAic2Nyb2xsTGluZSI6IDE3LCAibmFtZSI6ICJ2YXIiLCAia2luZCI6ICJjb25zdCIsICJibGtJZCI6ICJjb25zdDp2YXJAOC0yOSIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAOC0yOTozIn1dLCBbeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiAxMCwgImVuZCI6IDEwLCAidGV4dCI6ICIgIGlmIChPYmplY3QudmFsdWVzKHR5cGVzKS5pbmRleE9mKHR5cGUpID09PSAtMSkgeyIsICJmb2N1c1N0YXJ0IjogOCwgImZvY3VzRW5kIjogMjksICJzY3JvbGxMaW5lIjogMTgsICJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgImJsa0lkIjogImNvbnN0OnZhckA4LTI5IiwgImhJZCI6ICJodW5rOmNvbnN0OnZhckA4LTI5OjQifV0sIFt7Im9wIjogImluc2VydCIsICJzdGFydCI6IDExLCAiZW5kIjogMTEsICJ0ZXh0IjogIiIsICJmb2N1c1N0YXJ0IjogOCwgImZvY3VzRW5kIjogMjksICJzY3JvbGxMaW5lIjogMTksICJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgImJsa0lkIjogImNvbnN0OnZhckA4LTI5IiwgImhJZCI6ICJodW5rOmNvbnN0OnZhckA4LTI5OjUifV0sIFt7Im9wIjogImluc2VydCIsICJzdGFydCI6IDEyLCAiZW5kIjogMTIsICJ0ZXh0IjogIiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvZmZlZSBlcnJvcicpIiwgImZvY3VzU3RhcnQiOiA4LCAiZm9jdXNFbmQiOiAyOSwgInNjcm9sbExpbmUiOiAyMCwgIm5hbWUiOiAidmFyIiwgImtpbmQiOiAiY29uc3QiLCAiYmxrSWQiOiAiY29uc3Q6dmFyQDgtMjkiLCAiaElkIjogImh1bms6Y29uc3Q6dmFyQDgtMjk6NiJ9XSwgW3sib3AiOiAiaW5zZXJ0IiwgInN0YXJ0IjogMTMsICJlbmQiOiAxMywgInRleHQiOiAiIiwgImZvY3VzU3RhcnQiOiA4LCAiZm9jdXNFbmQiOiAyOSwgInNjcm9sbExpbmUiOiAyMSwgIm5hbWUiOiAidmFyIiwgImtpbmQiOiAiY29uc3QiLCAiYmxrSWQiOiAiY29uc3Q6dmFyQDgtMjkiLCAiaElkIjogImh1bms6Y29uc3Q6dmFyQDgtMjk6NyJ9XSwgW3sib3AiOiAiaW5zZXJ0IiwgInN0YXJ0IjogMTQsICJlbmQiOiAxNCwgInRleHQiOiAiICB9IiwgImZvY3VzU3RhcnQiOiA4LCAiZm9jdXNFbmQiOiAyOSwgInNjcm9sbExpbmUiOiAyMiwgIm5hbWUiOiAidmFyIiwgImtpbmQiOiAiY29uc3QiLCAiYmxrSWQiOiAiY29uc3Q6dmFyQDgtMjkiLCAiaElkIjogImh1bms6Y29uc3Q6dmFyQDgtMjk6OCJ9XSwgW3sib3AiOiAiaW5zZXJ0IiwgInN0YXJ0IjogMTUsICJlbmQiOiAxNSwgInRleHQiOiAiICAgZWxzZSB7IiwgImZvY3VzU3RhcnQiOiA4LCAiZm9jdXNFbmQiOiAyOSwgInNjcm9sbExpbmUiOiAyMywgIm5hbWUiOiAidmFyIiwgImtpbmQiOiAiY29uc3QiLCAiYmxrSWQiOiAiY29uc3Q6dmFyQDgtMjkiLCAiaElkIjogImh1bms6Y29uc3Q6dmFyQDgtMjk6OSJ9XSwgW3sib3AiOiAiaW5zZXJ0IiwgInN0YXJ0IjogMTYsICJlbmQiOiAxNiwgInRleHQiOiAiIiwgImZvY3VzU3RhcnQiOiA4LCAiZm9jdXNFbmQiOiAyOSwgInNjcm9sbExpbmUiOiAyNCwgIm5hbWUiOiAidmFyIiwgImtpbmQiOiAiY29uc3QiLCAiYmxrSWQiOiAiY29uc3Q6dmFyQDgtMjkiLCAiaElkIjogImh1bms6Y29uc3Q6dmFyQDgtMjk6MTAifV0sIFt7Im9wIjogImluc2VydCIsICJzdGFydCI6IDE3LCAiZW5kIjogMTcsICJ0ZXh0IjogIiAgICBjb25zb2xlLmxvZyhgcHJlcGFyaW5nICR7dHlwZX0gY29mZmVlYCkiLCAiZm9jdXNTdGFydCI6IDgsICJmb2N1c0VuZCI6IDI5LCAic2Nyb2xsTGluZSI6IDI1LCAibmFtZSI6ICJ2YXIiLCAia2luZCI6ICJjb25zdCIsICJibGtJZCI6ICJjb25zdDp2YXJAOC0yOSIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAOC0yOToxMSJ9XSwgW3sib3AiOiAiaW5zZXJ0IiwgInN0YXJ0IjogMTgsICJlbmQiOiAxOCwgInRleHQiOiAiIiwgImZvY3VzU3RhcnQiOiA4LCAiZm9jdXNFbmQiOiAyOSwgInNjcm9sbExpbmUiOiAyNiwgIm5hbWUiOiAidmFyIiwgImtpbmQiOiAiY29uc3QiLCAiYmxrSWQiOiAiY29uc3Q6dmFyQDgtMjkiLCAiaElkIjogImh1bms6Y29uc3Q6dmFyQDgtMjk6MTIifV0sIFt7Im9wIjogImluc2VydCIsICJzdGFydCI6IDE5LCAiZW5kIjogMTksICJ0ZXh0IjogIiAgfSIsICJmb2N1c1N0YXJ0IjogOCwgImZvY3VzRW5kIjogMjksICJzY3JvbGxMaW5lIjogMjcsICJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgImJsa0lkIjogImNvbnN0OnZhckA4LTI5IiwgImhJZCI6ICJodW5rOmNvbnN0OnZhckA4LTI5OjEzIn1dLCBbeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiAyMCwgImVuZCI6IDIwLCAidGV4dCI6ICIiLCAiZm9jdXNTdGFydCI6IDgsICJmb2N1c0VuZCI6IDI5LCAic2Nyb2xsTGluZSI6IDI4LCAibmFtZSI6ICJ2YXIiLCAia2luZCI6ICJjb25zdCIsICJibGtJZCI6ICJjb25zdDp2YXJAOC0yOSIsICJoSWQiOiAiaHVuazpjb25zdDp2YXJAOC0yOToxNCJ9XSwgW3sib3AiOiAiaW5zZXJ0IiwgInN0YXJ0IjogMjEsICJlbmQiOiAyMSwgInRleHQiOiAifSIsICJmb2N1c1N0YXJ0IjogOCwgImZvY3VzRW5kIjogMjksICJzY3JvbGxMaW5lIjogMjksICJuYW1lIjogInZhciIsICJraW5kIjogImNvbnN0IiwgImJsa0lkIjogImNvbnN0OnZhckA4LTI5IiwgImhJZCI6ICJodW5rOmNvbnN0OnZhckA4LTI5OjE1In1dLCBbeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiAwLCAiZW5kIjogMCwgInRleHQiOiAiLyoqXG4qIDUgLSBVcm3Eg3JpyJtpIHZpZGVvY2xpcHVsIHVybcSDdG9yIFM0djUubXA0IHBlbnRydSBhIHZlZGVhIGN1bSBzZSBwb3QgdXRpbGl6YSBleGNlcMibaWlsZSBwZW50cnUgYSB2YWxpZGEgaW5wdXQtdXJpbGUgdW5laSBmdW5jyJtpaS5cbiogRHVwxIMgY2UgYcibaSB0ZXN0YXQgZXhlbXBsdWwsIGltcGxlbWVudGHIm2kgZnVuY8ibaWEgaW5jcmVhc2VTYWxhcnkgY2FyZSBwcmltZciZdGUgY2EgcGFyYW1ldHJpaSB1biBhcnJheSBkZSBzYWxhcmlpIMiZaVxuKiAgIHVuIG51bcSDciwgcmVwcmV6ZW50w6JuZCBwcm9jZW50dWwgY3UgY2FyZSBzZSB2b3IgbcSDcmkgKGV4IDEwKS5cbiogRnVuY8ibaWEgYXJ1bmPEgyBleGNlcMibaWkgZGFjxIMgcHJpbXVsIHBhcmFtZXRydSBudSBlc3RlIHVuIGFycmF5IHNhdSBhbCBkb2lsZWEgcGFyYW1ldHJ1IG51IGVzdGUgdW4gbnVtxINyLlxuKlxuKi8ifSwgeyJvcCI6ICJpbnNlcnQiLCAic3RhcnQiOiAyMiwgImVuZCI6IDIyLCAidGV4dCI6ICJcbnRyeSB7XG5cbiAgb3JkZXJDb2ZmZWUoJ1JFR1VMQVInKVxuICBvcmRlckNvZmZlZSgnU1dFRVRfQ09GRkVFX05PX1NVR0FSX05PX0NBRkZFSU5FJylcbn1cbiBjYXRjaCAoZXJyKSB7XG5cbiAgY29uc29sZS53YXJuKGVycilcbn0ifV1dLCAibGxtIjogeyJwcm92aWRlciI6ICJNaXN0cmFsIENvZGVzdHJhbCIsICJtb2RlbCI6ICJjb2Rlc3RyYWwtbGF0ZXN0IiwgIm5vdGVzIjogeyJjb25zdDp2YXJAOC0yOSI6ICIjIyMgQnVsbGV0cyBEaWRhY3RpY2VcblxuLSAqKlJvbCoqOiBGdW5jyJtpYSBgb3JkZXJDb2ZmZWVgIGFyZSByb2x1bCBkZSBhIGNvbWFuZGEgbyBjYWZlYSBkZSB1biBhbnVtaXQgdGlwIChTUEVDSUFMIHNhdSBSRUdVTEFSKS4gRGFjxIMgdGlwdWwgc3BlY2lmaWNhdCBudSBlc3RlIHZhbGlkLCBmdW5jyJtpYSBhcnVuY8SDIG8gZXJvYXJlLlxuXG4tICoqSW50csSDcmkvSWXImWlyaSoqOlxuICAtICoqSW50csSDcmkqKjogRnVuY8ibaWEgcHJpbWXImXRlIHVuIHNpbmd1ciBwYXJhbWV0cnUsIGB0eXBlYCwgY2FyZSByZXByZXppbnTEgyB0aXB1bCBkZSBjYWZlYSBkb3JpdMSDLlxuICAtICoqSWXImWlyaSoqOiBEYWPEgyB0aXB1bCBlc3RlIHZhbGlkLCBmdW5jyJtpYSBhZmnImWVhesSDIHVuIG1lc2FqIMOubiBjb25zb2zEgyBjYXJlIGluZGljxIMgY8SDIGNhZmVhdWEgZXN0ZSDDrm4gY3VycyBkZSBwcmVnxIN0aXJlLiBEYWPEgyB0aXB1bCBudSBlc3RlIHZhbGlkLCBmdW5jyJtpYSBhcnVuY8SDIG8gZXJvYXJlIGN1IG1lc2FqdWwgXCJjb2ZmZWUgZXJyb3JcIi5cblxuLSAqKkVmZWN0ZSoqOlxuICAtICoqRWZlY3RlIHNlY3VuZGFyZSoqOiBGdW5jyJtpYSBhcmUgdW4gZWZlY3Qgc2VjdW5kYXIgw65uIGNhenVsIMOubiBjYXJlIHRpcHVsIGRlIGNhZmVhIGVzdGUgdmFsaWQsIHByaW4gYWZpyJlhcmVhIHVudWkgbWVzYWogw65uIGNvbnNvbMSDLlxuICAtICoqRWZlY3RlIGRlIGVyb2FyZSoqOiBGdW5jyJtpYSBwb2F0ZSBhcnVuY2EgbyBlcm9hcmUgZGFjxIMgdGlwdWwgZGUgY2FmZWEgbnUgZXN0ZSB2YWxpZCwgY2VlYSBjZSBwb2F0ZSBmaSB0cmF0YXQgZGUgY29kdWwgY2FyZSBhcGVsZWF6xIMgZnVuY8ibaWEuXG5cbi0gKipWYWxpZGFyZSoqOiBGdW5jyJtpYSB1dGlsaXplYXrEgyB1biBvYmllY3QgYHR5cGVzYCBwZW50cnUgYSB2YWxpZGEgdGlwdWwgZGUgY2FmZWEuIEFjZWFzdGEgdmVyaWZpY8SDIGRhY8SDIHRpcHVsIHNwZWNpZmljYXQgc2UgYWZsxIMgw65uIGxpc3RhIHZhbG9yaWxvciBvYmllY3R1bHVpIGB0eXBlc2AuXG5cbi0gKipFeGNlcMibaWkqKjogRnVuY8ibaWEgYXJ1bmPEgyBvIGV4Y2VwyJtpZSAoZXJvYXJlKSBkYWPEgyB0aXB1bCBkZSBjYWZlYSBudSBlc3RlIHZhbGlkLCBjZWVhIGNlIHBlcm1pdGUgY29kdWwgY2FyZSBhcGVsZWF6xIMgZnVuY8ibaWEgc8SDIHRyYXRlemUgYWNlYXN0xIMgc2l0dWHIm2llIMOubiBtb2QgY29yZXNwdW56xIN0b3IuXG5cbi0gKipVdGlsaXphcmUqKjogRnVuY8ibaWEgcG9hdGUgZmkgdXRpbGl6YXTEgyBwZW50cnUgYSBjb21hbmRhIG8gY2FmZWEgZGUgdW4gYW51bWl0IHRpcCwgYXNpZ3Vyw6JuZHUtc2UgY8SDIHRpcHVsIGVzdGUgdmFsaWQgw65uYWludGUgZGUgYSDDrm5jZXBlIHByZWfEg3RpcmVhLiIsICJjb25zdDp2YXJAMTAtMTYiOiAiIyMjIEJ1bGxldHMgRGlkYWN0aWNlXG5cbi0gKipSb2wqKjogQWNlc3QgY29kIGRlZmluZciZdGUgdW4gb2JpZWN0IGB0eXBlc2AgY2FyZSBjb27Im2luZSBkb3XEgyBwcm9wcmlldMSDyJtpIGNvbnN0YW50ZSwgYFNQRUNJQUxgIMiZaSBgUkVHVUxBUmAsIHV0aWxpemF0ZSBwZW50cnUgYSBjYXRlZ29yaXphIHNhdSBhIGV0aWNoZXRhIGRpZmVyaXRlIHRpcHVyaSBkZSBlbGVtZW50ZSBzYXUgZW50aXTEg8ibaSDDrm4gY2FkcnVsIHVudWkgcHJvZ3JhbS4gQWNlc3RlIGNvbnN0YW50ZSBzdW50IHV0aWxlIHBlbnRydSBhIGV2aXRhIGVyb3JpIGRlIHRpcGFyZSDImWkgcGVudHJ1IGEgZmFjZSBjb2R1bCBtYWkgdciZb3IgZGUgw65udHJlyJtpbnV0LlxuXG4tICoqSW50csSDcmkvSWXImWlyaSoqOlxuICAtICoqSW50csSDcmkqKjogTnUgZXhpc3TEgyBpbnRyxINyaSBkaXJlY3RlIHBlbnRydSBhY2VzdCBjb2QsIGRlb2FyZWNlIGFjZXN0YSBkZWZpbmXImXRlIGRvYXIgY29uc3RhbnRlLlxuICAtICoqSWXImWlyaSoqOiBBY2VzdCBjb2QgbnUgcHJvZHVjZSBpZciZaXJpIGRpcmVjdGUsIGRhciBjb25zdGFudGVsZSBkZWZpbml0ZSAoYFNQRUNJQUxgIMiZaSBgUkVHVUxBUmApIHBvdCBmaSB1dGlsaXphdGUgw65uIGFsdGUgcMSDcsibaSBhbGUgcHJvZ3JhbXVsdWkgcGVudHJ1IGEgY2F0ZWdvcml6YSBlbGVtZW50ZS5cblxuLSAqKkVmZWN0ZSoqOlxuICAtICoqRWZlY3RlIGRpcmVjdGUqKjogQWNlc3QgY29kIG51IGFyZSBlZmVjdGUgZGlyZWN0ZSBhc3VwcmEgcHJvZ3JhbXVsdWkgw65uIG1vbWVudHVsIGV4ZWN1yJtpZWksIGRlb2FyZWNlIG51IGNvbsibaW5lIGluc3RydWPIm2l1bmkgZGUgZXhlY3XIm2llLlxuICAtICoqRWZlY3RlIGluZGlyZWN0ZSoqOiBQcmluIGRlZmluaXJlYSBhY2VzdG9yIGNvbnN0YW50ZSwgc2UgYXNpZ3VyxIMgbyBtYWkgYnVuxIMgb3JnYW5pemFyZSDImWkgY2xhcml0YXRlIGEgY29kdWx1aSwgZmFjaWxpdMOibmQgdXRpbGl6YXJlYSDImWkgw65udHJlyJtpbmVyZWEgYWNlc3R1aWEuXG5cbi0gKipBdmFudGFqZSoqOlxuICAtICoqQ2xhcml0YXRlKio6IFV0aWxpemFyZWEgZGUgY29uc3RhbnRlIGZhY2UgY29kdWwgbWFpIHXImW9yIGRlIMOubsibZWxlcyDImWkgZGUgw65udHJlyJtpbnV0LlxuICAtICoqRXZpdMSDIGVyb3JpKio6IERlZmluaXJlYSBjb25zdGFudGVsb3IgcmVkdWNlIHJpc2N1bCBkZSBlcm9yaSBkZSB0aXBhcmUsIGRlb2FyZWNlIHZhbG9yaWxlIHN1bnQgZml4ZSDImWkgbnUgcG90IGZpIHNjaGltYmF0ZSBhY2NpZGVudGFsLlxuICAtICoqUmV1dGlsaXphYmlsaXRhdGUqKjogQWNlc3RlIGNvbnN0YW50ZSBwb3QgZmkgcmV1dGlsaXphdGUgw65uIMOubnRyZWFnYSBhcGxpY2HIm2llLCBhc2lndXLDom5kIG8gY29uc2lzdGVuyJvEgyDDrm4gY2F0ZWdvcml6YXJlYSBlbGVtZW50ZWxvci5cblxuLSAqKkV4ZW1wbGUgZGUgdXRpbGl6YXJlKio6XG4gIGBgYGpzXG4gIGlmIChlbGVtZW50LnR5cGUgPT09IHR5cGVzLlNQRUNJQUwpIHtcbiAgICAvLyBDb2QgcGVudHJ1IGVsZW1lbnRlIHNwZWNpYWxlXG4gIH0gZWxzZSBpZiAoZWxlbWVudC50eXBlID09PSB0eXBlcy5SRUdVTEFSKSB7XG4gICAgLy8gQ29kIHBlbnRydSBlbGVtZW50ZSByZWd1bGF0ZVxuICB9XG4gIGBgYFxuXG4tICoqRXh0ZW5zaWJpbGl0YXRlKio6XG4gIC0gKipBZMSDdWdhcmVhIGRlIG5vaSB0aXB1cmkqKjogRGFjxIMgZXN0ZSBuZWNlc2FyIHPEgyBzZSBhZGF1Z2Ugbm9pIHRpcHVyaSBkZSBlbGVtZW50ZSwgYWNlc3RlYSBwb3QgZmkgYWTEg3VnYXRlIHNpbXBsdSDDrm4gb2JpZWN0dWwgYHR5cGVzYCwgZsSDcsSDIGEgbW9kaWZpY2EgY29kdWwgZXhpc3RlbnQgY2FyZSB1dGlsaXplYXrEgyBhY2VzdGUgY29uc3RhbnRlLlxuICBgYGBqc1xuICBjb25zdCB0eXBlcyA9IHtcbiAgICBTUEVDSUFMOiAnU1BFQ0lBTCcsXG4gICAgUkVHVUxBUjogJ1JFR1VMQVInLFxuICAgIFBSRU1JVU06ICdQUkVNSVVNJyAvLyBOb3UgdGlwIGFkxIN1Z2F0XG4gIH1cbiAgYGBgIiwgImFycm93Om9yZGVyQ29mZmVlQDgtMjkiOiAiIyMjIEJ1bGxldHMgRGlkYWN0aWNlXG5cbi0gKipSb2wqKjogRnVuY8ibaWEgYG9yZGVyQ29mZmVlYCBhcmUgcm9sdWwgZGUgYSBwcmVsdWEgbyBjb21hbmTEgyBwZW50cnUgbyBjYWZlYSBkZSB1biBhbnVtaXQgdGlwIMiZaSBkZSBhIGFmaciZYSB1biBtZXNhaiBjb3Jlc3B1bnrEg3RvciDDrm4gY29uc29sxIMuIERlIGFzZW1lbmVhLCB2ZXJpZmljxIMgZGFjxIMgdGlwdWwgZGUgY2FmZWEgY29tYW5kYXQgZXN0ZSB2YWxpZC5cblxuLSAqKkludHLEg3JpL0llyJlpcmkqKjpcbiAgLSAqKkludHLEg3JpKio6IEZ1bmPIm2lhIHByaW1lyJl0ZSB1biBzaW5ndXIgcGFyYW1ldHJ1LCBgdHlwZWAsIGNhcmUgcmVwcmV6aW50xIMgdGlwdWwgZGUgY2FmZWEgZG9yaXTEgyAoZGUgZXhlbXBsdSwgYFNQRUNJQUxgIHNhdSBgUkVHVUxBUmApLlxuICAtICoqSWXImWlyaSoqOiBEYWPEgyB0aXB1bCBkZSBjYWZlYSBlc3RlIHZhbGlkLCBmdW5jyJtpYSBhZmnImWVhesSDIHVuIG1lc2FqIMOubiBjb25zb2zEgyBjYXJlIGluZGljxIMgY8SDIGNhZmVhdWEgZXN0ZSDDrm4gY3VycyBkZSBwcmVnxIN0aXJlLiBEYWPEgyB0aXB1bCBkZSBjYWZlYSBudSBlc3RlIHZhbGlkLCBmdW5jyJtpYSBhcnVuY8SDIG8gZXJvYXJlIGN1IG1lc2FqdWwgXCJjb2ZmZWUgZXJyb3JcIi5cblxuLSAqKkVmZWN0ZSoqOlxuICAtICoqRWZlY3RlIHNlY3VuZGFyZSoqOiBGdW5jyJtpYSBudSBhcmUgZWZlY3RlIHNlY3VuZGFyZSBkaXJlY3RlIGFzdXByYSBzaXN0ZW11bHVpIHNhdSBhIG1lZGl1bHVpIMOubmNvbmp1csSDdG9yLCBkYXIgYWZpyJllYXrEgyB1biBtZXNhaiDDrm4gY29uc29sxIMgY2FyZSBwb2F0ZSBmaSBjb25zaWRlcmF0IHVuIGVmZWN0IHNlY3VuZGFyIMOubiBjb250ZXh0dWwgaW50ZXJhY8ibaXVuaWkgY3UgdXRpbGl6YXRvcnVsLlxuICAtICoqVmFsaWRhcmUqKjogRnVuY8ibaWEgdmFsaWRlYXrEgyB0aXB1bCBkZSBjYWZlYSBjb21hbmRhdCwgYXNpZ3Vyw6JuZHUtc2UgY8SDIGFjZXN0YSBlc3RlIHVudWwgZGludHJlIGNlbGUgcGVybWlzZSAoYFNQRUNJQUxgIHNhdSBgUkVHVUxBUmApLiBBY2Vhc3RhIGVzdGUgbyBwcmFjdGljxIMgYnVuxIMgcGVudHJ1IGEgcHJldmVuaSBlcm9yaSDImWkgYSBhc2lndXJhIGPEgyBmdW5jyJtpYSBzZSBjb21wb3J0xIMgY29uZm9ybSBhyJl0ZXB0xINyaWxvci5cblxuLSAqKkV4Y2VwyJtpaSoqOiBGdW5jyJtpYSBwb2F0ZSBhcnVuY2EgbyBleGNlcMibaWUgZGFjxIMgdGlwdWwgZGUgY2FmZWEgY29tYW5kYXQgbnUgZXN0ZSB2YWxpZCwgY2VlYSBjZSBpbmRpY8SDIG8gdXRpbGl6YXJlIGluY29yZWN0xIMgYSBmdW5jyJtpZWkuXG5cbi0gKipVdGlsaXphcmUqKjogRnVuY8ibaWEgcG9hdGUgZmkgdXRpbGl6YXTEgyBwZW50cnUgYSBjb21hbmRhIG8gY2FmZWEgZGUgdW4gYW51bWl0IHRpcCwgZGUgZXhlbXBsdSwgYG9yZGVyQ29mZmVlKCdTUEVDSUFMJylgIHNhdSBgb3JkZXJDb2ZmZWUoJ1JFR1VMQVInKWAuIEVzdGUgaW1wb3J0YW50IHPEgyBzZSBhc2lndXJlIGPEgyB0aXB1bCBkZSBjYWZlYSBlc3RlIHVudWwgZGludHJlIGNlbGUgcGVybWlzZSBwZW50cnUgYSBldml0YSBlcm9yaS5cblxuLSAqKkV4dGVuc2liaWxpdGF0ZSoqOiBGdW5jyJtpYSBwb2F0ZSBmaSBleHRpbnPEgyBwZW50cnUgYSBpbmNsdWRlIG1haSBtdWx0ZSB0aXB1cmkgZGUgY2FmZWEgc2F1IHBlbnRydSBhIGdlc3Rpb25hIGRpZmVyaXRlIHNjZW5hcmlpIGRlIGNvbWFuZMSDLCBkZSBleGVtcGx1LCBhZMSDdWfDom5kIG9wyJtpdW5pIHBlbnRydSBsYXB0ZSwgemFoxINyIHNhdSBhbHRlIGFkxIN1Z2lyaS4ifSwgIm1pY3JvIjogeyJodW5rOmNvbnN0OnZhckA4LTI5OjIiOiAiLSAqKkRlY2xhcmFyZWEgdmFyaWFiaWxlaSBgb3JkZXJDb2ZmZWVgKio6IEFjZWFzdMSDIGluc2VyyJtpZSBkZWNsYXLEgyBvIHZhcmlhYmlsxIMgY29uc3RhbnTEgyBgb3JkZXJDb2ZmZWVgIGNhcmUgZXN0ZSBvIGZ1bmPIm2llIGRlIG9yZGludWwgw65udMOiaSAoaGlnaGVyLW9yZGVyIGZ1bmN0aW9uKSBjYXJlIHByaW1lyJl0ZSB1biBwYXJhbWV0cnUgYHR5cGVgLlxuLSAqKkZ1bmPIm2lvbmFsaXRhdGUqKjogRnVuY8ibaWEgYG9yZGVyQ29mZmVlYCBwb2F0ZSBmaSB1dGlsaXphdMSDIHBlbnRydSBhIGNvbWFuZGEgbyBjYWZlYSBkZSB1biBhbnVtaXQgdGlwLCBzcGVjaWZpY2F0IHByaW4gcGFyYW1ldHJ1bCBgdHlwZWAuXG4tICoqU2NvcCoqOiBBY2Vhc3TEgyBmdW5jyJtpZSBwb2F0ZSBmaSB1dGlsaXphdMSDIHBlbnRydSBhIGNyZWEgbyBpbnRlcmZhyJvEgyBzaW1wbMSDIMiZaSBjbGFyxIMgcGVudHJ1IGNvbWFuZGEgZGUgY2FmZWEgw65uIGNhZHJ1bCBhcGxpY2HIm2llaS4iLCAiaHVuazpjb25zdDp2YXJAMTAtMTY6MiI6ICItICoqRGVjbGFyYXJlYSB2YXJpYWJpbGVpIGB0eXBlc2AqKjogQWNlYXN0xIMgaW5zZXLIm2llIGFkYXVnxIMgbyB2YXJpYWJpbMSDIGB0eXBlc2AgY2FyZSBlc3RlIHVuIG9iaWVjdCBnb2wuIEFjZWFzdGEgcG9hdGUgZmkgdXRpbGl6YXTEgyBwZW50cnUgYSBzdG9jYSDImWkgb3JnYW5pemEgZGlmZXJpdGUgdGlwdXJpIGRlIGRhdGUgc2F1IGNvbmZpZ3VyxINyaSDDrm4gY2FkcnVsIGZ1bmPIm2llaSBjdXJlbnRlLlxuLSAqKkV4dGVuc2liaWxpdGF0ZSoqOiBPYmllY3R1bCBgdHlwZXNgIHBlcm1pdGUgYWTEg3VnYXJlYSB1yJlvYXLEgyBhIHVub3IgcHJvcHJpZXTEg8ibaSBub2ksIGbEg2PDom5kIGZ1bmPIm2lhIG1haSBmbGV4aWJpbMSDIMiZaSBhZGFwdGFiaWzEgyBsYSBzY2hpbWLEg3JpIHZpaXRvYXJlLlxuLSAqKk9yZ2FuaXphcmUgYSBjb2R1bHVpKio6IFV0aWxpemFyZWEgdW51aSBvYmllY3QgcGVudHJ1IGEgZ3J1cGEgZGlmZXJpdGUgdGlwdXJpIGRlIGRhdGUgc2F1IGNvbmZpZ3VyxINyaSBhanV0xIMgbGEgb3JnYW5pemFyZWEgyJlpIGxhIG1lbsibaW5lcmVhIGNvZHVsdWkgbWFpIGN1cmF0IMiZaSBtYWkgdciZb3IgZGUgw65uyJtlbGVzLiIsICJodW5rOmNvbnN0OnZhckAxMC0xNjo0IjogIi0gKipFeHRpbmRlIGZ1bmPIm2lvbmFsaXRhdGVhKio6IEFkYXVnxIMgbyBub3XEgyBvcMibaXVuZSAoYFNQRUNJQUxgKSDDrm4gZnVuY8ibaWEgY3VyZW50xIMsIHBlcm1pyJvDom5kIGFzdGZlbCBnZXN0aW9uYXJlYSB1bnVpIGNheiBwYXJ0aWN1bGFyIHNhdSBhIHVuZWkgY2FyYWN0ZXJpc3RpY2kgc3BlY2lhbGUuXG4tICoqw45tYnVuxIN0xIPIm2XImXRlIGZsZXhpYmlsaXRhdGVhKio6IFBlcm1pdGUgZnVuY8ibaWVpIHPEgyBmaWUgdXRpbGl6YXTEgyDDrm4gc2NlbmFyaWkgc3VwbGltZW50YXJlLCBmxINyxIMgYSBtb2RpZmljYSBjb2R1bCBleGlzdGVudC5cbi0gKipDbGFyaWZpY8SDIHNjb3B1bCoqOiBGYWNlIGNvZHVsIG1haSBleHBsaWNpdCBwcmluIHNwZWNpZmljYXJlYSBleHBsaWNpdMSDIGEgb3DIm2l1bmlpIHNwZWNpYWxlLCBmYWNpbGl0w6JuZCDDrm7Im2VsZWdlcmVhIMiZaSDDrm50cmXIm2luZXJlYSB1bHRlcmlvYXLEgy4iLCAiaHVuazpjb25zdDp2YXJAMTAtMTY6NSI6ICItIEFkYXVnxIMgbyBjb25zdGFudMSDIGBSRUdVTEFSYCBjdSB2YWxvYXJlYSBgJ1JFR1VMQVInYCDDrm4gb2JpZWN0dWwgYHZhcmAuXG4tIEV4dGluZGUgb2JpZWN0dWwgYHZhcmAgY3UgbyBub3XEgyBwcm9wcmlldGF0ZSwgYFJFR1VMQVJgLCBjYXJlIHBvYXRlIGZpIHV0aWxpemF0xIMgcGVudHJ1IGEgaW5kaWNhIHVuIHRpcCBkZSBvYmllY3Qgc2F1IHN0YXJlIHJlZ3VsYXTEgy5cbi0gUGVybWl0ZSBvIG1haSBidW7EgyBvcmdhbml6YXJlIMiZaSBjbGFyaXRhdGUgYSBjb2R1bHVpIHByaW4gdXRpbGl6YXJlYSBkZSBjb25zdGFudGUgcGVudHJ1IGEgZGVmaW5pIHRpcHVyaSBzYXUgc3TEg3JpIHNwZWNpZmljZS5cbi0gRmFjaWxpdGVhesSDIHJlZmFjdG9yaXphcmVhIMiZaSBtZW7Im2luZXJlYSBjb2R1bHVpIHByaW4gY2VudHJhbGl6YXJlYSB2YWxvcmlsb3IgY29uc3RhbnRlIMOubnRyLXVuIHNpbmd1ciBsb2MuIiwgImh1bms6Y29uc3Q6dmFyQDEwLTE2OjciOiAiLSAqKkFkYXVnxIMgbyB2YXJpYWJpbMSDIGNvbnN0YW50xIMqKiDDrm4gZnVuY8ibaWUsIGNhcmUgcG9hdGUgZmkgdXRpbGl6YXTEgyBwZW50cnUgYSBzdG9jYSBvIHZhbG9hcmUgaW11YWJpbMSDLlxuLSAqKsOObWJ1bsSDdMSDyJtlyJl0ZSBjaXRpYmlsaXRhdGVhIGNvZHVsdWkqKiBwcmluIHNwZWNpZmljYXJlYSBleHBsaWNpdMSDIGEgdmFyaWFiaWxlbG9yIGNhcmUgbnUgdm9yIGZpIG1vZGlmaWNhdGUuXG4tICoqUHJldmluZSBlcm9yaSBkZSBwcm9ncmFtYXJlKiogcHJpbiBhc2lndXJhcmVhIGPEgyB2YXJpYWJpbGEgbnUgcG9hdGUgZmkgc3VwcmFzY3Jpc8SDIGFjY2lkZW50YWwuXG4tICoqT3B0aW1pemVhesSDIHBlcmZvcm1hbsibYSoqIHByaW4gdXRpbGl6YXJlYSB2YXJpYWJpbGVsb3IgY29uc3RhbnRlLCBjYXJlIHBvdCBmaSBvcHRpbWl6YXRlIGRlIG1vdG9ydWwgSmF2YVNjcmlwdC4iLCAiaHVuazpjb25zdDp2YXJAOC0yOTo0IjogIi0gKipWYWxpZGFyZSB0aXAqKjogQXNpZ3VyxIMgY8SDIGB0eXBlYCBlc3RlIHVudWwgZGludHJlIHZhbG9yaWxlIGFjY2VwdGF0ZSBkaW4gb2JpZWN0dWwgYHR5cGVzYC5cbi0gKipQcmV2ZW5pcmUgZXJvcmkqKjogRXZpdMSDIGNvbXBvcnRhbWVudGUgbmVkb3JpdGUgZGFjxIMgYHR5cGVgIG51IGVzdGUgdmFsaWQuXG4tICoqQ2xhcml0YXRlIGNvZCoqOiBGYWNlIGV4cGxpY2l0xIMgY29uZGnIm2lhIGRlIHZhbGlkYXJlIGEgdGlwdWx1aS5cbi0gKipSb2J1c3RlesSDKio6IFByb3RlamVhesSDIGZ1bmPIm2lhIMOubXBvdHJpdmEgdmFsb3JpbG9yIGludmFsaWRlIGFsZSBgdHlwZWAuIiwgImh1bms6Y29uc3Q6dmFyQDgtMjk6NiI6ICItICoqQWRhdWfEgyBvIGNvbmRpyJtpZSBkZSBlcm9hcmUgZXhwbGljaXTEgyoqOiBJbnNlcsibaWEgYXJ1bmPEgyBvIGVyb2FyZSBkYWPEgyBjb25kacibaWEgYHZhcmAgbnUgZXN0ZSDDrm5kZXBsaW5pdMSDLCBmxINjw6JuZCBjb2R1bCBtYWkgcm9idXN0IMiZaSB1yJlvciBkZSBkZXBhbmF0LlxuLSAqKsOObWJ1bsSDdMSDyJtlyJl0ZSBnZXN0aW9uYXJlYSBlcm9yaWxvcioqOiBQZXJtaXRlIG8gZ2VzdGlvbmFyZSBtYWkgYnVuxIMgYSBlcm9yaWxvciBwcmluIGFydW5jYXJlYSB1bnVpIG1lc2FqIGNsYXIgyJlpIHNwZWNpZmljIChcImNvZmZlZSBlcnJvclwiKS5cbi0gKipBc2lndXLEgyBvIGllyJlpcmUgc2lndXLEgyoqOiDDjm4gY2F6dWwgw65uIGNhcmUgY29uZGnIm2lhIG51IGVzdGUgw65uZGVwbGluaXTEgywgY29kdWwgc2Ugb3ByZciZdGUgaW1lZGlhdCwgcHJldmVuaW5kIGNvbXBvcnRhbWVudGUgbmVkb3JpdGUuXG4tICoqRmFjaWxpdGVhesSDIGRlcGFuYXJlYSoqOiBNZXNhanVsIGRlIGVyb2FyZSBzcGVjaWZpYyBwb2F0ZSBhanV0YSBsYSBpZGVudGlmaWNhcmVhIHJhcGlkxIMgYSBjYXV6ZWkgcHJvYmxlbWVpLiIsICJodW5rOmNvbnN0OnZhckA4LTI5OjgiOiAiLSAqKkFkYXVnxIMgbyB2YXJpYWJpbMSDIGNvbnN0YW50xIMqKiDDrm4gZnVuY8ibaWUsIGNhcmUgcG9hdGUgZmkgdXRpbGl6YXTEgyBwZW50cnUgYSBzdG9jYSBvIHZhbG9hcmUgY2FyZSBudSBzZSB2YSBzY2hpbWJhIMOubiB0aW1wdWwgZXhlY3XIm2llaSBmdW5jyJtpZWkuXG4tICoqw45tYnVuxIN0xIPIm2XImXRlIGNpdGliaWxpdGF0ZWEgY29kdWx1aSoqIHByaW4gc3BlY2lmaWNhcmVhIGV4cGxpY2l0xIMgYSB2YXJpYWJpbGVsb3IgY2FyZSBzdW50IGNvbnN0YW50ZS5cbi0gKipQcmV2aW5lIGVyb3JpIGRlIHByb2dyYW1hcmUqKiBwcmluIGFzaWd1cmFyZWEgY8SDIHZhcmlhYmlsYSBudSB2YSBmaSBtb2RpZmljYXTEgyBhY2NpZGVudGFsLlxuLSAqKk9wdGltaXplYXrEgyBwZXJmb3JtYW7Im2EqKiBwcmluIHV0aWxpemFyZWEgdmFyaWFiaWxlbG9yIGNvbnN0YW50ZSwgY2FyZSBwb3QgZmkgb3B0aW1pemF0ZSBkZSBtb3RvcnVsIEphdmFTY3JpcHQuIiwgImh1bms6Y29uc3Q6dmFyQDgtMjk6OSI6ICItICoqQ2xhcmlmaWNhcmUgYSBjb25kacibaWVpKio6IEluc2VyyJtpYSBgZWxzZWAgY2xhcmlmaWPEgyBjxIMgYmxvY3VsIGRlIGNvZCBjYXJlIHVybWVhesSDIHZhIGZpIGV4ZWN1dGF0IGRvYXIgZGFjxIMgY29uZGnIm2lhIGRpbiBgaWZgIG51IGVzdGUgw65uZGVwbGluaXTEgy5cbi0gKipFeHRpbmRlcmUgYSBmdW5jyJtpb25hbGl0xIPIm2lpKio6IEFkxIN1Z2FyZWEgYGVsc2VgIHBlcm1pdGUgaW1wbGVtZW50YXJlYSB1bnVpIHNjZW5hcml1IGFsdGVybmF0aXYsIGbEg2PDom5kIGZ1bmPIm2lhIG1haSByb2J1c3TEgyDImWkgYWRhcHRhYmlsxIMgbGEgZGl2ZXJzZSBzaXR1YcibaWkuXG4tICoqUHJldmVuaXJlYSBlcm9yaWxvcioqOiBGb2xvc2lyZWEgYGVsc2VgIHBvYXRlIHByZXZlbmkgZXhlY3XIm2lhIGFjY2lkZW50YWzEgyBhIGNvZHVsdWkgZGluIGJsb2N1bCBgaWZgIGF0dW5jaSBjw6JuZCBjb25kacibaWEgbnUgZXN0ZSDDrm5kZXBsaW5pdMSDLCByZWR1Y8OibmQgcmlzY3VsIGRlIGVyb3JpLlxuLSAqKlN0cnVjdHVyYXJlIG1haSBjbGFyxIMqKjogSW5zZXLIm2lhIGBlbHNlYCBhanV0xIMgbGEgb3JnYW5pemFyZWEgY29kdWx1aSDDrm50ci1vIHN0cnVjdHVyxIMgbWFpIGNsYXLEgyDImWkgdciZb3IgZGUgw65uyJtlbGVzLCBmYWNpbGl0w6JuZCBhc3RmZWwgw65udHJlyJtpbmVyZWEgyJlpIGFjdHVhbGl6YXJlYSB1bHRlcmlvYXLEgy4iLCAiaHVuazpjb25zdDp2YXJAOC0yOToxMSI6ICItICoqSW5mb3JtYXJlIGRlc3ByZSBwcm9jZXN1bCBkZSBwcmVnxIN0aXJlKio6IEluc2VyyJtpYSBhZGF1Z8SDIG8gbGluaWUgZGUgY29kIGNhcmUgYWZpyJllYXrEgyB1biBtZXNhaiDDrm4gY29uc29sxIMgY2FyZSBpbmRpY8SDIGPEgyBzZSBwcmVnxIN0ZciZdGUgbyBhbnVtaXTEgyB0aXAgZGUgY2FmZWEuIEFjZXN0IGx1Y3J1IHBvYXRlIGZpIHV0aWwgcGVudHJ1IGRlcGFuYXJlIHNhdSBwZW50cnUgYSB1cm3Eg3JpIHByb2dyZXN1bCBwcm9jZXN1bHVpIGRlIHByZWfEg3RpcmUgYSBjYWZlbGVpLlxuXG4tICoqUGVyc29uYWxpemFyZSBhIG1lc2FqdWx1aSoqOiBNZXNhanVsIGZvbG9zZciZdGUgdW4gyJlhYmxvbiBkZSDImWlyIGRlIGNhcmFjdGVyZSAodGVtcGxhdGUgbGl0ZXJhbCkgcGVudHJ1IGEgaW5jbHVkZSB2YWxvYXJlYSB2YXJpYWJpbGVpIGB0eXBlYCDDrm4gbWVzYWp1bCBhZmnImWF0LiBBY2Vhc3RhIHBlcm1pdGUgYWZpyJlhcmVhIHVudWkgbWVzYWogcGVyc29uYWxpemF0IMOubiBmdW5jyJtpZSBkZSB0aXB1bCBkZSBjYWZlYSBjYXJlIGVzdGUgcHJlZ8SDdGl0LlxuXG4tICoqRGVwYW5hcmUgyJlpIG1vbml0b3JpemFyZSoqOiBBZmnImWFyZWEgYWNlc3R1aSBtZXNhaiDDrm4gY29uc29sxIMgcG9hdGUgZmkgZm9sb3NpdMSDIHBlbnRydSBhIGRlcGFuYSBwcm9ibGVtZSBzYXUgcGVudHJ1IGEgbW9uaXRvcml6YSBmbHV4dWwgZGUgZXhlY3XIm2llIGFsIGNvZHVsdWkuIEVzdGUgbyBwcmFjdGljxIMgY29tdW7EgyDDrm4gZGV6dm9sdGFyZWEgc29mdHdhcmUgcGVudHJ1IGEgdXJtxINyaSBwcm9ncmVzdWwgyJlpIGEgaWRlbnRpZmljYSBwdW5jdGVsZSBkZSBwcm9ibGVtxIMuIiwgImh1bms6Y29uc3Q6dmFyQDgtMjk6MTMiOiAiLSAqKkFkYXVnxIMgbyB2YXJpYWJpbMSDIGNvbnN0YW50xIMqKiDDrm4gZnVuY8ibaWUsIGNhcmUgcG9hdGUgZmkgdXRpbGl6YXTEgyBwZW50cnUgYSBzdG9jYSBvIHZhbG9hcmUgY2FyZSBudSBzZSB2YSBzY2hpbWJhIMOubiB0aW1wdWwgZXhlY3XIm2llaSBmdW5jyJtpZWkuXG4tICoqw45tYnVuxIN0xIPIm2XImXRlIGNpdGliaWxpdGF0ZWEgY29kdWx1aSoqIHByaW4gc3BlY2lmaWNhcmVhIGV4cGxpY2l0xIMgYSB2YXJpYWJpbGVsb3IgY2FyZSBudSB2b3IgZmkgbW9kaWZpY2F0ZS5cbi0gKipQcmV2aW5lIGVyb3JpIGRlIHByb2dyYW1hcmUqKiBwcmluIGFzaWd1cmFyZWEgY8SDIHZhcmlhYmlsYSBudSB2YSBmaSBzdXByYXNjcmlzxIMgYWNjaWRlbnRhbC5cbi0gKipPcHRpbWl6ZWF6xIMgcGVyZm9ybWFuyJthKiogw65uIGFudW1pdGUgY2F6dXJpLCBkZW9hcmVjZSBtb3RvcnVsIEphdmFTY3JpcHQgcG9hdGUgZmFjZSBvcHRpbWl6xINyaSBwZW50cnUgdmFyaWFiaWxlIGNvbnN0YW50ZS4iLCAiaHVuazpjb25zdDp2YXJAOC0yOToxNSI6ICItICoqQWRhdWfEgyBvIHZhcmlhYmlsxIMgY29uc3RhbnTEgyoqIMOubiBmdW5jyJtpZSwgY2FyZSBwb2F0ZSBmaSB1dGlsaXphdMSDIHBlbnRydSBhIHN0b2NhIG8gdmFsb2FyZSBjYXJlIG51IHNlIHZhIHNjaGltYmEgw65uIHRpbXB1bCBleGVjdcibaWVpIGZ1bmPIm2llaS5cbi0gKirDjm1idW7Eg3TEg8ibZciZdGUgY2l0aWJpbGl0YXRlYSBjb2R1bHVpKiogcHJpbiBzcGVjaWZpY2FyZWEgZXhwbGljaXTEgyBhIHZhcmlhYmlsZWxvciBjYXJlIG51IHZvciBmaSBtb2RpZmljYXRlLlxuLSAqKlByZXZpbmUgZXJvcmkgZGUgcHJvZ3JhbWFyZSoqIHByaW4gYXNpZ3VyYXJlYSBjxIMgdmFyaWFiaWxhIG51IHZhIGZpIHN1cHJhc2NyaXPEgyBhY2NpZGVudGFsLlxuLSAqKk9wdGltaXplYXrEgyBwZXJmb3JtYW7Im2EqKiBwcmluIHV0aWxpemFyZWEgdmFyaWFiaWxlbG9yIGNvbnN0YW50ZSwgY2FyZSBwb3QgZmkgb3B0aW1pemF0ZSBkZSBtb3RvcnVsIEphdmFTY3JpcHQuIn19LCAiYXV0b19ub3RlcyI6IHsiY29uc3Q6dmFyQDgtMjkiOiAiLSBGdW5jyJtpZSAqKnZhcioqIFs44oCTMjldXG4tIEVmZWN0ZTogbG9nYXJlL2RpYWdub3N0aWNhcmUsIGFydW5jxIMgZXJvcmkiLCAiY29uc3Q6dmFyQDEwLTE2IjogIi0gRnVuY8ibaWUgKip2YXIqKiBbMTDigJMxNl1cbi0gSGV1cmlzdGljxIM6IHBhcmUgKipwdXLEgyoqIChmxINyxIMgZWZlY3RlIHZpemliaWxlKSIsICJhcnJvdzpvcmRlckNvZmZlZUA4LTI5IjogIi0gRnVuY8ibaWUgKipvcmRlckNvZmZlZSoqIFs44oCTMjldXG4tIEVmZWN0ZTogbG9nYXJlL2RpYWdub3N0aWNhcmUsIGFydW5jxIMgZXJvcmkifSwgIm1pY3JvX2F1dG8iOiB7Imh1bms6Y29uc3Q6dmFyQDgtMjk6MSI6ICItIENvbXBsZXRhcmUgaW5jcmVtZW50YWzEgzogIiwgImh1bms6Y29uc3Q6dmFyQDEwLTE2OjEiOiAiLSBDb21wbGV0YXJlIGluY3JlbWVudGFsxIM6ICIsICJodW5rOmNvbnN0OnZhckA4LTI5OjIiOiAiLSBEZWZpbmltICoqb3JkZXJDb2ZmZWUqKiBjYSBmdW5jyJtpZSBzxINnZWF0xIMgY3UgcGFyYW1ldHJpOiBgdHlwZSlgXG4tIEludHJvZHVjZW0gdmFyaWFiaWxhICoqb3JkZXJDb2ZmZWUqKiDihpAgKHR5cGUpID0+IHsiLCAiaHVuazpjb25zdDp2YXJAMTAtMTY6MiI6ICItIEludHJvZHVjZW0gdmFyaWFiaWxhICoqdHlwZXMqKiDihpAgeyIsICJodW5rOmNvbnN0OnZhckAxMC0xNjozIjogIi0gQ29tcGxldGFyZSBpbmNyZW1lbnRhbMSDOiAiLCAiaHVuazpjb25zdDp2YXJAMTAtMTY6NCI6ICItIENvbXBsZXRhcmUgaW5jcmVtZW50YWzEgzogU1BFQ0lBTDogJ1NQRUNJQUwnLCIsICJodW5rOmNvbnN0OnZhckAxMC0xNjo1IjogIi0gQ29tcGxldGFyZSBpbmNyZW1lbnRhbMSDOiBSRUdVTEFSOiAnUkVHVUxBUiciLCAiaHVuazpjb25zdDp2YXJAMTAtMTY6NiI6ICItIENvbXBsZXRhcmUgaW5jcmVtZW50YWzEgzogIiwgImh1bms6Y29uc3Q6dmFyQDEwLTE2OjciOiAiLSBDb21wbGV0YXJlIGluY3JlbWVudGFsxIM6IH0iLCAiaHVuazpjb25zdDp2YXJAOC0yOTozIjogIi0gQ29tcGxldGFyZSBpbmNyZW1lbnRhbMSDOiAiLCAiaHVuazpjb25zdDp2YXJAOC0yOTo0IjogIi0gSW50cm9kdWNlbSB1biAqKmlmKiogY3UgY29uZGnIm2lhIGBPYmplY3QudmFsdWVzKHR5cGVzYCIsICJodW5rOmNvbnN0OnZhckA4LTI5OjUiOiAiLSBDb21wbGV0YXJlIGluY3JlbWVudGFsxIM6ICIsICJodW5rOmNvbnN0OnZhckA4LTI5OjYiOiAiLSBDb21wbGV0YXJlIGluY3JlbWVudGFsxIM6IHRocm93IG5ldyBFcnJvcignY29mZmVlIGVycm9yJykiLCAiaHVuazpjb25zdDp2YXJAOC0yOTo3IjogIi0gQ29tcGxldGFyZSBpbmNyZW1lbnRhbMSDOiAiLCAiaHVuazpjb25zdDp2YXJAOC0yOTo4IjogIi0gQ29tcGxldGFyZSBpbmNyZW1lbnRhbMSDOiB9IiwgImh1bms6Y29uc3Q6dmFyQDgtMjk6OSI6ICItIEludHJvZHVjZW0gdW4gKippZioqIiwgImh1bms6Y29uc3Q6dmFyQDgtMjk6MTAiOiAiLSBDb21wbGV0YXJlIGluY3JlbWVudGFsxIM6ICIsICJodW5rOmNvbnN0OnZhckA4LTI5OjExIjogIi0gSW5zZXLEg20gKipsb2dhcmUqKiAoZGlhZ25vc3RpYykgY3UgYGNvbnNvbGUuKmAuIiwgImh1bms6Y29uc3Q6dmFyQDgtMjk6MTIiOiAiLSBDb21wbGV0YXJlIGluY3JlbWVudGFsxIM6ICIsICJodW5rOmNvbnN0OnZhckA4LTI5OjEzIjogIi0gQ29tcGxldGFyZSBpbmNyZW1lbnRhbMSDOiB9IiwgImh1bms6Y29uc3Q6dmFyQDgtMjk6MTQiOiAiLSBDb21wbGV0YXJlIGluY3JlbWVudGFsxIM6ICIsICJodW5rOmNvbnN0OnZhckA4LTI5OjE1IjogIi0gQ29tcGxldGFyZSBpbmNyZW1lbnRhbMSDOiB9In19</script>

<script>
function b64ToUtf8(b64){
  const bin = atob(b64.trim());
  const bytes = new Uint8Array(bin.length);
  for (let i=0;i<bin.length;i++) bytes[i] = bin.charCodeAt(i);
  return new TextDecoder('utf-8').decode(bytes);
}
const text = b64ToUtf8(document.getElementById('payload_b64').textContent);
const data = JSON.parse(text);
const FNAME = 'S4v5orderCoffee.js';

let frames=data.frames, patches=data.patches, steps=data.steps, style=data.style;
let llmBlock = (data.llm && data.llm.notes) ? data.llm.notes : {};
let llmMicro = (data.llm && data.llm.micro) ? data.llm.micro : {};
let autoBlock = data.auto_notes || {};
let autoMicro = data.micro_auto || {};

let cps=0.02, playing=false, frameIdx=0, hunkIdx=0, cursor=0;
let uTok=0, uChar=0;   // acumulatoare reale
let cooldown=0;
let lines=[]; let tokMap={}; let focusStart=1, focusEnd=0, scrollTarget=null;
let curBlkId="", curHId="";
const codebox=document.getElementById('codebox'), meta=document.getElementById('meta'),
      title=document.getElementById('title'), rat=document.getElementById('rat'),
      prog=document.getElementById('prog'), speed=document.getElementById('speed'),
      speedv=document.getElementById('speedv'), gran=document.getElementById('gran'),
      keyBlock=document.getElementById('keyBlock'), keyMicro=document.getElementById('keyMicro'),
      noteBlock=document.getElementById('noteBlock'), noteMicro=document.getElementById('noteMicro'),
      srcBlockAuto=document.getElementById('srcBlockAuto'), srcBlockLLM=document.getElementById('srcBlockLLM'),
      srcMicroAuto=document.getElementById('srcMicroAuto'), srcMicroLLM=document.getElementById('srcMicroLLM'),
      lockAll=document.getElementById('lockAll'), hold=document.getElementById('hold'), holdV=document.getElementById('holdV'),
      toggleDim=document.getElementById('toggleDim'), asciiFallback=document.getElementById('asciiFallback');

(function(){ const w = localStorage.getItem('notesW'); if(w){ document.documentElement.style.setProperty('--notesW', w); } })();
(function(){
  const sp = document.getElementById('splitter'); let drag=false;
  function onMove(e){ if(!drag) return; const wrap=document.querySelector('.wrap').getBoundingClientRect();
    const x=(e.touches&&e.touches[0])?e.touches[0].clientX:e.clientX; let newW=Math.round(wrap.right-x);
    newW=Math.max(360,Math.min(900,newW)); document.documentElement.style.setProperty('--notesW',newW+'px'); }
  function stop(){ if(!drag) return; drag=false; const w=getComputedStyle(document.documentElement).getPropertyValue('--notesW').trim();
    try{ localStorage.setItem('notesW',w);}catch(_){}
    document.removeEventListener('mousemove',onMove); document.removeEventListener('touchmove',onMove);
    document.removeEventListener('mouseup',stop); document.removeEventListener('touchend',stop); }
  function start(e){ e.preventDefault(); drag=true; document.addEventListener('mousemove',onMove);
    document.addEventListener('touchmove',onMove,{passive:false}); document.addEventListener('mouseup',stop); document.addEventListener('touchend',stop); }
  sp.addEventListener('mousedown',start); sp.addEventListener('touchstart',start,{passive:false});
  sp.addEventListener('dblclick',()=>{ const cur=parseInt(getComputedStyle(document.documentElement).getPropertyValue('--notesW'));
    const target=(cur<600?760:520); document.documentElement.style.setProperty('--notesW',target+'px'); localStorage.setItem('notesW',target+'px'); });
})();

let dimOn=true; toggleDim.onchange=()=>{ dimOn=toggleDim.checked; render(); };
let holdSec=parseFloat(hold.value); hold.oninput=()=>{ holdSec=parseFloat(hold.value); holdV.textContent=holdSec.toFixed(1)+"s"; };

srcBlockLLM.checked = Object.keys(llmBlock).length>0; srcBlockAuto.checked = !srcBlockLLM.checked;
srcMicroLLM.checked = Object.keys(llmMicro).length>0; srcMicroAuto.checked = !srcMicroLLM.checked;

function _ascii(s){
  try { return s.normalize('NFD').replace(/\p{Diacritic}/gu,''); } catch(_){ return s; }
}
function _renderNote(targetEl, text){
  targetEl.innerHTML = asciiFallback.checked ? _ascii(text) : text;
}

function mapBlock(){ return (srcBlockLLM.checked && Object.keys(llmBlock).length>0) ? llmBlock : autoBlock; }
function mapMicro(){ return (srcMicroLLM.checked && Object.keys(llmMicro).length>0) ? llmMicro : autoMicro; }
asciiFallback.onchange = ()=>{ if(curBlkId){ showBlock(curBlkId, true); } if(curHId){ showMicro(curHId, true); } };
srcBlockAuto.onchange = srcBlockLLM.onchange = ()=>{ if(curBlkId){ showBlock(curBlkId, true); } };
srcMicroAuto.onchange = srcMicroLLM.onchange = ()=>{ if(curHId){ showMicro(curHId, true); } };

function esc(s){ s = (s==null ? '' : String(s)); return s.replace(/[&<>]/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;'}[c])); }
function render(){
  let html="";
  for(let i=0;i<lines.length;i++){
    const ln=i+1, dim = dimOn && (focusEnd>=focusStart) && (ln<focusStart || ln>focusEnd);
    const cls = dim? 'line dim':'line';
    const t = tokMap[i];
    const L = (lines[i]==null ? '' : String(lines[i]));
    if(t){
      const s=Math.max(0,Math.min(L.length,t.s));
      const e=Math.max(s,Math.min(L.length,t.e));
      html += `<div class="${cls}" data-idx="${i}">${esc(L.slice(0,s))}<span class="tok">${esc(L.slice(s,e))}</span>${esc(L.slice(e))}</div>`;
    } else {
      html += `<div class="${cls}" data-idx="${i}">${esc(L)}</div>`;
    }
  }
  codebox.innerHTML = html;
  if(scrollTarget !== null){
    const el = codebox.querySelector(`.line[data-idx="${scrollTarget-1}"]`);
    if(el){ el.scrollIntoView({block:'center'}); }
    scrollTarget = null;
  }
  prog.style.width = ((frameIdx)/(frames.length-1)*100).toFixed(1)+"%";
}

function updateMeta(){
  meta.textContent = `Stil detectat: ${style} · Pași: ${steps.length}`;
  const sIdx=Math.min(frameIdx, Math.max(0,steps.length-1));
  if(steps[sIdx]){ title.textContent = `${sIdx+1}/${steps.length} — ${steps[sIdx].title}`; rat.textContent = steps[sIdx].rationale; }
  document.title = `${sIdx+1}/${steps.length} — ${FNAME}`;
  const s = (cps < 1 ? cps.toFixed(2) : cps.toFixed(1));
  speedv.textContent = s + (gran.value==='token' ? " tps" : " cps");
}

function resetFrame(i){
  frameIdx=i; hunkIdx=0; cursor=0; cooldown=0; tokMap={}; uTok=0; uChar=0; focusStart=1; focusEnd=0; scrollTarget=null;
  lines = (frames[i] ? frames[i].split('\n') : []);
  if(lines.length && lines[lines.length-1]==="") lines.pop();
  render(); updateMeta();
}
function applyDelete(s,e){ lines.splice(s,e-s); }

function isWS(ch){ return ch===' ' || ch==='\t' || ch==='\r' || ch==='\n'; }
function tokeniseJS(src){
  const toks=[]; const n=src.length; let i=0;
  const push=(s,e,end)=>toks.push({tStart:s,tEnd:e,end:end});
  while(i<n){
    if(isWS(src[i])){ let j=i; while(j<n && isWS(src[j])) j++; if(toks.length) toks[toks.length-1].end = j; i=j; continue; }
    if(src[i]=='/' && i+1<n){
      if(src[i+1]=='/'){ let j=i+2; while(j<n && src[j] !== '\n') j++; let endTok=(j<n && src[j]=='\n')?j+1:j; push(i,j,endTok); i=endTok; continue; }
      if(src[i+1]=='*'){ let j=i+2; while(j<n && !(src[j]=='*' && j+1<n && src[j+1]=='/')) j++; j=Math.min(n,j+2); push(i,j,j); i=j; continue; }
    }
    if(src[i]=="'" || src[i]=='"' || src[i]=='`'){
      const q=src[i]; let j=i+1; const tpl=(q=='`'); let depth=0;
      while(j<n){
        const ch=src[j];
        if(ch=='\\'){ j+=2; continue; }
        if(tpl && ch=='$' && j+1<n && src[j+1]=='{'){
          j+=2; depth=1;
          while(j<n && depth>0){
            const c2=src[j];
            if(c2=='\\'){ j+=2; continue; }
            if(c2=='{') depth++; else if(c2=='}') depth--; j++;
          }
          continue;
        }
        if(ch==q){ j++; break; }
        j++;
      }
      let k=j; while(k<n && isWS(src[k])) k++;
      push(i,j,k); i=k; continue;
    }
    let m;
    if(m = src.slice(i).match(/^(0x[0-9A-Fa-f]+|0b[01]+|0o[0-7]+|(?:\d*\.\d+|\d+\.?\d*)(?:[eE][+-]?\d+)?)/)){
      let j=i+m[0].length; let k=j; while(k<n && isWS(src[k])) k++; push(i,j,k); i=k; continue;
    }
    if(m = src.slice(i).match(/^[$A-Za-z_][$\w]*/)){
      let j=i+m[0].length; if(j<n && src[j]=='('){ j++; } let k=j; while(k<n && isWS(src[k])) k++; push(i,j,k); i=k; continue;
    }
    if(m = src.slice(i).match(/^(===|!==|>>>=|>>>|>>=|<<=|\+\+|--|=>|<=|>=|&&|\|\||\.\.\.|[+\-*/%&|^]=|[=!<>]=)/)){
      let j=i+m[0].length; let k=j; while(k<n && isWS(src[k])) k++; push(i,j,k); i=k; continue;
    }
    if(m = src.slice(i).match(/^([{}()[\],.;:?])/)){
      let j=i+m[0].length; let k=j; while(k<n && isWS(src[k])) k++; push(i,j,k); i=k; continue;
    }
    let j=i+1; let k=j; while(k<n && isWS(src[k])) k++; push(i,j,k); i=k;
  }
  return toks;
}

function showBlock(key, force=false){ const m = (srcBlockLLM.checked && Object.keys(llmBlock).length>0) ? llmBlock : autoBlock; if(!m[key]) return; curBlkId=key; keyBlock.textContent = "Bloc: " + key; _renderNote(noteBlock, m[key]); }
function showMicro(key, force=false){ const m = (srcMicroLLM.checked && Object.keys(llmMicro).length>0) ? llmMicro : autoMicro; if(!m[key]) return; curHId = key; keyMicro.textContent = "Etapă: " + key; _renderNote(noteMicro, m[key]); }

let lastBlockTs=0;
function maybeShowNotes(h){
  if(lockAll.checked) return;
  const blkKey = h.blkId || `${h.kind||'func'}:${h.name||''}@${h.focusStart||0}-${h.focusEnd||0}`;
  const hKey   = h.hId || "";
  const mapB = (srcBlockLLM.checked && Object.keys(llmBlock).length>0) ? llmBlock : autoBlock;
  const mapM = (srcMicroLLM.checked && Object.keys(llmMicro).length>0) ? llmMicro : autoMicro;
  if(!curBlkId || curBlkId.split('@')[0] !== blkKey.split('@')[0]){ if(mapB[blkKey]){ showBlock(blkKey, true); } lastBlockTs = performance.now();
  }else{ const now=performance.now(); if(now - lastBlockTs >= holdSec*1000){ if(mapB[blkKey]){ showBlock(blkKey); lastBlockTs=now; } } }
  if(hKey && mapM[hKey]){ showMicro(hKey, true); }
}

function tick(dt){
  if(!playing) return;
  if(cooldown>0){ cooldown=Math.max(0,cooldown-dt); return; }
  if(frameIdx >= patches.length){ playing=false; btnPlay.textContent="▶︎ Play"; return; }
  const step=patches[frameIdx]||[];
  if(step.length===0){ nextUnit(); return; }
  if(hunkIdx >= step.length){ nextUnit(); return; }
  const h=step[hunkIdx]; if(!h){ nextUnit(); return; }
  if(h.op==='delete'){ applyDelete(h.start,h.end); tokMap={}; render(); nextUnit(); return; }

  if(h.op==='insert'){
    if(cursor===0){
      const N=h.text.split('\n').length; lines.splice(h.start,0,...Array(N).fill(""));
      if(h.focusStart && h.focusEnd){ focusStart=h.focusStart; focusEnd=h.focusEnd; }
      if(h.scrollLine){ scrollTarget=h.scrollLine; }
      maybeShowNotes(h);
      if(!h._chunks) h._chunks = tokeniseJS(h.text);
      h._tokIdx = 0;
    }
    if(gran.value==='token'){
      uTok += cps*dt;
      let advanced=false;
      while(uTok>=1 && h._tokIdx < h._chunks.length){
        const t = h._chunks[h._tokIdx];
        const end = t.end;
        const full = h.text.slice(0,end).split('\n');
        const N = h.text.split('\n').length;
        for(let i=0;i<N;i++){ lines[h.start+i] = (i<full.length ? full[i] : ""); }
        tokMap={};
        const linesBefore=h.text.slice(0,t.tStart).split('\n');
        let baseLine=h.start+(linesBefore.length-1), baseCol=linesBefore[linesBefore.length-1].length;
        let lenTok = t.tEnd - t.tStart;
        tokMap[baseLine] = {s:baseCol, e:baseCol+lenTok};
        cursor = end;
        h._tokIdx++; uTok -= 1; advanced=true;
      }
      render();
      if(h._tokIdx >= h._chunks.length){ nextUnit(); }
      else if(!advanced){ return; }
      return;
    } else {
      uChar += cps*dt;
      const stepAmt = Math.floor(uChar);
      if(stepAmt <= 0){ return; }
      uChar -= stepAmt;
      const end = Math.min(h.text.length, cursor + stepAmt);
      const full = h.text.slice(0,end).split('\n');
      const N = h.text.split('\n').length;
      for(let i=0;i<N;i++){ lines[h.start+i] = (i<full.length ? full[i] : ""); }
      tokMap={};
      const already=h.text.slice(0,cursor), delta=h.text.slice(cursor,end);
      const linesBefore=already.split('\n');
      let baseLine=h.start+(linesBefore.length-1), baseCol=linesBefore[linesBefore.length-1].length;
      tokMap[baseLine] = {s:baseCol, e:baseCol+delta.length};
      cursor=end; render();
      if(cursor>=h.text.length){ nextUnit(); }
      return;
    }
  }
}

function nextUnit(){ cooldown=0.20;
  const step=patches[frameIdx]||[];
  if(hunkIdx < step.length-1){ hunkIdx++; cursor=0; tokMap={}; uTok=0; uChar=0; return true; }
  if(hunkIdx < step.length){ hunkIdx++; cursor=0; tokMap={}; uTok=0; uChar=0; }
  if(frameIdx < frames.length-1){
    frameIdx++; hunkIdx=0; cursor=0; tokMap={}; uTok=0; uChar=0;
    while(frameIdx < patches.length && (!patches[frameIdx] || patches[frameIdx].length===0)){ frameIdx++; }
    if(frameIdx >= frames.length){ frameIdx=frames.length-1; render(); updateMeta(); return false; }
    lines = (frames[frameIdx] ? frames[frameIdx].split('\n') : []);
    if(lines.length && lines[lines.length-1]==="") lines.pop();
    render(); updateMeta(); return true;
  } return false;
}

let lastTs=null; function raf(ts){ if(lastTs===null) lastTs=ts; const dt=Math.max(0,(ts-lastTs)/1000.0); lastTs=ts; tick(dt); requestAnimationFrame(raf);} requestAnimationFrame(raf);
const btnPlay=document.getElementById('btnPlay'), btnPrev=document.getElementById('btnPrev'), btnNext=document.getElementById('btnNext');
btnPlay.onclick=()=>{ playing=!playing; btnPlay.textContent=playing?"❚❚ Pause":"▶︎ Play"; if(playing){ while(frameIdx < patches.length && (!patches[frameIdx] || patches[frameIdx].length===0)){ frameIdx++; } } };
btnPrev.onclick=()=>{ playing=false; btnPlay.textContent="▶︎ Play"; resetFrame(Math.max(0,frameIdx-1)); };
btnNext.onclick=()=>{ playing=false; btnPlay.textContent="▶︎ Play"; resetFrame(Math.min(frames.length-1,frameIdx+1)); };

function updateSpeedLabel(){
  const s = (cps < 1 ? cps.toFixed(2) : cps.toFixed(1));
  speedv.textContent = s + (gran.value==='token' ? ' tps' : ' cps');
}
speed.oninput=e=>{ cps=parseFloat(speed.value); updateSpeedLabel(); };
gran.onchange=e=>{
  if(gran.value==='token'){ speed.min='0.01'; speed.max='5';  speed.step='0.01'; if(cps<0.01||cps>5){ cps=0.02; speed.value='0.02'; } }
  else                    { speed.min='0.5';  speed.max='60'; speed.step='0.5';  if(cps<0.5){ cps=5;    speed.value='5';    } }
  updateSpeedLabel();
};
resetFrame(0);
</script>
</body></html>